(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{149:(e,t,a)=>{Promise.resolve().then(a.bind(a,8133))},285:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var s=a(5155),r=a(2115),i=a(4624),l=a(2085),n=a(9434);let o=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:c=!1,...d}=e,m=c?i.DX:"button";return(0,s.jsx)(m,{className:(0,n.cn)(o({variant:r,size:l,className:a})),ref:t,...d})});c.displayName="Button"},1029:(e,t,a)=>{"use strict";a.d(t,{J:()=>m});var s=a(5155),r=a(2115);a(7650);var i=a(4624),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,i.TL)(`Primitive.${t}`),l=r.forwardRef((e,r)=>{let{asChild:i,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i?a:t,{...l,ref:r})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),n=r.forwardRef((e,t)=>(0,s.jsx)(l.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var o=a(2085),c=a(9434);let d=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n,{ref:t,className:(0,c.cn)(d(),a),...r})});m.displayName=n.displayName},2523:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var s=a(5155),r=a(2115),i=a(9434);let l=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});l.displayName="Input"},2657:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4616:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5169:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},6695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>l,aR:()=>n});var s=a(5155),r=a(2115),i=a(9434);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},6932:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},7281:(e,t,a)=>{"use strict";async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=window.location.origin,s="".concat(a).concat(e.startsWith("/")?e:"/".concat(e)),r={headers:{"Content-Type":"application/json"},...t};try{let e=await fetch(s,r);if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.error||t.message||"HTTP ".concat(e.status,": ").concat(e.statusText))}return await e.json()}catch(e){throw e}}a.d(t,{FH:()=>r});let r={company:{getInfo:async()=>s("/api/company")},vehicles:{getAll:async e=>s(e?"/api/vehicles?type=".concat(encodeURIComponent(e)):"/api/vehicles"),getById:async e=>s("/api/vehicles/".concat(e))},bookings:{create:async e=>s("/api/bookings",{method:"POST",body:JSON.stringify(e)}),getById:async e=>s("/api/bookings/".concat(e)),async getAll(e){let t=new URLSearchParams;(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString());let a=t.toString();return s(a?"/api/bookings?".concat(a):"/api/bookings")}},admin:{login:async e=>s("/api/admin/login",{method:"POST",body:JSON.stringify(e)}),async getStats(){let e=localStorage.getItem("adminToken");return s("/api/admin/stats",{headers:{Authorization:"Bearer ".concat(e)}})},async getBookings(e){let t=localStorage.getItem("adminToken"),a=new URLSearchParams;(null==e?void 0:e.status)&&a.append("status",e.status),(null==e?void 0:e.page)&&a.append("page",e.page.toString()),(null==e?void 0:e.limit)&&a.append("limit",e.limit.toString());let r=a.toString();return s(r?"/api/admin/bookings?".concat(r):"/api/admin/bookings",{headers:{Authorization:"Bearer ".concat(t)}})},async getPassengers(e){let t=localStorage.getItem("adminToken"),a=new URLSearchParams;(null==e?void 0:e.search)&&a.append("search",e.search),(null==e?void 0:e.verified)!==void 0&&a.append("verified",e.verified.toString()),(null==e?void 0:e.page)&&a.append("page",e.page.toString()),(null==e?void 0:e.limit)&&a.append("limit",e.limit.toString());let r=a.toString();return s(r?"/api/admin/passengers?".concat(r):"/api/admin/passengers",{headers:{Authorization:"Bearer ".concat(t)}})},async getBookingById(e){let t=localStorage.getItem("adminToken");return s("/api/admin/bookings/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})},async updateBooking(e,t){let a=localStorage.getItem("adminToken");return s("/api/admin/bookings/".concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(t)})},async getVehicles(){let e=localStorage.getItem("adminToken");return s("/api/admin/vehicles",{headers:{Authorization:"Bearer ".concat(e)}})},async createVehicle(e){let t=localStorage.getItem("adminToken");return s("/api/admin/vehicles",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:e})},async updateVehicle(e,t){let a=localStorage.getItem("adminToken");return s("/api/admin/vehicles/".concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(a)},body:t})},async deleteVehicle(e){let t=localStorage.getItem("adminToken");return s("/api/admin/vehicles/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})},async setPrimaryPhoto(e,t){let a=localStorage.getItem("adminToken");return s("/api/admin/vehicles/".concat(e,"/photos/").concat(t,"/primary"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(a)}})},async deletePhoto(e){let t=localStorage.getItem("adminToken");return s("/api/admin/photos/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})}}}},7924:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},7930:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},8133:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P,runtime:()=>k});var s=a(5155),r=a(2115),i=a(5695),l=a(285),n=a(6695),o=a(2523),c=a(1029),d=a(5169),m=a(4616),h=a(7924),p=a(6932),u=a(7930),x=a(9946);let g=(0,x.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var y=a(8749),f=a(2657);let v=(0,x.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var b=a(6874),j=a.n(b),N=a(3568),w=a(6766),A=a(7281);let k="edge";function P(){let e=(0,i.useRouter)(),[t,a]=(0,r.useState)([]),[x,b]=(0,r.useState)(!0),[k,P]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null),[I,T]=(0,r.useState)(""),[B,D]=(0,r.useState)("all"),[M,z]=(0,r.useState)(!1),[F,V]=(0,r.useState)({name:"",type:"",capacity:4,pricePerDay:0,description:"",features:"",isAvailable:!0,photos:[],primaryImageIndex:0}),R=[{id:"sedan",name:"4-Seat Sedan",capacity:4},{id:"noah",name:"7-Seat Noah",capacity:7},{id:"hiace",name:"12-Seat Hiace",capacity:12}];(0,r.useEffect)(()=>{if(!localStorage.getItem("adminToken"))return void e.push("/admin/login");E()},[e]);let E=async()=>{try{let e=((await A.FH.admin.getVehicles()).vehicles||[]).map(e=>({...e,features:e.features||[]}));a(e)}catch(e){console.error("Error fetching vehicles:",e),N.Ay.error("Failed to load vehicles")}finally{b(!1)}},L=(e,t)=>{V(a=>({...a,[e]:t}))},H=e=>{V(t=>({...t,primaryImageIndex:e}))},J=async e=>{if(e.preventDefault(),!F.name.trim())return void N.Ay.error("Vehicle name is required");if(!F.type)return void N.Ay.error("Vehicle type is required");if(!F.pricePerDay||F.pricePerDay<=0)return void N.Ay.error("Valid price per day is required");if(!F.description.trim())return void N.Ay.error("Vehicle description is required");z(!0);try{let e=new FormData;e.append("name",F.name.trim()),e.append("type",F.type),e.append("capacity",F.capacity.toString()),e.append("pricePerDay",F.pricePerDay.toString()),e.append("description",F.description.trim()),e.append("features",F.features.trim()),e.append("isAvailable",F.isAvailable.toString()),F.photos.forEach((t,a)=>{e.append("photo_".concat(a),t)});let t=F.primaryImageIndex;C&&0===F.photos.length&&F.existingPhotos&&(t=F.primaryImageIndex),e.append("primaryImageIndex",t.toString()),C?await A.FH.admin.updateVehicle(C.id,e)&&(N.Ay.success("Vehicle updated successfully"),P(!1),S(null),W(),E()):await A.FH.admin.createVehicle(e)&&(N.Ay.success("Vehicle added successfully"),P(!1),W(),E())}catch(t){console.error("Error saving vehicle:",t);let e=t instanceof Error?t.message:"Failed to save vehicle";N.Ay.error(e)}finally{z(!1)}},q=async e=>{if(confirm("Are you sure you want to delete this vehicle?"))try{let t=localStorage.getItem("adminToken");(await fetch("/api/admin/vehicles/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})).ok?(N.Ay.success("Vehicle deleted successfully"),E()):N.Ay.error("Failed to delete vehicle")}catch(e){console.error("Error deleting vehicle:",e),N.Ay.error("Failed to delete vehicle")}},U=async(e,t)=>{try{let a=localStorage.getItem("adminToken");(await fetch("/api/admin/vehicles/".concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({isAvailable:!t})})).ok?(N.Ay.success("Vehicle ".concat(t?"deactivated":"activated"," successfully")),E()):N.Ay.error("Failed to update vehicle status")}catch(e){console.error("Error updating vehicle status:",e),N.Ay.error("Failed to update vehicle status")}},W=()=>{V({name:"",type:"",capacity:4,pricePerDay:0,description:"",features:"",isAvailable:!0,photos:[],primaryImageIndex:0,existingPhotos:void 0})},$=t.filter(e=>{let t=e.name.toLowerCase().includes(I.toLowerCase())||e.type.toLowerCase().includes(I.toLowerCase()),a="all"===B||e.type===B;return t&&a});return x?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading vehicles..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"container-mobile py-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,s.jsx)(j(),{href:"/admin/dashboard",children:(0,s.jsxs)(l.$,{variant:"outline",size:"sm",className:"btn-mobile",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Back"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Vehicle Management"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage your fleet of vehicles"})]})]}),(0,s.jsxs)(l.$,{onClick:()=>{P(!0),S(null),W()},className:"bg-primary-600 hover:bg-primary-700 btn-mobile w-full sm:w-auto",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Add Vehicle"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Add"})]})]})})}),(0,s.jsxs)("div",{className:"container-mobile py-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)(o.p,{placeholder:"Search vehicles...",value:I,onChange:e=>T(e.target.value),className:"pl-10"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsxs)("select",{value:B,onChange:e=>D(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,s.jsx)("option",{value:"all",children:"All Types"}),R.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),k&&(0,s.jsxs)(n.Zp,{className:"mb-6",children:[(0,s.jsxs)(n.aR,{className:"p-4 sm:p-6",children:[(0,s.jsxs)(n.ZB,{className:"flex items-center text-lg sm:text-xl",children:[(0,s.jsx)(u.A,{className:"h-5 w-5 mr-2"}),C?"Edit Vehicle":"Add New Vehicle"]}),(0,s.jsx)(n.BT,{className:"text-sm sm:text-base",children:C?"Update vehicle information":"Add a new vehicle to your fleet"})]}),(0,s.jsx)(n.Wu,{className:"p-4 sm:p-6",children:(0,s.jsxs)("form",{onSubmit:J,className:"space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"name",children:"Vehicle Name"}),(0,s.jsx)(o.p,{id:"name",value:F.name,onChange:e=>L("name",e.target.value),placeholder:"e.g., Toyota Camry 2023",className:"btn-mobile",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"type",children:"Vehicle Type"}),(0,s.jsxs)("select",{id:"type",value:F.type,onChange:e=>(e=>{let t=R.find(t=>t.id===e);V(a=>({...a,type:e,capacity:(null==t?void 0:t.capacity)||4}))})(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 btn-mobile",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select type"}),R.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"capacity",children:"Capacity"}),(0,s.jsx)(o.p,{id:"capacity",type:"number",inputMode:"numeric",pattern:"[0-9]*",value:F.capacity||"",onChange:e=>{let t=e.target.value,a=""===t?4:parseInt(t);L("capacity",isNaN(a)?4:a)},min:"1",max:"20",placeholder:"Enter capacity",className:"btn-mobile",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"pricePerDay",children:"Price per Day (BDT)"}),(0,s.jsx)(o.p,{id:"pricePerDay",type:"number",inputMode:"numeric",pattern:"[0-9]*",value:F.pricePerDay||"",onChange:e=>{let t=e.target.value,a=""===t?0:parseFloat(t);L("pricePerDay",isNaN(a)?0:a)},min:"0",step:"0.01",placeholder:"Enter daily rental price",className:"btn-mobile",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"description",children:"Description"}),(0,s.jsx)("textarea",{id:"description",value:F.description,onChange:e=>L("description",e.target.value),placeholder:"Describe the vehicle features, condition, etc.",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 btn-mobile",rows:3,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.J,{htmlFor:"features",children:"Features (comma-separated)"}),(0,s.jsx)(o.p,{id:"features",value:F.features,onChange:e=>L("features",e.target.value),placeholder:"e.g., AC, GPS, Bluetooth, Leather Seats",className:"btn-mobile"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(c.J,{htmlFor:"photos",className:"text-base font-semibold text-gray-900",children:["Vehicle Photos ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-4 sm:p-6 text-center hover:border-gray-400 transition-colors",children:[(0,s.jsx)(o.p,{id:"photos",type:"file",multiple:!0,accept:"image/*",onChange:e=>{let t=Array.from(e.target.files||[]),a=[],s=["image/jpeg","image/jpg","image/png","image/webp"];for(let e of t){if(!s.includes(e.type)){N.Ay.error("Invalid file type: ".concat(e.name,". Please use JPEG, PNG, or WebP images."));continue}if(e.size>5242880){N.Ay.error("File too large: ".concat(e.name,". Please use images under 5MB."));continue}a.push(e)}a.length>0?(V(e=>({...e,photos:a,primaryImageIndex:0})),a.length!==t.length&&N.Ay.error("Only ".concat(a.length," of ").concat(t.length," files were valid and added."))):t.length>0&&N.Ay.error("No valid image files were selected.")},className:"hidden",disabled:M}),(0,s.jsx)("label",{htmlFor:"photos",className:"cursor-pointer ".concat(M?"pointer-events-none opacity-50":""),children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,s.jsx)("p",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:M?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing photos..."]}):F.photos.length>0?"".concat(F.photos.length," photo(s) selected"):"Tap to upload photos"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-500 mb-4",children:"Upload up to 10 images (JPEG, PNG, WebP)"}),(0,s.jsx)(l.$,{type:"button",variant:"outline",className:"px-4 sm:px-6 py-2 btn-mobile",children:"Choose Photos"})]})})]}),F.photos.length>0&&(0,s.jsxs)("p",{className:"text-sm text-green-600 mt-2 flex items-center",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),F.photos.length," photo(s) ready to upload"]}),C&&F.existingPhotos&&F.existingPhotos.length>0&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(c.J,{className:"text-base font-semibold text-gray-900",children:"Existing Photos"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[F.existingPhotos.length," existing photo(s)"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4",children:F.existingPhotos.map((e,t)=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsxs)("div",{className:"relative border-2 rounded-lg overflow-hidden cursor-pointer transition-all duration-200 ".concat(F.primaryImageIndex===t&&0===F.photos.length?"border-blue-500 ring-4 ring-blue-100 shadow-lg":"border-gray-200 hover:border-blue-300 hover:shadow-md"),children:[(0,s.jsx)(w.default,{src:e.url,alt:e.alt,width:150,height:150,className:"w-full h-32 object-cover",onClick:()=>{0===F.photos.length&&H(t)}}),F.primaryImageIndex===t&&0===F.photos.length&&(0,s.jsxs)("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-semibold shadow-md",children:[(0,s.jsx)("svg",{className:"w-3 h-3 inline mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Primary"]}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center",children:(0,s.jsx)("button",{type:"button",onClick:()=>{0===F.photos.length&&H(t)},className:"opacity-0 group-hover:opacity-100 bg-white text-gray-800 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:F.primaryImageIndex===t&&0===F.photos.length?"✓ Primary":"Set Primary"})}),(0,s.jsx)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full",children:t+1})]}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-2 text-center truncate font-medium",children:e.alt})]},e.id))}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-blue-100 border border-blue-300 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:"\uD83D\uDCA1 Tip:"})," Click on any existing photo to set it as primary. Upload new photos below to add more images."]})})]}),F.photos.length>0&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(c.J,{className:"text-base font-semibold text-gray-900",children:"Photo Preview & Primary Selection"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[F.photos.length," of 10 photos"]}),(0,s.jsx)("button",{type:"button",onClick:()=>V(e=>({...e,photos:[],primaryImageIndex:0})),className:"text-sm text-red-600 hover:text-red-700 font-medium px-3 py-1 rounded-md hover:bg-red-50 transition-colors",children:"Clear All"})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4",children:F.photos.map((e,t)=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsxs)("div",{className:"relative border-2 rounded-lg overflow-hidden cursor-pointer transition-all duration-200 ".concat(F.primaryImageIndex===t?"border-blue-500 ring-4 ring-blue-100 shadow-lg":"border-gray-200 hover:border-blue-300 hover:shadow-md"),children:[(0,s.jsx)(w.default,{src:URL.createObjectURL(e),alt:"Preview ".concat(t+1),width:150,height:150,className:"w-full h-32 object-cover",onClick:()=>H(t)}),F.primaryImageIndex===t&&(0,s.jsxs)("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-semibold shadow-md",children:[(0,s.jsx)("svg",{className:"w-3 h-3 inline mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Primary"]}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center",children:(0,s.jsx)("button",{type:"button",onClick:()=>H(t),className:"opacity-0 group-hover:opacity-100 bg-white text-gray-800 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:F.primaryImageIndex===t?"✓ Primary":"Set Primary"})}),(0,s.jsx)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full",children:t+1}),(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),V(e=>{let a=e.photos.filter((e,a)=>a!==t),s=e.primaryImageIndex>=a.length?Math.max(0,a.length-1):e.primaryImageIndex;return{...e,photos:a,primaryImageIndex:s}})},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-red-600 shadow-lg",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-2 text-center truncate font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-400 text-center",children:[(e.size/1024/1024).toFixed(1)," MB"]})]},t))}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:"\uD83D\uDCA1 Tip:"})," Click on any photo to set it as the primary image. The primary image will be displayed first in the vehicle gallery."]})})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"isAvailable",checked:F.isAvailable,onChange:e=>L("isAvailable",e.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,s.jsx)(c.J,{htmlFor:"isAvailable",children:"Available for booking"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4",children:[(0,s.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>{P(!1),S(null),W()},className:"btn-mobile",children:"Cancel"}),(0,s.jsx)(l.$,{type:"submit",className:"bg-primary-600 hover:bg-primary-700 btn-mobile",disabled:M,children:M?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),C?"Updating...":"Adding..."]}):C?"Update Vehicle":"Add Vehicle"})]})]})})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(e=>(0,s.jsxs)(n.Zp,{className:"overflow-hidden",children:[(0,s.jsxs)("div",{className:"relative",children:[e.photos.length>0?(0,s.jsx)(w.default,{src:e.photos[0].url,alt:e.photos[0].alt,width:400,height:250,className:"w-full h-48 object-cover",onError:e=>{let t=e.target;t.style.display="none";let a=t.nextElementSibling;a&&(a.style.display="flex")}}):null,(0,s.jsx)("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",style:{display:e.photos.length>0?"none":"flex"},children:(0,s.jsx)(u.A,{className:"h-12 w-12 text-gray-400"})}),(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isAvailable?"Available":"Unavailable"})})]}),(0,s.jsxs)(n.Wu,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-gray-900",children:e.name}),(0,s.jsx)("span",{className:"text-sm text-gray-500 capitalize",children:e.type})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"font-medium",children:"Capacity:"}),(0,s.jsxs)("span",{className:"ml-2",children:[e.capacity," passengers"]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"font-medium",children:"Price:"}),(0,s.jsxs)("span",{className:"ml-2",children:["৳",e.pricePerDay,"/day"]})]}),e.features&&e.features.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Features:"}),(0,s.jsx)("span",{className:"ml-2",children:e.features.join(", ")})]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>(e=>{S(e);let t=e.photos.findIndex(e=>e.isPrimary);V({name:e.name,type:e.type,capacity:e.capacity,pricePerDay:e.pricePerDay,description:e.description,features:e.features.join(", "),isAvailable:e.isAvailable,photos:[],primaryImageIndex:t>=0?t:0,existingPhotos:e.photos}),P(!0)})(e),children:(0,s.jsx)(g,{className:"h-4 w-4"})}),(0,s.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>U(e.id,e.isAvailable),children:e.isAvailable?(0,s.jsx)(y.A,{className:"h-4 w-4"}):(0,s.jsx)(f.A,{className:"h-4 w-4"})}),(0,s.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>q(e.id),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(v,{className:"h-4 w-4"})})]})})]})]},e.id))}),0===$.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(u.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:I||"all"!==B?"No vehicles found":"No vehicles yet"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:I||"all"!==B?"Try adjusting your search or filter criteria.":"Add your first vehicle to start managing your fleet."}),!I&&"all"===B&&(0,s.jsxs)(l.$,{onClick:()=>{P(!0),S(null),W()},className:"bg-primary-600 hover:bg-primary-700",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Add Your First Vehicle"]})]})]})]})}},8749:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9434:(e,t,a)=>{"use strict";a.d(t,{Q7:()=>n,Yq:()=>o,cn:()=>i,fU:()=>c,n4:()=>l});var s=a(2596),r=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}function l(e){let t=e.replace(/\D/g,"");return 10===t.length&&!t.startsWith("880")||11===t.length&&t.startsWith("01")?"+880".concat(t):e.startsWith("+")?e:"+".concat(t)}function n(e){let t=e.replace(/\D/g,"");return t.length>=10&&t.length<=15}function o(e){return new Intl.DateTimeFormat("en-BD",{year:"numeric",month:"long",day:"numeric"}).format(e)}function c(e){let[t,a]=e.split(":"),s=parseInt(t);return"".concat(s%12||12,":").concat(a," ").concat(s>=12?"PM":"AM")}}},e=>{e.O(0,[66,568,385,441,964,358],()=>e(e.s=149)),_N_E=e.O()}]);