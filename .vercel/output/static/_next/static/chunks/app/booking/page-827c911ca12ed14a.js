(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{285:(e,s,a)=>{"use strict";a.d(s,{$:()=>c});var t=a(5155),i=a(2115),n=a(4624),r=a(2085),l=a(9434);let o=(0,r.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,s)=>{let{className:a,variant:i,size:r,asChild:c=!1,...d}=e,m=c?n.DX:"button";return(0,t.jsx)(m,{className:(0,l.cn)(o({variant:i,size:r,className:a})),ref:s,...d})});c.displayName="Button"},1570:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>T,runtime:()=>P});var t=a(5155),i=a(2115),n=a(5695),r=a(285),l=a(6695),o=a(2523),c=a(5057),d=a(9074),m=a(4516),p=a(1007),h=a(646),u=a(5169),g=a(5742),x=a(2138),f=a(6874),b=a.n(f),j=a(9365),y=a.n(j);a(133),a(2976),a(3717);var v=a(9434),N=a(7281);function w(e){let{size:s="md",text:a="Locating...",className:i=""}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 ".concat(i),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"relative w-20 h-32 bg-gray-800 rounded-2xl border-4 border-gray-600 shadow-lg",children:[(0,t.jsx)("div",{className:"absolute inset-2 bg-gray-900 rounded-xl overflow-hidden",children:(0,t.jsxs)("div",{className:"w-full h-full bg-gradient-to-br from-blue-900 via-blue-800 to-green-800 relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-20",children:(0,t.jsx)("div",{className:"w-full h-full",style:{backgroundImage:"\n                    linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),\n                    linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)\n                  ",backgroundSize:"20px 20px"}})}),(0,t.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,t.jsx)("div",{className:"absolute inset-0 animate-ping",children:(0,t.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded-full opacity-75"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("svg",{className:"".concat({sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"}[s]," text-red-500 drop-shadow-lg animate-bounce"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),(0,t.jsx)("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-2 bg-black opacity-20 rounded-full blur-sm"})]})]}),(0,t.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-2 border-white opacity-30 rounded-full animate-ping"}),(0,t.jsx)("div",{className:"absolute inset-0 w-20 h-20 border border-white opacity-20 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),(0,t.jsx)("div",{className:"absolute inset-0 w-24 h-24 border border-white opacity-10 rounded-full animate-ping",style:{animationDelay:"1s"}})]})]})}),(0,t.jsx)("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-6 h-1 bg-gray-600 rounded-full"})]}),(0,t.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center animate-pulse",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"font-medium text-gray-700 ".concat({sm:"text-sm",md:"text-base",lg:"text-lg"}[s]),children:a}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-1 mt-1",children:[(0,t.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,t.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})}function k(e){let{size:s="md",text:a="Locating...",className:i=""}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2 ".concat(i),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 animate-ping",children:(0,t.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full"})}),(0,t.jsx)("svg",{className:"".concat({sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"}[s]," text-red-500 animate-bounce"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:a})]})}let P="edge",B={bookingDate:"",pickupTime:"",tripType:"single",pickupLocation:"",dropoffLocation:"",passengerName:"",passengerPhone:"",passengerEmail:"",vehicleId:""};function S(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)(),[a,f]=(0,i.useState)(1),[j,P]=(0,i.useState)(B),[S,T]=(0,i.useState)(null),[A,E]=(0,i.useState)(!1),[C,I]=(0,i.useState)(!1),[D,O]=(0,i.useState)({});(0,i.useEffect)(()=>{let e=null==s?void 0:s.get("vehicle");e&&(P(s=>({...s,vehicleId:e})),L(e))},[s]);let L=async e=>{console.log("\uD83D\uDE80 [BOOKING PAGE] Starting vehicle details fetch...",{vehicleId:e});let s={id:e,name:"Selected Vehicle",type:"sedan",capacity:4,pricePerDay:0,description:"",features:[],isAvailable:!0,photos:[]};try{var a,t;console.log("\uD83D\uDE80 [BOOKING PAGE] Calling api.vehicles.getById()...");let i=await N.FH.vehicles.getById(e);console.log("\uD83D\uDE80 [BOOKING PAGE] Vehicle details API response:",{success:i.success,hasData:!!i.data,vehicleId:null==(a=i.data)?void 0:a.id,vehicleName:null==(t=i.data)?void 0:t.name,fullResponse:i}),i.success&&i.data?(console.log("\uD83D\uDE80 [BOOKING PAGE] Using API data for vehicle details"),T(i.data)):(console.log("\uD83D\uDE80 [BOOKING PAGE] No vehicle data from API, using fallback"),T(s))}catch(e){console.error("\uD83D\uDE80 [BOOKING PAGE] Error fetching vehicle details:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0,name:e instanceof Error?e.name:"Unknown"}),console.log("\uD83D\uDE80 [BOOKING PAGE] Using fallback vehicle due to error"),T(s)}},z=[{id:1,title:"Date & Time",icon:(0,t.jsx)(d.A,{className:"h-5 w-5"})},{id:2,title:"Locations",icon:(0,t.jsx)(m.A,{className:"h-5 w-5"})},{id:3,title:"Contact Info",icon:(0,t.jsx)(p.A,{className:"h-5 w-5"})},{id:4,title:"Confirmation",icon:(0,t.jsx)(h.A,{className:"h-5 w-5"})}],G=e=>{let s={};switch(e){case 1:j.bookingDate||(s.bookingDate="Booking date is required"),j.pickupTime||(s.pickupTime="Pickup time is required");break;case 2:j.pickupLocation||(s.pickupLocation="Pickup location is required"),j.dropoffLocation||(s.dropoffLocation="Drop-off location is required");break;case 3:j.passengerName||(s.passengerName="Name is required"),j.passengerPhone?(0,v.Q7)(j.passengerPhone)||(s.passengerPhone=(0,v.rZ)(j.passengerPhone)||"Please enter a valid phone number"):s.passengerPhone="Phone number is required",j.passengerEmail&&!/\S+@\S+\.\S+/.test(j.passengerEmail)&&(s.passengerEmail="Please enter a valid email address")}return O(s),0===Object.keys(s).length},R=(e,s)=>{P(a=>({...a,[e]:s})),D[e]&&O(s=>({...s,[e]:""}))},F=async()=>{I(!0),setTimeout(()=>{I(!1)},2e3)},K=async()=>{if(G(1)&&G(2)&&G(3)){console.log("\uD83D\uDE80 [BOOKING PAGE] Starting booking submission...",{formData:j}),E(!0);try{var s;let a={...j,bookingDate:new Date(j.bookingDate).toISOString(),vehicleId:j.vehicleId||"pending-assignment"};console.log("\uD83D\uDE80 [BOOKING PAGE] Calling api.bookings.create()...",{bookingData:a});let t=await N.FH.bookings.create(a);if(console.log("\uD83D\uDE80 [BOOKING PAGE] Booking API response:",{success:t.success,hasData:!!t.data,bookingId:null==(s=t.data)?void 0:s.id,fullResponse:t}),t.success&&t.data)console.log("\uD83D\uDE80 [BOOKING PAGE] Booking created successfully, redirecting to success page"),e.push("/booking/success?id=".concat(t.data.id));else throw console.error("\uD83D\uDE80 [BOOKING PAGE] Booking failed:",t.error),Error(t.error||"Booking failed")}catch(e){console.error("\uD83D\uDE80 [BOOKING PAGE] Booking error:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0,name:e instanceof Error?e.name:"Unknown"}),O({submit:"Failed to create booking. Please try again."})}finally{E(!1)}}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,t.jsxs)("div",{className:"container-mobile py-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:hidden space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(b(),{href:"/",children:(0,t.jsxs)(r.$,{variant:"ghost",size:"sm",className:"text-xs",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-1"}),"Back"]})}),(0,t.jsx)("div",{className:"w-14 h-14",children:(0,t.jsx)("img",{src:"/logo.webp",alt:"Rent-A-Car Bangladesh Logo",className:"w-full h-full object-contain"})}),(0,t.jsx)("div",{className:"w-16"})," "]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Book Your Ride"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Complete your booking in 4 simple steps"})]})]}),(0,t.jsx)("div",{className:"hidden sm:flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(b(),{href:"/",children:(0,t.jsxs)(r.$,{variant:"ghost",size:"sm",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),(0,t.jsx)("div",{className:"w-16 h-16",children:(0,t.jsx)("img",{src:"/logo.webp",alt:"Rent-A-Car Bangladesh Logo",className:"w-full h-full object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Book Your Ride"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Complete your booking in 4 simple steps"})]})]})})]})}),(0,t.jsxs)("div",{className:"container-mobile py-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:z.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 ".concat(a>=e.id?"bg-primary-600 border-primary-600 text-white":"border-gray-300 text-gray-400"),children:a>e.id?(0,t.jsx)(h.A,{className:"h-5 w-5"}):e.icon}),(0,t.jsx)("div",{className:"ml-3 hidden sm:block",children:(0,t.jsx)("p",{className:"text-sm font-medium ".concat(a>=e.id?"text-primary-600":"text-gray-500"),children:e.title})}),s<z.length-1&&(0,t.jsx)("div",{className:"hidden sm:block w-16 h-0.5 mx-4 ".concat(a>e.id?"bg-primary-600":"bg-gray-300")})]},e.id))})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(l.Zp,{className:"card-mobile",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center",children:[z[a-1].icon,(0,t.jsxs)("span",{className:"ml-2",children:["Step ",a,": ",z[a-1].title]})]}),(0,t.jsxs)(l.BT,{children:[1===a&&"Select your travel date and time",2===a&&"Tell us where to pick you up and drop you off",3===a&&"Provide your contact information",4===a&&"Review and confirm your booking"]})]}),(0,t.jsxs)(l.Wu,{className:"space-y-6",children:[1===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"bookingDate",children:"Booking Date *"}),(0,t.jsx)(o.p,{id:"bookingDate",type:"date",value:j.bookingDate,onChange:e=>R("bookingDate",e.target.value),min:new Date().toISOString().split("T")[0],className:"input-mobile",disabled:A}),D.bookingDate&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:D.bookingDate})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"pickupTime",children:"Pickup Time *"}),(0,t.jsx)(o.p,{id:"pickupTime",type:"time",value:j.pickupTime,onChange:e=>R("pickupTime",e.target.value),className:"input-mobile",disabled:A}),D.pickupTime&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:D.pickupTime})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{children:"Trip Type *"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>R("tripType","single"),disabled:A,className:"p-4 rounded-lg border-2 text-left transition-all ".concat("single"===j.tripType?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-300"," ").concat(A?"opacity-50 cursor-not-allowed":""),children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.A,{className:"h-5 w-5 mr-2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Single Trip"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"One-way journey"})]})]})}),(0,t.jsx)("button",{type:"button",onClick:()=>R("tripType","round"),disabled:A,className:"p-4 rounded-lg border-2 text-left transition-all ".concat("round"===j.tripType?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-300"," ").concat(A?"opacity-50 cursor-not-allowed":""),children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.A,{className:"h-5 w-5 mr-2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Round Trip"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Return journey"})]})]})})]})]})]}),2===a&&(0,t.jsxs)(t.Fragment,{children:[C&&(0,t.jsx)("div",{className:"mb-6 p-6 bg-blue-50 rounded-lg border border-blue-200",children:(0,t.jsx)(w,{size:"md",text:"Detecting your location...",className:"mx-auto"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(c.J,{htmlFor:"pickupLocation",children:"Pickup Location *"}),(0,t.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:F,disabled:C||A,className:"text-xs px-3 py-1",children:C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k,{size:"sm",text:"",className:"flex-row space-x-1"}),(0,t.jsx)("span",{className:"ml-1",children:"Detecting..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A,{className:"h-3 w-3 mr-1"}),"Detect"]})})]}),(0,t.jsx)(o.p,{id:"pickupLocation",type:"text",placeholder:"Enter pickup address",value:j.pickupLocation,onChange:e=>R("pickupLocation",e.target.value),className:"input-mobile",disabled:A||C}),D.pickupLocation&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:D.pickupLocation})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"dropoffLocation",children:"Drop-off Location *"}),(0,t.jsx)(o.p,{id:"dropoffLocation",type:"text",placeholder:"Enter drop-off address",value:j.dropoffLocation,onChange:e=>R("dropoffLocation",e.target.value),className:"input-mobile",disabled:A}),D.dropoffLocation&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:D.dropoffLocation})]})]}),3===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"passengerName",children:"Full Name *"}),(0,t.jsx)(o.p,{id:"passengerName",type:"text",placeholder:"Enter your full name",value:j.passengerName,onChange:e=>R("passengerName",e.target.value),className:"input-mobile",disabled:A}),D.passengerName&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:D.passengerName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"passengerPhone",children:"Phone Number *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(y(),{country:"bd",value:j.passengerPhone,onChange:e=>R("passengerPhone",e),placeholder:"Enter phone number",disabled:A,enableSearch:!0,searchPlaceholder:"Search countries...",preferredCountries:["bd","us","gb","in","au","ca"],onlyCountries:["bd","us","gb","in","au","ca","de","fr","it","es","jp","kr","cn","sg","my","th","id","ph","vn","ae","sa","eg","za","ng","ke","gh","ma","dz","tn","ly","sd","et","ug","tz","rw","bi","mw","zm","zw","bw","na","sz","ls","mg","mu","sc","km","dj","so","er","ss","cf","td","ne","ml","bf","ci","lr","sl","gn","gw","gm","sn","mr","cv","st","gq","ga","cg","cd","ao","cm"],disableCountryCode:!1,disableDropdown:!1,countryCodeEditable:!1}),j.passengerPhone.startsWith("+880")&&(0,t.jsx)("div",{className:"absolute -top-6 right-0 text-xs text-blue-600 font-medium",children:"\uD83C\uDDE7\uD83C\uDDE9 Bangladesh"})]}),D.passengerPhone&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:D.passengerPhone}),j.passengerPhone.startsWith("+880")&&!D.passengerPhone&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter 10 digits starting with 1 (e.g., 1712345678)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"passengerEmail",children:"Email Address (Optional)"}),(0,t.jsx)(o.p,{id:"passengerEmail",type:"email",placeholder:"your.email@example.com",value:j.passengerEmail,onChange:e=>R("passengerEmail",e.target.value),className:"input-mobile",disabled:A}),D.passengerEmail&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:D.passengerEmail})]})]}),4===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Booking Summary"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,v.Yq)(new Date(j.bookingDate))})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Time:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,v.fU)(j.pickupTime)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Trip Type:"}),(0,t.jsxs)("span",{className:"font-medium capitalize",children:[j.tripType," Trip"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Pickup:"}),(0,t.jsx)("span",{className:"font-medium",children:j.pickupLocation})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Drop-off:"}),(0,t.jsx)("span",{className:"font-medium",children:j.dropoffLocation})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Passenger:"}),(0,t.jsx)("span",{className:"font-medium",children:j.passengerName})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,t.jsx)("span",{className:"font-medium",children:j.passengerPhone})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Vehicle:"}),(0,t.jsx)("span",{className:"font-medium",children:S?S.name:"No vehicle selected (optional)"})]})]})]}),D.submit&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-red-600",children:D.submit})})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,t.jsxs)(r.$,{variant:"outline",onClick:()=>{f(e=>Math.max(e-1,1))},disabled:1===a||A,className:"btn-mobile",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Previous"]}),a<4?(0,t.jsxs)(r.$,{onClick:()=>{G(a)&&f(e=>Math.min(e+1,4))},disabled:A,className:"btn-mobile",children:["Next",(0,t.jsx)(x.A,{className:"h-4 w-4 ml-2"})]}):(0,t.jsx)(r.$,{onClick:K,disabled:A,className:"btn-mobile",children:A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w,{size:"sm",text:"",className:"flex-row space-x-2"}),(0,t.jsx)("span",{children:"Creating Booking..."})]}):"Confirm Booking"})]})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(l.Zp,{className:"card-mobile sticky top-8",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-lg",children:"Booking Progress"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:z.map(e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 mr-3 ".concat(a>=e.id?"bg-primary-500 border-primary-500 text-white":"border-gray-300 text-gray-400"),children:a>e.id?(0,t.jsx)(h.A,{className:"h-4 w-4"}):(0,t.jsx)("span",{className:"text-sm font-medium",children:e.id})}),(0,t.jsx)("span",{className:"text-sm ".concat(a>=e.id?"text-primary-600 font-medium":"text-gray-500"),children:e.title})]},e.id))})})]})})]})]}),A&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-8 mx-4 max-w-sm w-full text-center",children:[(0,t.jsx)(w,{size:"lg",text:"Processing your booking...",className:"mx-auto"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-4",children:"Please wait while we confirm your booking details"})]})})]})}function T(){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(S,{})})}},2413:(e,s,a)=>{Promise.resolve().then(a.bind(a,1570))},2523:(e,s,a)=>{"use strict";a.d(s,{p:()=>r});var t=a(5155),i=a(2115),n=a(9434);let r=i.forwardRef((e,s)=>{let{className:a,type:i,...r}=e;return(0,t.jsx)("input",{type:i,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});r.displayName="Input"},2976:()=>{},3717:(e,s,a)=>{"use strict";a.d(s,{r:()=>t});let t=[{id:"sedan",name:"4-Seat Sedan",capacity:4,description:"Comfortable sedan perfect for city travel and short trips",icon:"\uD83D\uDE97"},{id:"noah",name:"7-Seat Noah",capacity:7,description:"Spacious 7-seater perfect for family trips and group travel",icon:"\uD83D\uDE90"},{id:"hiace",name:"12-Seat Hiace",capacity:12,description:"Large capacity vehicle ideal for corporate events and large groups",icon:"\uD83D\uDE8C"}]},5057:(e,s,a)=>{"use strict";a.d(s,{J:()=>c});var t=a(5155),i=a(2115),n=a(7073),r=a(2085),l=a(9434);let o=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(n.b,{ref:s,className:(0,l.cn)(o(),a),...i})});c.displayName=n.b.displayName},6695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>r,aR:()=>l});var t=a(5155),i=a(2115),n=a(9434);let r=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...i})});r.displayName="Card";let l=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...i})});l.displayName="CardHeader";let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});o.displayName="CardTitle";let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...i})});c.displayName="CardDescription";let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...i})});d.displayName="CardContent",i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...i})}).displayName="CardFooter"},7281:(e,s,a)=>{"use strict";async function t(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=window.location.origin,t="".concat(a).concat(e.startsWith("/")?e:"/".concat(e)),i={headers:{"Content-Type":"application/json"},...s};try{let e=await fetch(t,i);if(!e.ok){let s=await e.json().catch(()=>({}));throw Error(s.error||s.message||"HTTP ".concat(e.status,": ").concat(e.statusText))}return await e.json()}catch(e){throw e}}a.d(s,{FH:()=>i});let i={company:{getInfo:async()=>t("/api/company")},vehicles:{getAll:async e=>t(e?"/api/vehicles?type=".concat(encodeURIComponent(e)):"/api/vehicles"),getById:async e=>t("/api/vehicles/".concat(e))},bookings:{create:async e=>t("/api/bookings",{method:"POST",body:JSON.stringify(e)}),getById:async e=>t("/api/bookings/".concat(e)),async getAll(e){let s=new URLSearchParams;(null==e?void 0:e.status)&&s.append("status",e.status),(null==e?void 0:e.page)&&s.append("page",e.page.toString()),(null==e?void 0:e.limit)&&s.append("limit",e.limit.toString());let a=s.toString();return t(a?"/api/bookings?".concat(a):"/api/bookings")}},admin:{login:async e=>t("/api/admin/login",{method:"POST",body:JSON.stringify(e)}),async getStats(){let e=localStorage.getItem("adminToken");return t("/api/admin/stats",{headers:{Authorization:"Bearer ".concat(e)}})},async getBookings(e){let s=localStorage.getItem("adminToken"),a=new URLSearchParams;(null==e?void 0:e.status)&&a.append("status",e.status),(null==e?void 0:e.passengerId)&&a.append("passengerId",e.passengerId),(null==e?void 0:e.page)&&a.append("page",e.page.toString()),(null==e?void 0:e.limit)&&a.append("limit",e.limit.toString());let i=a.toString();return t(i?"/api/admin/bookings?".concat(i):"/api/admin/bookings",{headers:{Authorization:"Bearer ".concat(s)}})},async getPassengers(e){let s=localStorage.getItem("adminToken"),a=new URLSearchParams;(null==e?void 0:e.search)&&a.append("search",e.search),(null==e?void 0:e.verified)!==void 0&&a.append("verified",e.verified.toString()),(null==e?void 0:e.page)&&a.append("page",e.page.toString()),(null==e?void 0:e.limit)&&a.append("limit",e.limit.toString());let i=a.toString();return t(i?"/api/admin/passengers?".concat(i):"/api/admin/passengers",{headers:{Authorization:"Bearer ".concat(s)}})},async getBookingById(e){let s=localStorage.getItem("adminToken");return t("/api/admin/bookings/".concat(e),{headers:{Authorization:"Bearer ".concat(s)}})},async updateBooking(e,s){let a=localStorage.getItem("adminToken");return t("/api/admin/bookings/".concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(a)},body:JSON.stringify(s)})},async getVehicles(){let e=localStorage.getItem("adminToken");return t("/api/admin/vehicles",{headers:{Authorization:"Bearer ".concat(e)}})},async createVehicle(e){let s=localStorage.getItem("adminToken");return t("/api/admin/vehicles",{method:"POST",headers:{Authorization:"Bearer ".concat(s)},body:e})},async updateVehicle(e,s){let a=localStorage.getItem("adminToken");return t("/api/admin/vehicles/".concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(a)},body:s})},async deleteVehicle(e){let s=localStorage.getItem("adminToken");return t("/api/admin/vehicles/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}})},async setPrimaryPhoto(e,s){let a=localStorage.getItem("adminToken");return t("/api/admin/vehicles/".concat(e,"/photos/").concat(s,"/primary"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(a)}})},async deletePhoto(e){let s=localStorage.getItem("adminToken");return t("/api/admin/photos/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}})}}}},9434:(e,s,a)=>{"use strict";a.d(s,{Q7:()=>r,Yq:()=>o,cn:()=>n,fU:()=>c,rZ:()=>l});var t=a(2596),i=a(9688);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,i.QP)((0,t.$)(s))}function r(e){let s=e.replace(/\D/g,"");if(s.startsWith("880")){let e=s.substring(3);return 10===e.length&&e.startsWith("1")}return s.length>=7&&s.length<=15}function l(e){let s=e.replace(/\D/g,"");if(s.startsWith("880")){let e=s.substring(3);if(e.length<10)return"Bangladesh phone number must have 10 digits after the country code";if(e.length>10)return"Bangladesh phone number should have exactly 10 digits after the country code";if(!e.startsWith("1"))return"Bangladesh mobile numbers should start with 1"}return""}function o(e){return new Intl.DateTimeFormat("en-BD",{year:"numeric",month:"long",day:"numeric"}).format(e)}function c(e){let[s,a]=e.split(":"),t=parseInt(s);return"".concat(t%12||12,":").concat(a," ").concat(t>=12?"PM":"AM")}}},e=>{e.O(0,[604,685,718,441,964,358],()=>e(e.s=2413)),_N_E=e.O()}]);