(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{285:(e,a,s)=>{"use strict";s.d(a,{$:()=>c});var t=s(5155),i=s(2115),r=s(4624),n=s(2085),l=s(9434);let o=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,a)=>{let{className:s,variant:i,size:n,asChild:c=!1,...d}=e,m=c?r.DX:"button";return(0,t.jsx)(m,{className:(0,l.cn)(o({variant:i,size:n,className:s})),ref:a,...d})});c.displayName="Button"},646:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},669:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>S,runtime:()=>k});var t=s(5155),i=s(2115),r=s(5695),n=s(285),l=s(6695),o=s(2523),c=s(1029),d=s(9074),m=s(4516),p=s(1007),u=s(646),h=s(5169);let g=(0,s(9946).A)("navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var x=s(2138),f=s(6874),y=s.n(f);s(3717);var b=s(9434),j=s(7281);function v(e){let{size:a="md",text:s="Locating...",className:i=""}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 ".concat(i),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"relative w-20 h-32 bg-gray-800 rounded-2xl border-4 border-gray-600 shadow-lg",children:[(0,t.jsx)("div",{className:"absolute inset-2 bg-gray-900 rounded-xl overflow-hidden",children:(0,t.jsxs)("div",{className:"w-full h-full bg-gradient-to-br from-blue-900 via-blue-800 to-green-800 relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-20",children:(0,t.jsx)("div",{className:"w-full h-full",style:{backgroundImage:"\n                    linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),\n                    linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)\n                  ",backgroundSize:"20px 20px"}})}),(0,t.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,t.jsx)("div",{className:"absolute inset-0 animate-ping",children:(0,t.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded-full opacity-75"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("svg",{className:"".concat({sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"}[a]," text-red-500 drop-shadow-lg animate-bounce"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),(0,t.jsx)("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3 h-2 bg-black opacity-20 rounded-full blur-sm"})]})]}),(0,t.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-2 border-white opacity-30 rounded-full animate-ping"}),(0,t.jsx)("div",{className:"absolute inset-0 w-20 h-20 border border-white opacity-20 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),(0,t.jsx)("div",{className:"absolute inset-0 w-24 h-24 border border-white opacity-10 rounded-full animate-ping",style:{animationDelay:"1s"}})]})]})}),(0,t.jsx)("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-6 h-1 bg-gray-600 rounded-full"})]}),(0,t.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center animate-pulse",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"font-medium text-gray-700 ".concat({sm:"text-sm",md:"text-base",lg:"text-lg"}[a]),children:s}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-1 mt-1",children:[(0,t.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,t.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})}function N(e){let{size:a="md",text:s="Locating...",className:i=""}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2 ".concat(i),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 animate-ping",children:(0,t.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full"})}),(0,t.jsx)("svg",{className:"".concat({sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"}[a]," text-red-500 animate-bounce"),fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:s})]})}let k="edge",w={bookingDate:"",pickupTime:"",tripType:"single",pickupLocation:"",dropoffLocation:"",passengerName:"",passengerPhone:"",passengerEmail:"",vehicleId:""};function P(){let e=(0,r.useRouter)(),a=(0,r.useSearchParams)(),[s,f]=(0,i.useState)(1),[k,P]=(0,i.useState)(w),[S,A]=(0,i.useState)(null),[B,T]=(0,i.useState)(!1),[I,E]=(0,i.useState)(!1),[C,D]=(0,i.useState)({});(0,i.useEffect)(()=>{let e=null==a?void 0:a.get("vehicle");e&&(P(a=>({...a,vehicleId:e})),L(e))},[a]);let L=async e=>{console.log("\uD83D\uDE80 [BOOKING PAGE] Starting vehicle details fetch...",{vehicleId:e});let a={id:e,name:"Selected Vehicle",type:"sedan",capacity:4,pricePerDay:0,description:"",features:[],isAvailable:!0,photos:[]};try{var s,t;console.log("\uD83D\uDE80 [BOOKING PAGE] Calling api.vehicles.getById()...");let i=await j.FH.vehicles.getById(e);console.log("\uD83D\uDE80 [BOOKING PAGE] Vehicle details API response:",{success:i.success,hasData:!!i.data,vehicleId:null==(s=i.data)?void 0:s.id,vehicleName:null==(t=i.data)?void 0:t.name,fullResponse:i}),i.success&&i.data?(console.log("\uD83D\uDE80 [BOOKING PAGE] Using API data for vehicle details"),A(i.data)):(console.log("\uD83D\uDE80 [BOOKING PAGE] No vehicle data from API, using fallback"),A(a))}catch(e){console.error("\uD83D\uDE80 [BOOKING PAGE] Error fetching vehicle details:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0,name:e instanceof Error?e.name:"Unknown"}),console.log("\uD83D\uDE80 [BOOKING PAGE] Using fallback vehicle due to error"),A(a)}},O=[{id:1,title:"Date & Time",icon:(0,t.jsx)(d.A,{className:"h-5 w-5"})},{id:2,title:"Locations",icon:(0,t.jsx)(m.A,{className:"h-5 w-5"})},{id:3,title:"Contact Info",icon:(0,t.jsx)(p.A,{className:"h-5 w-5"})},{id:4,title:"Confirmation",icon:(0,t.jsx)(u.A,{className:"h-5 w-5"})}],z=e=>{let a={};switch(e){case 1:k.bookingDate||(a.bookingDate="Booking date is required"),k.pickupTime||(a.pickupTime="Pickup time is required");break;case 2:k.pickupLocation||(a.pickupLocation="Pickup location is required"),k.dropoffLocation||(a.dropoffLocation="Drop-off location is required");break;case 3:k.passengerName||(a.passengerName="Name is required"),k.passengerPhone?(0,b.Q7)(k.passengerPhone)||(a.passengerPhone="Please enter a valid phone number"):a.passengerPhone="Phone number is required",k.passengerEmail&&!/\S+@\S+\.\S+/.test(k.passengerEmail)&&(a.passengerEmail="Please enter a valid email address")}return D(a),0===Object.keys(a).length},R=(e,a)=>{P(s=>({...s,[e]:a})),C[e]&&D(a=>({...a,[e]:""}))},G=async()=>{E(!0),setTimeout(()=>{E(!1)},2e3)},F=async()=>{if(z(1)&&z(2)&&z(3)){console.log("\uD83D\uDE80 [BOOKING PAGE] Starting booking submission...",{formData:k}),T(!0);try{var a;let s=(0,b.n4)(k.passengerPhone),t={...k,passengerPhone:s,bookingDate:new Date(k.bookingDate).toISOString(),vehicleId:k.vehicleId||"pending-assignment"};console.log("\uD83D\uDE80 [BOOKING PAGE] Calling api.bookings.create()...",{bookingData:t});let i=await j.FH.bookings.create(t);if(console.log("\uD83D\uDE80 [BOOKING PAGE] Booking API response:",{success:i.success,hasData:!!i.data,bookingId:null==(a=i.data)?void 0:a.id,fullResponse:i}),i.success&&i.data)console.log("\uD83D\uDE80 [BOOKING PAGE] Booking created successfully, redirecting to success page"),e.push("/booking/success?id=".concat(i.data.id));else throw console.error("\uD83D\uDE80 [BOOKING PAGE] Booking failed:",i.error),Error(i.error||"Booking failed")}catch(e){console.error("\uD83D\uDE80 [BOOKING PAGE] Booking error:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0,name:e instanceof Error?e.name:"Unknown"}),D({submit:"Failed to create booking. Please try again."})}finally{T(!1)}}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,t.jsxs)("div",{className:"container-mobile py-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:hidden space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(y(),{href:"/",children:(0,t.jsxs)(n.$,{variant:"ghost",size:"sm",className:"text-xs",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Back"]})}),(0,t.jsx)("div",{className:"w-14 h-14",children:(0,t.jsx)("img",{src:"/logo.webp",alt:"Rent-A-Car Bangladesh Logo",className:"w-full h-full object-contain"})}),(0,t.jsx)("div",{className:"w-16"})," "]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Book Your Ride"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Complete your booking in 4 simple steps"})]})]}),(0,t.jsx)("div",{className:"hidden sm:flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(y(),{href:"/",children:(0,t.jsxs)(n.$,{variant:"ghost",size:"sm",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),(0,t.jsx)("div",{className:"w-16 h-16",children:(0,t.jsx)("img",{src:"/logo.webp",alt:"Rent-A-Car Bangladesh Logo",className:"w-full h-full object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Book Your Ride"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Complete your booking in 4 simple steps"})]})]})})]})}),(0,t.jsxs)("div",{className:"container-mobile py-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:O.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 ".concat(s>=e.id?"bg-primary-600 border-primary-600 text-white":"border-gray-300 text-gray-400"),children:s>e.id?(0,t.jsx)(u.A,{className:"h-5 w-5"}):e.icon}),(0,t.jsx)("div",{className:"ml-3 hidden sm:block",children:(0,t.jsx)("p",{className:"text-sm font-medium ".concat(s>=e.id?"text-primary-600":"text-gray-500"),children:e.title})}),a<O.length-1&&(0,t.jsx)("div",{className:"hidden sm:block w-16 h-0.5 mx-4 ".concat(s>e.id?"bg-primary-600":"bg-gray-300")})]},e.id))})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(l.Zp,{className:"card-mobile",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center",children:[O[s-1].icon,(0,t.jsxs)("span",{className:"ml-2",children:["Step ",s,": ",O[s-1].title]})]}),(0,t.jsxs)(l.BT,{children:[1===s&&"Select your travel date and time",2===s&&"Tell us where to pick you up and drop you off",3===s&&"Provide your contact information",4===s&&"Review and confirm your booking"]})]}),(0,t.jsxs)(l.Wu,{className:"space-y-6",children:[1===s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"bookingDate",children:"Booking Date *"}),(0,t.jsx)(o.p,{id:"bookingDate",type:"date",value:k.bookingDate,onChange:e=>R("bookingDate",e.target.value),min:new Date().toISOString().split("T")[0],className:"input-mobile",disabled:B}),C.bookingDate&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:C.bookingDate})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"pickupTime",children:"Pickup Time *"}),(0,t.jsx)(o.p,{id:"pickupTime",type:"time",value:k.pickupTime,onChange:e=>R("pickupTime",e.target.value),className:"input-mobile",disabled:B}),C.pickupTime&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:C.pickupTime})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{children:"Trip Type *"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>R("tripType","single"),disabled:B,className:"p-4 rounded-lg border-2 text-left transition-all ".concat("single"===k.tripType?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-300"," ").concat(B?"opacity-50 cursor-not-allowed":""),children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g,{className:"h-5 w-5 mr-2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Single Trip"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"One-way journey"})]})]})}),(0,t.jsx)("button",{type:"button",onClick:()=>R("tripType","round"),disabled:B,className:"p-4 rounded-lg border-2 text-left transition-all ".concat("round"===k.tripType?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-300"," ").concat(B?"opacity-50 cursor-not-allowed":""),children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g,{className:"h-5 w-5 mr-2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Round Trip"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Return journey"})]})]})})]})]})]}),2===s&&(0,t.jsxs)(t.Fragment,{children:[I&&(0,t.jsx)("div",{className:"mb-6 p-6 bg-blue-50 rounded-lg border border-blue-200",children:(0,t.jsx)(v,{size:"md",text:"Detecting your location...",className:"mx-auto"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(c.J,{htmlFor:"pickupLocation",children:"Pickup Location *"}),(0,t.jsx)(n.$,{type:"button",variant:"outline",size:"sm",onClick:G,disabled:I||B,className:"text-xs px-3 py-1",children:I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N,{size:"sm",text:"",className:"flex-row space-x-1"}),(0,t.jsx)("span",{className:"ml-1",children:"Detecting..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A,{className:"h-3 w-3 mr-1"}),"Detect"]})})]}),(0,t.jsx)(o.p,{id:"pickupLocation",type:"text",placeholder:"Enter pickup address",value:k.pickupLocation,onChange:e=>R("pickupLocation",e.target.value),className:"input-mobile",disabled:B||I}),C.pickupLocation&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:C.pickupLocation})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"dropoffLocation",children:"Drop-off Location *"}),(0,t.jsx)(o.p,{id:"dropoffLocation",type:"text",placeholder:"Enter drop-off address",value:k.dropoffLocation,onChange:e=>R("dropoffLocation",e.target.value),className:"input-mobile",disabled:B}),C.dropoffLocation&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:C.dropoffLocation})]})]}),3===s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"passengerName",children:"Full Name *"}),(0,t.jsx)(o.p,{id:"passengerName",type:"text",placeholder:"Enter your full name",value:k.passengerName,onChange:e=>R("passengerName",e.target.value),className:"input-mobile",disabled:B}),C.passengerName&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:C.passengerName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"passengerPhone",children:"Phone Number *"}),(0,t.jsx)(o.p,{id:"passengerPhone",type:"tel",placeholder:"+8801234567890",value:k.passengerPhone,onChange:e=>R("passengerPhone",e.target.value),className:"input-mobile",disabled:B}),C.passengerPhone&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:C.passengerPhone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"passengerEmail",children:"Email Address (Optional)"}),(0,t.jsx)(o.p,{id:"passengerEmail",type:"email",placeholder:"your.email@example.com",value:k.passengerEmail,onChange:e=>R("passengerEmail",e.target.value),className:"input-mobile",disabled:B}),C.passengerEmail&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:C.passengerEmail})]})]}),4===s&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Booking Summary"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,b.Yq)(new Date(k.bookingDate))})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Time:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,b.fU)(k.pickupTime)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Trip Type:"}),(0,t.jsxs)("span",{className:"font-medium capitalize",children:[k.tripType," Trip"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Pickup:"}),(0,t.jsx)("span",{className:"font-medium",children:k.pickupLocation})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Drop-off:"}),(0,t.jsx)("span",{className:"font-medium",children:k.dropoffLocation})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Passenger:"}),(0,t.jsx)("span",{className:"font-medium",children:k.passengerName})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,b.n4)(k.passengerPhone)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Vehicle:"}),(0,t.jsx)("span",{className:"font-medium",children:S?S.name:"No vehicle selected (optional)"})]})]})]}),C.submit&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-red-600",children:C.submit})})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,t.jsxs)(n.$,{variant:"outline",onClick:()=>{f(e=>Math.max(e-1,1))},disabled:1===s||B,className:"btn-mobile",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Previous"]}),s<4?(0,t.jsxs)(n.$,{onClick:()=>{z(s)&&f(e=>Math.min(e+1,4))},disabled:B,className:"btn-mobile",children:["Next",(0,t.jsx)(x.A,{className:"h-4 w-4 ml-2"})]}):(0,t.jsx)(n.$,{onClick:F,disabled:B,className:"btn-mobile",children:B?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{size:"sm",text:"",className:"flex-row space-x-2"}),(0,t.jsx)("span",{children:"Creating Booking..."})]}):"Confirm Booking"})]})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(l.Zp,{className:"card-mobile sticky top-8",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-lg",children:"Booking Progress"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:O.map(e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 mr-3 ".concat(s>=e.id?"bg-primary-500 border-primary-500 text-white":"border-gray-300 text-gray-400"),children:s>e.id?(0,t.jsx)(u.A,{className:"h-4 w-4"}):(0,t.jsx)("span",{className:"text-sm font-medium",children:e.id})}),(0,t.jsx)("span",{className:"text-sm ".concat(s>=e.id?"text-primary-600 font-medium":"text-gray-500"),children:e.title})]},e.id))})})]})})]})]}),B&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-8 mx-4 max-w-sm w-full text-center",children:[(0,t.jsx)(v,{size:"lg",text:"Processing your booking...",className:"mx-auto"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-4",children:"Please wait while we confirm your booking details"})]})})]})}function S(){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(P,{})})}},1007:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1029:(e,a,s)=>{"use strict";s.d(a,{J:()=>m});var t=s(5155),i=s(2115);s(7650);var r=s(4624),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let s=(0,r.TL)(`Primitive.${a}`),n=i.forwardRef((e,i)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?s:a,{...n,ref:i})});return n.displayName=`Primitive.${a}`,{...e,[a]:n}},{}),l=i.forwardRef((e,a)=>(0,t.jsx)(n.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";var o=s(2085),c=s(9434);let d=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(l,{ref:a,className:(0,c.cn)(d(),s),...i})});m.displayName=l.displayName},2138:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},2413:(e,a,s)=>{Promise.resolve().then(s.bind(s,669))},2523:(e,a,s)=>{"use strict";s.d(a,{p:()=>n});var t=s(5155),i=s(2115),r=s(9434);let n=i.forwardRef((e,a)=>{let{className:s,type:i,...n}=e;return(0,t.jsx)("input",{type:i,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...n})});n.displayName="Input"},3717:(e,a,s)=>{"use strict";s.d(a,{r:()=>t});let t=[{id:"sedan",name:"4-Seat Sedan",capacity:4,description:"Comfortable sedan perfect for city travel and short trips",icon:"\uD83D\uDE97"},{id:"noah",name:"7-Seat Noah",capacity:7,description:"Spacious 7-seater perfect for family trips and group travel",icon:"\uD83D\uDE90"},{id:"hiace",name:"12-Seat Hiace",capacity:12,description:"Large capacity vehicle ideal for corporate events and large groups",icon:"\uD83D\uDE8C"}]},4516:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5169:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},6695:(e,a,s)=>{"use strict";s.d(a,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>l});var t=s(5155),i=s(2115),r=s(9434);let n=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...i})});n.displayName="Card";let l=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...i})});l.displayName="CardHeader";let o=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...i})});o.displayName="CardTitle";let c=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",s),...i})});c.displayName="CardDescription";let d=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",s),...i})});d.displayName="CardContent",i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",s),...i})}).displayName="CardFooter"},7281:(e,a,s)=>{"use strict";async function t(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=window.location.origin,t="".concat(s).concat(e.startsWith("/")?e:"/".concat(e)),i={headers:{"Content-Type":"application/json"},...a};try{let e=await fetch(t,i);if(!e.ok){let a=await e.json().catch(()=>({}));throw Error(a.error||a.message||"HTTP ".concat(e.status,": ").concat(e.statusText))}return await e.json()}catch(e){throw e}}s.d(a,{FH:()=>i});let i={company:{getInfo:async()=>t("/api/company")},vehicles:{getAll:async e=>t(e?"/api/vehicles?type=".concat(encodeURIComponent(e)):"/api/vehicles"),getById:async e=>t("/api/vehicles/".concat(e))},bookings:{create:async e=>t("/api/bookings",{method:"POST",body:JSON.stringify(e)}),getById:async e=>t("/api/bookings/".concat(e)),async getAll(e){let a=new URLSearchParams;(null==e?void 0:e.status)&&a.append("status",e.status),(null==e?void 0:e.page)&&a.append("page",e.page.toString()),(null==e?void 0:e.limit)&&a.append("limit",e.limit.toString());let s=a.toString();return t(s?"/api/bookings?".concat(s):"/api/bookings")}},admin:{login:async e=>t("/api/admin/login",{method:"POST",body:JSON.stringify(e)}),async getStats(){let e=localStorage.getItem("adminToken");return t("/api/admin/stats",{headers:{Authorization:"Bearer ".concat(e)}})},async getBookings(e){let a=localStorage.getItem("adminToken"),s=new URLSearchParams;(null==e?void 0:e.status)&&s.append("status",e.status),(null==e?void 0:e.page)&&s.append("page",e.page.toString()),(null==e?void 0:e.limit)&&s.append("limit",e.limit.toString());let i=s.toString();return t(i?"/api/admin/bookings?".concat(i):"/api/admin/bookings",{headers:{Authorization:"Bearer ".concat(a)}})},async getPassengers(e){let a=localStorage.getItem("adminToken"),s=new URLSearchParams;(null==e?void 0:e.search)&&s.append("search",e.search),(null==e?void 0:e.verified)!==void 0&&s.append("verified",e.verified.toString()),(null==e?void 0:e.page)&&s.append("page",e.page.toString()),(null==e?void 0:e.limit)&&s.append("limit",e.limit.toString());let i=s.toString();return t(i?"/api/admin/passengers?".concat(i):"/api/admin/passengers",{headers:{Authorization:"Bearer ".concat(a)}})},async getBookingById(e){let a=localStorage.getItem("adminToken");return t("/api/admin/bookings/".concat(e),{headers:{Authorization:"Bearer ".concat(a)}})},async updateBooking(e,a){let s=localStorage.getItem("adminToken");return t("/api/admin/bookings/".concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(s)},body:JSON.stringify(a)})},async getVehicles(){let e=localStorage.getItem("adminToken");return t("/api/admin/vehicles",{headers:{Authorization:"Bearer ".concat(e)}})},async createVehicle(e){let a=localStorage.getItem("adminToken");return t("/api/admin/vehicles",{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:e})},async updateVehicle(e,a){let s=localStorage.getItem("adminToken");return t("/api/admin/vehicles/".concat(e),{method:"PATCH",headers:{Authorization:"Bearer ".concat(s)},body:a})},async deleteVehicle(e){let a=localStorage.getItem("adminToken");return t("/api/admin/vehicles/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}})},async setPrimaryPhoto(e,a){let s=localStorage.getItem("adminToken");return t("/api/admin/vehicles/".concat(e,"/photos/").concat(a,"/primary"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(s)}})},async deletePhoto(e){let a=localStorage.getItem("adminToken");return t("/api/admin/photos/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}})}}}},9074:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9434:(e,a,s)=>{"use strict";s.d(a,{Q7:()=>l,Yq:()=>o,cn:()=>r,fU:()=>c,n4:()=>n});var t=s(2596),i=s(9688);function r(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,i.QP)((0,t.$)(a))}function n(e){let a=e.replace(/\D/g,"");return 10===a.length&&!a.startsWith("880")||11===a.length&&a.startsWith("01")?"+880".concat(a):e.startsWith("+")?e:"+".concat(a)}function l(e){let a=e.replace(/\D/g,"");return a.length>=10&&a.length<=15}function o(e){return new Intl.DateTimeFormat("en-BD",{year:"numeric",month:"long",day:"numeric"}).format(e)}function c(e){let[a,s]=e.split(":"),t=parseInt(a);return"".concat(t%12||12,":").concat(s," ").concat(t>=12?"PM":"AM")}}},e=>{e.O(0,[66,441,964,358],()=>e(e.s=2413)),_N_E=e.O()}]);