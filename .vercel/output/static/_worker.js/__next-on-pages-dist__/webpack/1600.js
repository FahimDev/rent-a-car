var l={},S=(m,h,u)=>(l.__chunk_1600=(y,c,d)=>{"use strict";async function n(e,t={}){let a="http://localhost:3000",i=`${a}${e.startsWith("/")?e:`/${e}`}`;console.log("\u{1F680} [API UTILS] Making API call:",{endpoint:e,baseUrl:a,fullUrl:i,method:t.method||"GET"});let p={headers:{"Content-Type":"application/json"},...t};try{console.log("\u{1F680} [API UTILS] Fetching URL:",i);let o=await fetch(i,p);if(console.log("\u{1F680} [API UTILS] Response received:",{status:o.status,statusText:o.statusText,ok:o.ok,headers:Object.fromEntries(o.headers.entries())}),!o.ok){let s=await o.json().catch(()=>({}));throw console.error("\u{1F680} [API UTILS] Response not OK:",{status:o.status,statusText:o.statusText,errorData:s}),Error(s.error||s.message||`HTTP ${o.status}: ${o.statusText}`)}let r=await o.json();return console.log("\u{1F680} [API UTILS] Response data:",{success:r.success,hasData:!!r.data,dataKeys:r.data?Object.keys(r.data):[],fullData:r}),r}catch(o){throw console.error("\u{1F680} [API UTILS] API call failed for",e,":",{message:o instanceof Error?o.message:String(o),stack:o instanceof Error?o.stack:void 0,name:o instanceof Error?o.name:"Unknown"}),o}}d.d(c,{FH:()=>g});let g={company:{getInfo:async()=>n("/api/company")},vehicles:{getAll:async e=>n(e?`/api/vehicles?type=${encodeURIComponent(e)}`:"/api/vehicles"),getById:async e=>n(`/api/vehicles/${e}`)},bookings:{create:async e=>n("/api/bookings",{method:"POST",body:JSON.stringify(e)}),getById:async e=>n(`/api/bookings/${e}`),async getAll(e){let t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString());let a=t.toString();return n(a?`/api/bookings?${a}`:"/api/bookings")}},admin:{login:async e=>n("/api/admin/login",{method:"POST",body:JSON.stringify(e)}),async getStats(){let e=localStorage.getItem("adminToken");return n("/api/admin/stats",{headers:{Authorization:`Bearer ${e}`}})},async getBookings(e){let t=localStorage.getItem("adminToken"),a=new URLSearchParams;e?.status&&a.append("status",e.status),e?.page&&a.append("page",e.page.toString()),e?.limit&&a.append("limit",e.limit.toString());let i=a.toString();return n(i?`/api/admin/bookings?${i}`:"/api/admin/bookings",{headers:{Authorization:`Bearer ${t}`}})},async getPassengers(e){let t=localStorage.getItem("adminToken"),a=new URLSearchParams;e?.search&&a.append("search",e.search),e?.verified!==void 0&&a.append("verified",e.verified.toString()),e?.page&&a.append("page",e.page.toString()),e?.limit&&a.append("limit",e.limit.toString());let i=a.toString();return n(i?`/api/admin/passengers?${i}`:"/api/admin/passengers",{headers:{Authorization:`Bearer ${t}`}})},async getBookingById(e){let t=localStorage.getItem("adminToken");return n(`/api/admin/bookings/${e}`,{headers:{Authorization:`Bearer ${t}`}})},async updateBooking(e,t){let a=localStorage.getItem("adminToken");return n(`/api/admin/bookings/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(t)})},async getVehicles(){let e=localStorage.getItem("adminToken");return n("/api/admin/vehicles",{headers:{Authorization:`Bearer ${e}`}})},async createVehicle(e){let t=localStorage.getItem("adminToken");return n("/api/admin/vehicles",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:e})},async updateVehicle(e,t){let a=localStorage.getItem("adminToken");return n(`/api/admin/vehicles/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${a}`},body:t})},async deleteVehicle(e){let t=localStorage.getItem("adminToken");return n(`/api/admin/vehicles/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})},async setPrimaryPhoto(e,t){let a=localStorage.getItem("adminToken");return n(`/api/admin/vehicles/${e}/photos/${t}/primary`,{method:"PATCH",headers:{Authorization:`Bearer ${a}`}})},async deletePhoto(e){let t=localStorage.getItem("adminToken");return n(`/api/admin/photos/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})}}}},l);export{S as __getNamedExports};
