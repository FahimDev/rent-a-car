import wasm_34d4348ee0edb46db5054170e8b7cdbb9f3584cf from "../../__next-on-pages-dist__/wasm/wasm_34d4348ee0edb46db5054170e8b7cdbb9f3584cf.wasm";var xt={},Fo=(Hn,I,Vo)=>(xt.__chunk_5721=(qe,de,fe)=>{"use strict";fe.d(de,{A:()=>gt});var R=fe(1559),ot=fe(2294);function gt(pt){let Oe=new ot.m(pt);return new R.PrismaClient({adapter:Oe})}I.prisma??new R.PrismaClient},xt.__chunk_7702=(qe,de,fe)=>{Object.defineProperty(de,"__esModule",{value:!0});let{PrismaClientKnownRequestError:R,PrismaClientUnknownRequestError:ot,PrismaClientRustPanicError:gt,PrismaClientInitializationError:pt,PrismaClientValidationError:Oe,getPrismaClient:at,sqltag:Ge,empty:Ot,join:te,raw:Ke,skip:ft,Decimal:ze,Debug:U,objectEnumValues:L,makeStrictEnum:me,Extensions:Ie,warnOnce:mt,defineDmmfProperty:ye,Public:Rt,getRuntime:yt,createParam:je}=fe(4300),he={};de.Prisma=he,de.$Enums={},he.prismaVersion={client:"6.16.1",engine:"1c57fdcd7e44b29b9313256c76699e91c3ac3c43"},he.PrismaClientKnownRequestError=R,he.PrismaClientUnknownRequestError=ot,he.PrismaClientRustPanicError=gt,he.PrismaClientInitializationError=pt,he.PrismaClientValidationError=Oe,he.Decimal=ze,he.sql=Ge,he.empty=Ot,he.join=te,he.raw=Ke,he.validator=Rt.validator,he.getExtensionContext=Ie.getExtensionContext,he.defineExtension=Ie.defineExtension,he.DbNull=L.instances.DbNull,he.JsonNull=L.instances.JsonNull,he.AnyNull=L.instances.AnyNull,he.NullTypes={DbNull:L.classes.DbNull,JsonNull:L.classes.JsonNull,AnyNull:L.classes.AnyNull},de.Prisma.TransactionIsolationLevel=me({Serializable:"Serializable"}),de.Prisma.AdminScalarFieldEnum={id:"id",username:"username",password:"password",email:"email",phone:"phone",role:"role",createdAt:"createdAt",updatedAt:"updatedAt"},de.Prisma.VehicleScalarFieldEnum={id:"id",name:"name",type:"type",capacity:"capacity",pricePerDay:"pricePerDay",description:"description",features:"features",isAvailable:"isAvailable",adminId:"adminId",createdAt:"createdAt",updatedAt:"updatedAt"},de.Prisma.VehiclePhotoScalarFieldEnum={id:"id",vehicleId:"vehicleId",url:"url",alt:"alt",isPrimary:"isPrimary",order:"order",createdAt:"createdAt"},de.Prisma.PassengerScalarFieldEnum={id:"id",phone:"phone",name:"name",email:"email",isVerified:"isVerified",createdAt:"createdAt",updatedAt:"updatedAt"},de.Prisma.BookingScalarFieldEnum={id:"id",passengerId:"passengerId",vehicleId:"vehicleId",bookingDate:"bookingDate",pickupTime:"pickupTime",tripType:"tripType",pickupLocation:"pickupLocation",dropoffLocation:"dropoffLocation",status:"status",notes:"notes",createdAt:"createdAt",updatedAt:"updatedAt"},de.Prisma.CompanyInfoScalarFieldEnum={id:"id",name:"name",tagline:"tagline",description:"description",address:"address",phone:"phone",email:"email",whatsapp:"whatsapp",latitude:"latitude",longitude:"longitude",services:"services",createdAt:"createdAt",updatedAt:"updatedAt"},de.Prisma.NotificationScalarFieldEnum={id:"id",bookingId:"bookingId",type:"type",status:"status",message:"message",sentAt:"sentAt",createdAt:"createdAt"},de.Prisma.SortOrder={asc:"asc",desc:"desc"},de.Prisma.NullsOrder={first:"first",last:"last"},de.Prisma.ModelName={Admin:"Admin",Vehicle:"Vehicle",VehiclePhoto:"VehiclePhoto",Passenger:"Passenger",Booking:"Booking",CompanyInfo:"CompanyInfo",Notification:"Notification"};let Be={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"/home/bs01532/car-rental-app/node_modules/@prisma/client",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"debian-openssl-3.0.x",native:!0}],previewFeatures:["driverAdapters"],sourceFilePath:"/home/bs01532/car-rental-app/prisma/schema.prisma"},relativeEnvPaths:{rootEnvPath:null},relativePath:"../../../prisma",clientVersion:"6.16.1",engineVersion:"1c57fdcd7e44b29b9313256c76699e91c3ac3c43",datasourceNames:["db"],activeProvider:"sqlite",postinstall:!1,inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:`// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["driverAdapters"]
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Admin {
  id        String   @id @default(cuid())
  username  String   @unique
  password  String
  email     String?
  phone     String?
  role      String   @default("admin")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("admins")
}

model Vehicle {
  id          String   @id @default(cuid())
  name        String
  type        String // "sedan", "noah", "hiace"
  capacity    Int
  pricePerDay Float
  description String?
  features    String? // JSON string of features
  isAvailable Boolean  @default(true)
  adminId     String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  photos   VehiclePhoto[]
  bookings Booking[]

  @@map("vehicles")
}

model VehiclePhoto {
  id        String   @id @default(cuid())
  vehicleId String
  url       String
  alt       String?
  isPrimary Boolean  @default(false)
  order     Int      @default(0)
  createdAt DateTime @default(now())

  vehicle Vehicle @relation(fields: [vehicleId], references: [id], onDelete: Cascade)

  @@map("vehicle_photos")
}

model Passenger {
  id         String   @id @default(cuid())
  phone      String   @unique
  name       String?
  email      String?
  isVerified Boolean  @default(false)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  bookings Booking[]

  @@map("passengers")
}

model Booking {
  id              String   @id @default(cuid())
  passengerId     String
  vehicleId       String
  bookingDate     DateTime
  pickupTime      String
  tripType        String // "single" or "round"
  pickupLocation  String
  dropoffLocation String?
  status          String   @default("pending") // "pending", "confirmed", "completed", "cancelled"
  notes           String?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  passenger     Passenger      @relation(fields: [passengerId], references: [id])
  vehicle       Vehicle        @relation(fields: [vehicleId], references: [id])
  notifications Notification[]

  @@map("bookings")
}

model CompanyInfo {
  id          String   @id @default(cuid())
  name        String
  tagline     String?
  description String?
  address     String?
  phone       String?
  email       String?
  whatsapp    String?
  latitude    Float?
  longitude   Float?
  services    String? // JSON string of services
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("company_info")
}

model Notification {
  id        String    @id @default(cuid())
  bookingId String
  type      String // "whatsapp", "email", "sms"
  status    String    @default("pending") // "pending", "sent", "failed"
  message   String?
  sentAt    DateTime?
  createdAt DateTime  @default(now())

  booking Booking @relation(fields: [bookingId], references: [id], onDelete: Cascade)

  @@map("notifications")
}
`,inlineSchemaHash:"8aa43a115aba7d0ed15538d44ef634d08de010582991f9e6c66319ea35895b76",copyEngine:!0};Be.dirname="/",Be.runtimeDataModel=JSON.parse('{"models":{"Admin":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"username","kind":"scalar","type":"String"},{"name":"password","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"phone","kind":"scalar","type":"String"},{"name":"role","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":"admins"},"Vehicle":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"type","kind":"scalar","type":"String"},{"name":"capacity","kind":"scalar","type":"Int"},{"name":"pricePerDay","kind":"scalar","type":"Float"},{"name":"description","kind":"scalar","type":"String"},{"name":"features","kind":"scalar","type":"String"},{"name":"isAvailable","kind":"scalar","type":"Boolean"},{"name":"adminId","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"photos","kind":"object","type":"VehiclePhoto","relationName":"VehicleToVehiclePhoto"},{"name":"bookings","kind":"object","type":"Booking","relationName":"BookingToVehicle"}],"dbName":"vehicles"},"VehiclePhoto":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"vehicleId","kind":"scalar","type":"String"},{"name":"url","kind":"scalar","type":"String"},{"name":"alt","kind":"scalar","type":"String"},{"name":"isPrimary","kind":"scalar","type":"Boolean"},{"name":"order","kind":"scalar","type":"Int"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"vehicle","kind":"object","type":"Vehicle","relationName":"VehicleToVehiclePhoto"}],"dbName":"vehicle_photos"},"Passenger":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"phone","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"isVerified","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"bookings","kind":"object","type":"Booking","relationName":"BookingToPassenger"}],"dbName":"passengers"},"Booking":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"passengerId","kind":"scalar","type":"String"},{"name":"vehicleId","kind":"scalar","type":"String"},{"name":"bookingDate","kind":"scalar","type":"DateTime"},{"name":"pickupTime","kind":"scalar","type":"String"},{"name":"tripType","kind":"scalar","type":"String"},{"name":"pickupLocation","kind":"scalar","type":"String"},{"name":"dropoffLocation","kind":"scalar","type":"String"},{"name":"status","kind":"scalar","type":"String"},{"name":"notes","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"passenger","kind":"object","type":"Passenger","relationName":"BookingToPassenger"},{"name":"vehicle","kind":"object","type":"Vehicle","relationName":"BookingToVehicle"},{"name":"notifications","kind":"object","type":"Notification","relationName":"BookingToNotification"}],"dbName":"bookings"},"CompanyInfo":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"tagline","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"address","kind":"scalar","type":"String"},{"name":"phone","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"whatsapp","kind":"scalar","type":"String"},{"name":"latitude","kind":"scalar","type":"Float"},{"name":"longitude","kind":"scalar","type":"Float"},{"name":"services","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":"company_info"},"Notification":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"bookingId","kind":"scalar","type":"String"},{"name":"type","kind":"scalar","type":"String"},{"name":"status","kind":"scalar","type":"String"},{"name":"message","kind":"scalar","type":"String"},{"name":"sentAt","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"booking","kind":"object","type":"Booking","relationName":"BookingToNotification"}],"dbName":"notifications"}},"enums":{},"types":{}}'),ye(de.Prisma,Be.runtimeDataModel),Be.engineWasm={getRuntime:async()=>fe(4203),getQueryEngineWasmModule:async()=>(await(await Promise.resolve().then(fe.bind(fe,4732))).default).default},Be.compilerWasm=void 0,Be.injectableEdgeEnv=()=>({parsed:{DATABASE_URL:typeof I<"u"&&I.DATABASE_URL||typeof process<"u"&&process.env&&process.env.DATABASE_URL||void 0}}),(typeof I<"u"&&I.DEBUG||typeof process<"u"&&process.env&&process.env.DEBUG)&&U.enable(typeof I<"u"&&I.DEBUG||typeof process<"u"&&process.env&&process.env.DEBUG||void 0),de.PrismaClient=at(Be),Object.assign(de,he)},xt.__chunk_4732=(qe,de,fe)=>{"use strict";fe.r(de),fe.d(de,{default:()=>R});let R=Promise.resolve().then(fe.t.bind(fe,4357,19))},xt.__chunk_4637=(qe,de,fe)=>{qe.exports={...fe(7702)}},xt.__chunk_4357=qe=>{qe.exports=wasm_34d4348ee0edb46db5054170e8b7cdbb9f3584cf},xt.__chunk_4300=qe=>{"use strict";var de=Object.create,fe=Object.defineProperty,R=Object.getOwnPropertyDescriptor,ot=Object.getOwnPropertyNames,gt=Object.getPrototypeOf,pt=Object.prototype.hasOwnProperty,Oe=(e,t)=>()=>(e&&(t=e(e=0)),t),at=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ge=(e,t)=>{for(var r in t)fe(e,r,{get:t[r],enumerable:!0})},Ot=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ot(t))pt.call(e,i)||i===r||fe(e,i,{get:()=>t[i],enumerable:!(n=R(t,i))||n.enumerable});return e},te=(e,t,r)=>(r=e!=null?de(gt(e)):{},Ot(!t&&e&&e.__esModule?r:fe(r,"default",{value:e,enumerable:!0}),e));function Ke(e,t){if((t=t.toLowerCase())==="utf8"||t==="utf-8")return new ye(yt.encode(e));if(t==="base64"||t==="base64url")return e=(e=e.replace(/-/g,"+").replace(/_/g,"/")).replace(/[^A-Za-z0-9+/]/g,""),new ye([...atob(e)].map(r=>r.charCodeAt(0)));if(t==="binary"||t==="ascii"||t==="latin1"||t==="latin-1")return new ye([...e].map(r=>r.charCodeAt(0)));if(t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le"){let r=new ye(2*e.length),n=new DataView(r.buffer);for(let i=0;i<e.length;i++)n.setUint16(2*i,e.charCodeAt(i),!0);return r}if(t==="hex"){let r=new ye(e.length/2);for(let n=0,i=0;i<e.length;i+=2,n++)r[n]=parseInt(e.slice(i,i+2),16);return r}ft(`encoding "${t}"`)}function ft(e){throw Error(`Buffer polyfill does not implement "${e}"`)}function ze(e,t){if(!(e instanceof Uint8Array))throw TypeError(`The "${t}" argument must be an instance of Buffer or Uint8Array`)}function U(e,t,r=Be+1){if(e<0||e>r){let n=RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= ${r}. Received ${e}`);throw n.code="ERR_OUT_OF_RANGE",n}}function L(e,t){if(typeof e!="number"){let r=TypeError(`The "${t}" argument must be of type number. Received type ${typeof e}.`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function me(e,t){if(!Number.isInteger(e)||Number.isNaN(e)){let r=RangeError(`The value of "${t}" is out of range. It must be an integer. Received ${e}`);throw r.code="ERR_OUT_OF_RANGE",r}}function Ie(e,t){if(typeof e!="string"){let r=TypeError(`The "${t}" argument must be of type string. Received type ${typeof e}`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function mt(e,t="utf8"){return ye.from(e,t)}var ye,Rt,yt,je,he,Be,rt,Mt,Ce,rr,nr,ir,m=Oe(()=>{ye=class He extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(t,r=0,n="utf8"){return Ie(n,"encoding"),He.allocUnsafe(t).fill(r,n)}static allocUnsafe(t){return He.from(t)}static allocUnsafeSlow(t){return He.from(t)}static isBuffer(t){return t&&!!t._isBuffer}static byteLength(t,r="utf8"){if(typeof t=="string")return Ke(t,r).byteLength;if(t&&t.byteLength)return t.byteLength;let n=TypeError('The "string" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw n.code="ERR_INVALID_ARG_TYPE",n}static isEncoding(t){return he.includes(t)}static compare(t,r){ze(t,"buff1"),ze(r,"buff2");for(let n=0;n<t.length;n++){if(t[n]<r[n])return-1;if(t[n]>r[n])return 1}return t.length===r.length?0:t.length>r.length?1:-1}static from(t,r="utf8"){if(t&&typeof t=="object"&&t.type==="Buffer")return new He(t.data);if(typeof t=="number")return new He(new Uint8Array(t));if(typeof t=="string")return Ke(t,r);if(ArrayBuffer.isView(t)){let{byteOffset:n,byteLength:i,buffer:s}=t;return"map"in t&&typeof t.map=="function"?new He(t.map(o=>o%256),n,i):new He(s,n,i)}if(t&&typeof t=="object"&&("length"in t||"byteLength"in t||"buffer"in t))return new He(t);throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}static concat(t,r){if(t.length===0)return He.alloc(0);let n=[].concat(...t.map(s=>[...s])),i=He.alloc(r!==void 0?r:n.length);return i.set(r!==void 0?n.slice(0,r):n),i}slice(t=0,r=this.length){return this.subarray(t,r)}subarray(t=0,r=this.length){return Object.setPrototypeOf(super.subarray(t,r),He.prototype)}reverse(){return super.reverse(),this}readIntBE(t,r){L(t,"offset"),me(t,"offset"),U(t,"offset",this.length-1),L(r,"byteLength"),me(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let s=0;s<r;s++)i=256*i+n.getUint8(s);return 128&n.getUint8(0)&&(i-=Math.pow(256,r)),i}readIntLE(t,r){L(t,"offset"),me(t,"offset"),U(t,"offset",this.length-1),L(r,"byteLength"),me(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let s=0;s<r;s++)i+=n.getUint8(s)*Math.pow(256,s);return 128&n.getUint8(r-1)&&(i-=Math.pow(256,r)),i}readUIntBE(t,r){L(t,"offset"),me(t,"offset"),U(t,"offset",this.length-1),L(r,"byteLength"),me(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let s=0;s<r;s++)i=256*i+n.getUint8(s);return i}readUintBE(t,r){return this.readUIntBE(t,r)}readUIntLE(t,r){L(t,"offset"),me(t,"offset"),U(t,"offset",this.length-1),L(r,"byteLength"),me(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let s=0;s<r;s++)i+=n.getUint8(s)*Math.pow(256,s);return i}readUintLE(t,r){return this.readUIntLE(t,r)}writeIntBE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntBE(t,r,n)}writeIntLE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntLE(t,r,n)}writeUIntBE(t,r,n){L(r,"offset"),me(r,"offset"),U(r,"offset",this.length-1),L(n,"byteLength"),me(n,"byteLength");let i=new DataView(this.buffer,r,n);for(let s=n-1;s>=0;s--)i.setUint8(s,255&t),t/=256;return r+n}writeUintBE(t,r,n){return this.writeUIntBE(t,r,n)}writeUIntLE(t,r,n){L(r,"offset"),me(r,"offset"),U(r,"offset",this.length-1),L(n,"byteLength"),me(n,"byteLength");let i=new DataView(this.buffer,r,n);for(let s=0;s<n;s++)i.setUint8(s,255&t),t/=256;return r+n}writeUintLE(t,r,n){return this.writeUIntLE(t,r,n)}toJSON(){return{type:"Buffer",data:Array.from(this)}}swap16(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=2)t.setUint16(r,t.getUint16(r,!0),!1);return this}swap32(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=4)t.setUint32(r,t.getUint32(r,!0),!1);return this}swap64(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=8)t.setBigUint64(r,t.getBigUint64(r,!0),!1);return this}compare(t,r=0,n=t.length,i=0,s=this.length){return ze(t,"target"),L(r,"targetStart"),L(n,"targetEnd"),L(i,"sourceStart"),L(s,"sourceEnd"),U(r,"targetStart"),U(n,"targetEnd",t.length),U(i,"sourceStart"),U(s,"sourceEnd",this.length),He.compare(this.slice(i,s),t.slice(r,n))}equals(t){return ze(t,"otherBuffer"),this.length===t.length&&this.every((r,n)=>r===t[n])}copy(t,r=0,n=0,i=this.length){U(r,"targetStart"),U(n,"sourceStart",this.length),U(i,"sourceEnd"),r>>>=0,n>>>=0,i>>>=0;let s=0;for(;n<i&&this[n]!==void 0&&t[r]!==void 0;)t[r]=this[n],s++,n++,r++;return s}write(t,r,n,i="utf8"){let s=typeof r=="string"?0:r??0,o=typeof n=="string"?this.length-s:n??this.length-s;return i=typeof r=="string"?r:typeof n=="string"?n:i,L(s,"offset"),L(o,"length"),U(s,"offset",this.length),U(o,"length",this.length),(i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")&&(o-=o%2),Ke(t,i).copy(this,s,0,o)}fill(t=0,r=0,n=this.length,i="utf-8"){let s=typeof r=="string"?0:r,o=typeof n=="string"?this.length:n;if(i=typeof r=="string"?r:typeof n=="string"?n:i,t=He.from(typeof t=="number"?[t]:t??[],i),Ie(i,"encoding"),U(s,"offset",this.length),U(o,"end",this.length),t.length!==0)for(let a=s;a<o;a+=t.length)super.set(t.slice(0,t.length+a>=this.length?this.length-a:t.length),a);return this}includes(t,r=null,n="utf-8"){return this.indexOf(t,r,n)!==-1}lastIndexOf(t,r=null,n="utf-8"){return this.indexOf(t,r,n,!0)}indexOf(t,r=null,n="utf-8",i=!1){let s=i?this.findLastIndex.bind(this):this.findIndex.bind(this);n=typeof r=="string"?r:n;let o=He.from(typeof t=="number"?[t]:t,n),a=typeof r=="string"?0:r;return a=Number.isNaN(a=typeof r=="number"?a:null)?null:a,a??=i?this.length:0,a=a<0?this.length+a:a,o.length===0&&i===!1?a>=this.length?this.length:a:o.length===0&&i===!0?(a>=this.length?this.length:a)||this.length:s((l,u)=>(i?u<=a:u>=a)&&this[u]===o[0]&&o.every((b,P)=>this[u+P]===b))}toString(t="utf8",r=0,n=this.length){if(r=r<0?0:r,t=t.toString().toLowerCase(),n<=0)return"";if(t==="utf8"||t==="utf-8")return je.decode(this.slice(r,n));if(t==="base64"||t==="base64url"){let i=btoa(this.reduce((s,o)=>s+Mt(o),""));return t==="base64url"?i.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):i}if(t==="binary"||t==="ascii"||t==="latin1"||t==="latin-1")return this.slice(r,n).reduce((i,s)=>i+Mt(s&(t==="ascii"?127:255)),"");if(t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le"){let i=new DataView(this.buffer.slice(r,n));return Array.from({length:i.byteLength/2},(s,o)=>2*o+1<i.byteLength?Mt(i.getUint16(2*o,!0)):"").join("")}if(t==="hex")return this.slice(r,n).reduce((i,s)=>i+s.toString(16).padStart(2,"0"),"");ft(`encoding "${t}"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString("hex").match(/.{1,2}/g).join(" ")}>`}},Rt={int8:[-128,127],int16:[-32768,32767],int32:[-2147483648,2147483647],uint8:[0,255],uint16:[0,65535],uint32:[0,4294967295],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},yt=new TextEncoder,je=new TextDecoder,he=["utf8","utf-8","hex","base64","ascii","binary","base64url","ucs2","ucs-2","utf16le","utf-16le","latin1","latin-1"],Be=4294967295,function(e){let t=Object.getOwnPropertyNames(DataView.prototype).filter(s=>s.startsWith("get")||s.startsWith("set")),r=t.map(s=>s.replace("get","read").replace("set","write")),n=(s,o)=>function(a=0){return L(a,"offset"),me(a,"offset"),U(a,"offset",this.length-1),new DataView(this.buffer)[t[s]](a,o)},i=(s,o)=>function(a,l=0){let u=Rt[t[s].match(/set(\w+\d+)/)[1].toLowerCase()];return L(l,"offset"),me(l,"offset"),U(l,"offset",this.length-1),function(b,P,E,A){if(b<E||b>A){let k=RangeError(`The value of "${P}" is out of range. It must be >= ${E} and <= ${A}. Received ${b}`);throw k.code="ERR_OUT_OF_RANGE",k}}(a,"value",u[0],u[1]),new DataView(this.buffer)[t[s]](l,a,o),l+parseInt(t[s].match(/\d+/)[0])/8};r.forEach((s,o)=>{s.startsWith("read")&&(e[s]=n(o,!1),e[s+"LE"]=n(o,!0),e[s+"BE"]=n(o,!1)),s.startsWith("write")&&(e[s]=i(o,!1),e[s+"LE"]=i(o,!0),e[s+"BE"]=i(o,!1)),[s,s+"LE",s+"BE"].forEach(a=>{a.includes("Uint")&&(e[a.replace("Uint","UInt")]=e[a]),a.includes("Float64")&&(e[a.replace("Float64","Double")]=e[a]),a.includes("Float32")&&(e[a.replace("Float32","Float")]=e[a])})})}(ye.prototype),rt=new Proxy(mt,{construct:(e,[t,r])=>ye.from(t,r),get:(e,t)=>ye[t]}),Mt=String.fromCodePoint}),y=Oe(()=>{Ce={nextTick:(e,...t)=>{setTimeout(()=>{e(...t)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"],pid:1e4},{cwd:rr}=Ce}),w=Oe(()=>{I.performance??(()=>{let e=Date.now();return{now:()=>Date.now()-e}})()}),_=Oe(()=>{(nr=()=>{}).prototype=nr}),v=Oe(()=>{ir=class{value;constructor(e){this.value=e}deref(){return this.value}}});function sr(e,t){var r,n,i,s,o,a,l,u,b=e.constructor,P=b.precision;if(!e.s||!t.s)return t.s||(t=new b(e)),se?ne(t,P):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),s=o-i){for(s<0?(n=l,s=-s,a=u.length):(n=u,i=o,a=l.length),s>(a=(o=Math.ceil(P/ae))>a?o+1:a+1)&&(s=a,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for((a=l.length)-(s=u.length)<0&&(s=a,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/Ae|0,l[s]%=Ae;for(r&&(l.unshift(r),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,se?ne(t,P):t}function Ze(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Je+e)}function Ye(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",(r=ae-n.length)&&(s+=Xe(r)),s+=n;n=(o=e[t])+"",(r=ae-n.length)&&(s+=Xe(r))}else if(o===0)return"0";for(;o%10==0;)o/=10;return s+o}function or(e,t){var r,n,i,s,o,a=0,l=0,u=e.constructor,b=u.precision;if(Pe(e)>16)throw Error(Nt+Pe(e));if(!e.s)return new u(Le);for(t==null?(se=!1,o=b):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),l+=5;for(o+=Math.log(ct(2,l))/Math.LN10*2+5|0,r=n=i=new u(Le),u.precision=o;;){if(n=ne(n.times(e),o),r=r.times(++a),Ye((s=i.plus(et(n,r,o))).d).slice(0,o)===Ye(i.d).slice(0,o)){for(;l--;)i=ne(i.times(i),o);return u.precision=b,t==null?(se=!0,ne(i,b)):i}i=s}}function Pe(e){for(var t=e.e*ae,r=e.d[0];r>=10;r/=10)t++;return t}function Lt(e,t,r){if(t>e.LN10.sd())throw se=!0,r&&(e.precision=r),Error(Me+"LN10 precision limit exceeded");return ne(new e(e.LN10),t)}function Xe(e){for(var t="";e--;)t+="0";return t}function wt(e,t){var r,n,i,s,o,a,l,u,b,P=1,E=e,A=E.d,k=E.constructor,$=k.precision;if(E.s<1)throw Error(Me+(E.s?"NaN":"-Infinity"));if(E.eq(Le))return new k(0);if(t==null?(se=!1,u=$):u=t,E.eq(10))return t==null&&(se=!0),Lt(k,u);if(k.precision=u+=10,n=(r=Ye(A)).charAt(0),!(15e14>Math.abs(s=Pe(E))))return l=Lt(k,u+2,$).times(s+""),E=wt(new k(n+"."+r.slice(1)),u-10).plus(l),k.precision=$,t==null?(se=!0,ne(E,$)):E;for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)n=(r=Ye((E=E.times(e)).d)).charAt(0),P++;for(s=Pe(E),n>1?(E=new k("0."+r),s++):E=new k(n+"."+r.slice(1)),a=o=E=et(E.minus(Le),E.plus(Le),u),b=ne(E.times(E),u),i=3;;){if(o=ne(o.times(b),u),Ye((l=a.plus(et(o,new k(i),u))).d).slice(0,u)===Ye(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(Lt(k,u+2,$).times(s+""))),a=et(a,new k(P),u),k.precision=$,t==null?(se=!0,ne(a,$)):a;a=l,i+=2}}function ar(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i)){if(i-=n,e.e=it((r=r-n-1)/ae),e.d=[],n=(r+1)%ae,r<0&&(n+=ae),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ae;n<i;)e.d.push(+t.slice(n,n+=ae));t=t.slice(n),n=ae-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),se&&(e.e>$t||e.e<-$t))throw Error(Nt+r)}else e.s=0,e.e=0,e.d=[0];return e}function ne(e,t,r){var n,i,s,o,a,l,u,b,P=e.d;for(o=1,s=P[0];s>=10;s/=10)o++;if((n=t-o)<0)n+=ae,i=t,u=P[b=0];else{if((b=Math.ceil((n+1)/ae))>=(s=P.length))return e;for(u=s=P[b],o=1;s>=10;s/=10)o++;n%=ae,i=n-ae+o}if(r!==void 0&&(a=u/(s=ct(10,o-i-1))%10|0,l=t<0||P[b+1]!==void 0||u%s,l=r<4?(a||l)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?i>0?u/ct(10,o-i):0:P[b-1])%10&1||r==(e.s<0?8:7))),t<1||!P[0])return l?(s=Pe(e),P.length=1,t=t-s-1,P[0]=ct(10,(ae-t%ae)%ae),e.e=it(-t/ae)||0):(P.length=1,P[0]=e.e=e.s=0),e;if(n==0?(P.length=b,s=1,b--):(P.length=b+1,s=ct(10,ae-n),P[b]=i>0?(u/ct(10,o-i)%ct(10,i)|0)*s:0),l)for(;;)if(b==0){(P[0]+=s)==Ae&&(P[0]=1,++e.e);break}else{if(P[b]+=s,P[b]!=Ae)break;P[b--]=0,s=1}for(n=P.length;P[--n]===0;)P.pop();if(se&&(e.e>$t||e.e<-$t))throw Error(Nt+Pe(e));return e}function _t(e,t){var r,n,i,s,o,a,l,u,b,P,E=e.constructor,A=E.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new E(e),se?ne(t,A):t;if(l=e.d,P=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n){for((b=o<0)?(r=l,o=-o,a=P.length):(r=P,n=u,a=l.length),o>(i=Math.max(Math.ceil(A/ae),a)+2)&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for((b=(i=l.length)<(a=P.length))&&(a=i),i=0;i<a;i++)if(l[i]!=P[i]){b=l[i]<P[i];break}o=0}for(b&&(r=l,l=P,P=r,t.s=-t.s),a=l.length,i=P.length-a;i>0;--i)l[a++]=0;for(i=P.length;i>o;){if(l[--i]<P[i]){for(s=i;s&&l[--s]===0;)l[s]=Ae-1;--l[s],l[i]+=Ae}l[i]-=P[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,se?ne(t,A):t):new E(0)}function nt(e,t,r){var n,i=Pe(e),s=Ye(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Xe(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Xe(-i-1)+s,r&&(n=r-o)>0&&(s+=Xe(n))):i>=o?(s+=Xe(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Xe(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Xe(n))),e.s<0?"-"+s:s}function ht(e,t){if(e.length>t)return e.length=t,!0}function We(e){if(!e||typeof e!="object")throw Error(Me+"Object expected");var t,r,n,i=["precision",1,lt,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(it(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Je+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Je+r+": "+n);return this}var lt,Ht,vt,se,Me,Je,Nt,it,ct,lr,Le,Ae,ae,$t,C,et,Vt,Ft,Ct,Cr=Oe(()=>{m(),y(),w(),_(),v(),g(),lt=1e9,Ht={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},se=!0,Je=(Me="[DecimalError] ")+"Invalid argument: ",Nt=Me+"Exponent out of range: ",it=Math.floor,ct=Math.pow,lr=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ae=1e7,$t=it(9007199254740991/(ae=7)),(C={}).absoluteValue=C.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},C.comparedTo=C.cmp=function(e){var t,r,n,i;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(n=this.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return n===i?0:n>i^this.s<0?1:-1},C.decimalPlaces=C.dp=function(){var e=this.d.length-1,t=(e-this.e)*ae;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},C.dividedBy=C.div=function(e){return et(this,new this.constructor(e))},C.dividedToIntegerBy=C.idiv=function(e){var t=this.constructor;return ne(et(this,new t(e),0,1),t.precision)},C.equals=C.eq=function(e){return!this.cmp(e)},C.exponent=function(){return Pe(this)},C.greaterThan=C.gt=function(e){return this.cmp(e)>0},C.greaterThanOrEqualTo=C.gte=function(e){return this.cmp(e)>=0},C.isInteger=C.isint=function(){return this.e>this.d.length-2},C.isNegative=C.isneg=function(){return this.s<0},C.isPositive=C.ispos=function(){return this.s>0},C.isZero=function(){return this.s===0},C.lessThan=C.lt=function(e){return 0>this.cmp(e)},C.lessThanOrEqualTo=C.lte=function(e){return 1>this.cmp(e)},C.logarithm=C.log=function(e){var t,r=this.constructor,n=r.precision,i=n+5;if(e===void 0)e=new r(10);else if((e=new r(e)).s<1||e.eq(Le))throw Error(Me+"NaN");if(this.s<1)throw Error(Me+(this.s?"NaN":"-Infinity"));return this.eq(Le)?new r(0):(se=!1,t=et(wt(this,i),wt(e,i),i),se=!0,ne(t,n))},C.minus=C.sub=function(e){return e=new this.constructor(e),this.s==e.s?_t(this,e):sr(this,(e.s=-e.s,e))},C.modulo=C.mod=function(e){var t,r=this.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(Me+"NaN");return this.s?(se=!1,t=et(this,e,0,1).times(e),se=!0,this.minus(t)):ne(new r(this),n)},C.naturalExponential=C.exp=function(){return or(this)},C.naturalLogarithm=C.ln=function(){return wt(this)},C.negated=C.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},C.plus=C.add=function(e){return e=new this.constructor(e),this.s==e.s?sr(this,e):_t(this,(e.s=-e.s,e))},C.precision=C.sd=function(e){var t,r,n;if(e!==void 0&&!!e!==e&&e!==1&&e!==0)throw Error(Je+e);if(t=Pe(this)+1,r=(n=this.d.length-1)*ae+1,n=this.d[n]){for(;n%10==0;n/=10)r--;for(n=this.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},C.squareRoot=C.sqrt=function(){var e,t,r,n,i,s,o,a=this.constructor;if(this.s<1){if(!this.s)return new a(0);throw Error(Me+"NaN")}for(e=Pe(this),se=!1,(i=Math.sqrt(+this))==0||i==1/0?(((t=Ye(this.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=it((e+1)/2)-(e<0||e%2),n=new a(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new a(i.toString()),i=o=(r=a.precision)+3;;)if(n=(s=n).plus(et(this,s,o+2)).times(.5),Ye(s.d).slice(0,o)===(t=Ye(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ne(s,r+1,0),s.times(s).eq(this)){n=s;break}}else if(t!="9999")break;o+=4}return se=!0,ne(n,r)},C.times=C.mul=function(e){var t,r,n,i,s,o,a,l,u,b=this.constructor,P=this.d,E=(e=new b(e)).d;if(!this.s||!e.s)return new b(0);for(e.s*=this.s,r=this.e+e.e,(l=P.length)<(u=E.length)&&(s=P,P=E,E=s,o=l,l=u,u=o),s=[],n=o=l+u;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)a=s[i]+E[n]*P[i-n-1]+t,s[i--]=a%Ae|0,t=a/Ae|0;s[i]=(s[i]+t)%Ae|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,se?ne(e,b.precision):e},C.toDecimalPlaces=C.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ze(e,0,lt),t===void 0?t=n.rounding:Ze(t,0,8),ne(r,e+Pe(r)+1,t))},C.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=nt(n,!0):(Ze(e,0,lt),t===void 0?t=i.rounding:Ze(t,0,8),r=nt(n=ne(new i(n),e+1,t),!0,e+1)),r},C.toFixed=function(e,t){var r,n,i=this.constructor;return e===void 0?nt(this):(Ze(e,0,lt),t===void 0?t=i.rounding:Ze(t,0,8),r=nt((n=ne(new i(this),e+Pe(this)+1,t)).abs(),!1,e+Pe(n)+1),this.isneg()&&!this.isZero()?"-"+r:r)},C.toInteger=C.toint=function(){var e=this.constructor;return ne(new e(this),Pe(this)+1,e.rounding)},C.toNumber=function(){return+this},C.toPower=C.pow=function(e){var t,r,n,i,s,o,a=this,l=a.constructor,u=+(e=new l(e));if(!e.s)return new l(Le);if(!(a=new l(a)).s){if(e.s<1)throw Error(Me+"Infinity");return a}if(a.eq(Le))return a;if(n=l.precision,e.eq(Le))return ne(a,n);if(o=(t=e.e)>=(r=e.d.length-1),s=a.s,o){if((r=u<0?-u:u)<=9007199254740991){for(i=new l(Le),t=Math.ceil(n/ae+4),se=!1;r%2&&ht((i=i.times(a)).d,t),(r=it(r/2))!==0;)ht((a=a.times(a)).d,t);return se=!0,e.s<0?new l(Le).div(i):ne(i,n)}}else if(s<0)throw Error(Me+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,a.s=1,se=!1,i=e.times(wt(a,n+12)),se=!0,(i=or(i)).s=s,i},C.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Pe(i),n=nt(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ze(e,1,lt),t===void 0?t=s.rounding:Ze(t,0,8),r=Pe(i=ne(new s(i),e,t)),n=nt(i,e<=r||r<=s.toExpNeg,e)),n},C.toSignificantDigits=C.tosd=function(e,t){var r=this.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ze(e,1,lt),t===void 0?t=r.rounding:Ze(t,0,8)),ne(new r(this),e,t)},C.toString=C.valueOf=C.val=C.toJSON=C[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=Pe(this),t=this.constructor;return nt(this,e<=t.toExpNeg||e>=t.toExpPos)},et=function(){function e(n,i){var s,o=0,a=n.length;for(n=n.slice();a--;)s=n[a]*i+o,n[a]=s%Ae|0,o=s/Ae|0;return o&&n.unshift(o),n}function t(n,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(n[a]!=i[a]){l=n[a]>i[a]?1:-1;break}return l}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=+(n[s]<i[s]),n[s]=o*Ae+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var a,l,u,b,P,E,A,k,$,q,Z,ce,Se,oe,W,B,z,ue,Ne=n.constructor,be=n.s==i.s?1:-1,V=n.d,j=i.d;if(!n.s)return new Ne(n);if(!i.s)throw Error(Me+"Division by zero");for(l=n.e-i.e,z=j.length,W=V.length,k=(A=new Ne(be)).d=[],u=0;j[u]==(V[u]||0);)++u;if(j[u]>(V[u]||0)&&--l,(ce=s==null?s=Ne.precision:o?s+(Pe(n)-Pe(i))+1:s)<0)return new Ne(0);if(ce=ce/ae+2|0,u=0,z==1)for(b=0,j=j[0],ce++;(u<W||b)&&ce--;u++)Se=b*Ae+(V[u]||0),k[u]=Se/j|0,b=Se%j|0;else{for((b=Ae/(j[0]+1)|0)>1&&(j=e(j,b),V=e(V,b),z=j.length,W=V.length),oe=z,q=($=V.slice(0,z)).length;q<z;)$[q++]=0;(ue=j.slice()).unshift(0),B=j[0],j[1]>=Ae/2&&++B;do b=0,(a=t(j,$,z,q))<0?(Z=$[0],z!=q&&(Z=Z*Ae+($[1]||0)),(b=Z/B|0)>1?(b>=Ae&&(b=Ae-1),E=(P=e(j,b)).length,q=$.length,(a=t(P,$,E,q))==1&&(b--,r(P,z<E?ue:j,E))):(b==0&&(a=b=1),P=j.slice()),(E=P.length)<q&&P.unshift(0),r($,P,q),a==-1&&(q=$.length,(a=t(j,$,z,q))<1&&(b++,r($,z<q?ue:j,q))),q=$.length):a===0&&(b++,$=[0]),k[u++]=b,a&&$[0]?$[q++]=V[oe]||0:($=[V[oe]],q=1);while((oe++<W||$[0]!==void 0)&&ce--)}return k[0]||k.shift(),A.e=l,ne(A,o?s+Pe(A)+1:s)}}(),Le=new(vt=function e(t){var r,n,i;function s(o){if(!(this instanceof s))return new s(o);if(this.constructor=s,o instanceof s){this.s=o.s,this.e=o.e,this.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(0*o!=0)throw Error(Je+o);if(o>0)this.s=1;else if(o<0)o=-o,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(o===~~o&&o<1e7){this.e=0,this.d=[o];return}return ar(this,o.toString())}if(typeof o!="string")throw Error(Je+o);if(o.charCodeAt(0)===45?(o=o.slice(1),this.s=-1):this.s=1,lr.test(o))ar(this,o);else throw Error(Je+o)}if(s.prototype=C,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=We,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return s.config(t),s}(Ht))(1),Vt=vt}),g=Oe(()=>{Cr(),Ct=Ft=class extends Vt{static isDecimal(e){return e instanceof Vt}static random(e=20){{let t=I.crypto.getRandomValues(new Uint8Array(e)).reduce((r,n)=>r+n,"");return new Vt(`0.${t.slice(0,e)}`)}}}});function Gt(){return!1}function Ut(){return{dev:0,ino:0,mode:0,nlink:0,uid:0,gid:0,rdev:0,size:0,blksize:0,blocks:0,atimeMs:0,mtimeMs:0,ctimeMs:0,birthtimeMs:0,atime:new Date,mtime:new Date,ctime:new Date,birthtime:new Date}}function Dr(){return Ut()}function Dt(){return[]}function cr(e){e(null,[])}function qr(){return""}function le(){return""}function ur(){}function dr(){}function fr(){}function hr(){}function gr(){}function Ir(){}function Tr(){}function pr(){}function mr(){return{close:()=>{},on:()=>{},removeAllListeners:()=>{}}}function yr(e,t){t(null,Ut())}var qt,Te=Oe(()=>{m(),y(),w(),_(),v(),g(),qt={existsSync:Gt,lstatSync:Ut,stat:yr,statSync:Dr,readdirSync:Dt,readdir:cr,readlinkSync:qr,realpathSync:le,chmodSync:ur,renameSync:dr,mkdirSync:fr,rmdirSync:hr,rmSync:gr,unlinkSync:Ir,watchFile:Tr,unwatchFile:pr,watch:mr,promises:{}}});function Kt(...e){return e.join("/")}function zt(...e){return e.join("/")}function wr(e){let t=Zt(e),r=Yt(e),[n,i]=t.split(".");return{root:"/",dir:r,base:t,ext:i,name:n}}function Zt(e){let t=e.split("/");return t[t.length-1]}function Yt(e){return e.split("/").slice(0,-1).join("/")}function jr(e){let t=e.split("/").filter(i=>i!==""&&i!=="."),r=[];for(let i of t)i===".."?r.pop():r.push(i);let n=r.join("/");return e.startsWith("/")?"/"+n:n}var It,_r,Tt=Oe(()=>{m(),y(),w(),_(),v(),g(),It={basename:Zt,delimiter:":",dirname:Yt,join:zt,normalize:jr,parse:wr,posix:{sep:"/"},resolve:Kt,sep:"/"}}),vr=at((e,t)=>{t.exports={name:"@prisma/internals",version:"6.16.1",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"5.1.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","fs-jetpack":"5.1.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/schema-engine-wasm":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),Mr=at((e,t)=>{m(),y(),w(),_(),v(),g(),t.exports=(r,n=1,i)=>{if(i={indent:" ",includeEmptyLines:!1,...i},typeof r!="string")throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof r}\``);if(typeof n!="number")throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof n}\``);if(typeof i.indent!="string")throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof i.indent}\``);if(n===0)return r;let s=i.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return r.replace(s,i.indent.repeat(n))}}),br=at((e,t)=>{m(),y(),w(),_(),v(),g(),t.exports=function(){function r(n,i,s,o,a){return n<i||s<i?n>s?s+1:n+1:o===a?i:i+1}return function(n,i){if(n===i)return 0;if(n.length>i.length){var s=n;n=i,i=s}for(var o=n.length,a=i.length;o>0&&n.charCodeAt(o-1)===i.charCodeAt(a-1);)o--,a--;for(var l=0;l<o&&n.charCodeAt(l)===i.charCodeAt(l);)l++;if(o-=l,a-=l,o===0||a<3)return a;var u,b,P,E,A,k,$,q,Z,ce,Se,oe,W=0,B=[];for(u=0;u<o;u++)B.push(u+1),B.push(n.charCodeAt(l+u));for(var z=B.length-1;W<a-3;)for(Z=i.charCodeAt(l+(b=W)),ce=i.charCodeAt(l+(P=W+1)),Se=i.charCodeAt(l+(E=W+2)),oe=i.charCodeAt(l+(A=W+3)),k=W+=4,u=0;u<z;u+=2)b=r($=B[u],b,P,Z,q=B[u+1]),P=r(b,P,E,ce,q),E=r(P,E,A,Se,q),k=r(E,A,k,oe,q),B[u]=k,A=E,E=P,P=b,b=$;for(;W<a;)for(Z=i.charCodeAt(l+(b=W)),k=++W,u=0;u<z;u+=2)$=B[u],B[u]=k=r($,b,k,Z,B[u+1]),b=$;return k}}()}),Lr=Oe(()=>{m(),y(),w(),_(),v(),g()}),Er=Oe(()=>{m(),y(),w(),_(),v(),g()}),Vr=at((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"1c57fdcd7e44b29b9313256c76699e91c3ac3c43"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),f=Oe(()=>{m(),y(),w(),_(),v(),g(),_r=class{events={};on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e,...t){return!!this.events[e]&&(this.events[e].forEach(r=>{r(...t)}),!0)}}}),d={};Ge(d,{DMMF:()=>si,Debug:()=>bt,Decimal:()=>Ct,Extensions:()=>p,MetricsClient:()=>qi,PrismaClientInitializationError:()=>Re,PrismaClientKnownRequestError:()=>er,PrismaClientRustPanicError:()=>Br,PrismaClientUnknownRequestError:()=>ut,PrismaClientValidationError:()=>Et,Public:()=>D,Sql:()=>Wt,createParam:()=>Bs,defineDmmfProperty:()=>Qs,deserializeJsonResponse:()=>an,deserializeRawResult:()=>cs,dmmfToRuntimeDataModel:()=>qs,empty:()=>zs,getPrismaClient:()=>Do,getRuntime:()=>Ln,join:()=>Ks,makeStrictEnum:()=>Io,makeTypedQueryFactory:()=>Hs,objectEnumValues:()=>_i,raw:()=>ji,serializeJsonQuery:()=>$i,skip:()=>Ri,sqltag:()=>Zs,warnEnvConflicts:()=>{},warnOnce:()=>ni}),qe.exports=Ot(fe({},"__esModule",{value:!0}),d),m(),y(),w(),_(),v(),g();var p={};function S(e){return typeof e=="function"?e:t=>t.$extends(e)}function x(e){return e}Ge(p,{defineExtension:()=>S,getExtensionContext:()=>x}),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var D={};function F(){return e=>e}Ge(D,{validator:()=>F}),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var ie,pe,Qe,Pr,Sr=!0;"u">typeof Ce&&({FORCE_COLOR:ie,NODE_DISABLE_COLORS:pe,NO_COLOR:Qe,TERM:Pr}=Ce.env||{},Sr=Ce.stdout&&Ce.stdout.isTTY);var c={enabled:!pe&&Qe==null&&Pr!=="dumb"&&(ie!=null&&ie!=="0"||Sr)};function h(e,t){let r=RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(s){return c.enabled&&s!=null?n+(~(""+s).indexOf(i)?s.replace(r,i+n):s)+i:s}}h(0,0);var N=h(1,22),T=h(2,22),Q=(h(3,23),h(4,24)),K=(h(7,27),h(8,28),h(9,29),h(30,39),h(31,39)),X=h(32,39),_e=h(33,39),Ve=h(34,39),De=(h(35,39),h(36,39)),Xt=(h(37,39),h(90,39));h(90,39),h(40,49),h(41,49),h(42,49),h(43,49),h(44,49),h(45,49),h(46,49),h(47,49),m(),y(),w(),_(),v(),g();var Bt=["green","yellow","blue","magenta","cyan","red"],Ar=[],Gn=Date.now(),As=0,un="u">typeof Ce?Ce.env:{};I.DEBUG??=un.DEBUG??"",I.DEBUG_COLORS??=!un.DEBUG_COLORS||un.DEBUG_COLORS==="true";var Fr={enable(e){typeof e=="string"&&(I.DEBUG=e)},disable(){let e=I.DEBUG;return I.DEBUG="",e},enabled(e){let t=I.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(i=>i!==""&&i[0]!=="-"&&e.match(RegExp(i.split("*").join(".*")+"$"))),n=t.some(i=>i!==""&&i[0]==="-"&&e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}},bt=new Proxy(function(e){let t={color:Bt[As++%Bt.length],enabled:Fr.enabled(e),namespace:e,log:Fr.log,extend:()=>{}};return new Proxy((...r)=>{let{enabled:n,namespace:i,color:s,log:o}=t;if(r.length!==0&&Ar.push([i,...r]),Ar.length>100&&Ar.shift(),Fr.enabled(i)||n){let a=r.map(u=>typeof u=="string"?u:function(b,P=2){let E=new Set;return JSON.stringify(b,(A,k)=>{if(typeof k=="object"&&k!==null){if(E.has(k))return"[Circular *]";E.add(k)}else if(typeof k=="bigint")return k.toString();return k},P)}(u)),l=`+${Date.now()-Gn}ms`;Gn=Date.now(),o(i,...a,l)}},{get:(r,n)=>t[n],set:(r,n,i)=>t[n]=i})},{get:(e,t)=>Fr[t],set:(e,t,r)=>Fr[t]=r});m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var ks=vr().version;function dn(e){let t;return((t=Ce.env.PRISMA_CLIENT_ENGINE_TYPE)==="library"?"library":t==="binary"?"binary":t==="client"?"client":void 0)||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":"library")}function Kn(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}function fn(e){return{ok:!0,value:e,map:t=>fn(t(e)),flatMap:t=>t(e)}}function kr(e){return{ok:!1,error:e,map:()=>kr(e),flatMap:()=>kr(e)}}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var zn=bt("driver-adapter-utils"),xs=class{registeredErrors=[];consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;this.registeredErrors[t]!==void 0;)t++;return this.registeredErrors[t]={error:e},t}},Zn=(e,t=new xs)=>{var r,n;let i={adapterName:e.adapterName,errorRegistry:t,queryRaw:jt(t,e.queryRaw.bind(e)),executeRaw:jt(t,e.executeRaw.bind(e)),executeScript:jt(t,e.executeScript.bind(e)),dispose:jt(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...s)=>(await jt(t,e.startTransaction.bind(e))(...s)).map(o=>Os(t,o))};return e.getConnectionInfo&&(r=t,n=e.getConnectionInfo.bind(e),i.getConnectionInfo=(...s)=>{try{return fn(n(...s))}catch(o){return zn("[error@wrapSync]",o),Kn(o)?kr(o.cause):kr({kind:"GenericJs",id:r.registerNewError(o)})}}),i},Os=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:jt(e,t.queryRaw.bind(t)),executeRaw:jt(e,t.executeRaw.bind(t)),commit:jt(e,t.commit.bind(t)),rollback:jt(e,t.rollback.bind(t))});function jt(e,t){return async(...r)=>{try{return fn(await t(...r))}catch(n){return zn("[error@wrapAsync]",n),Kn(n)?kr(n.cause):kr({kind:"GenericJs",id:e.registerNewError(n)})}}}m(),y(),w(),_(),v(),g();var hn={};Ge(hn,{error:()=>$s,info:()=>Ns,log:()=>Rs,query:()=>Cs,should:()=>Yn,tags:()=>Ur,warn:()=>Xn}),m(),y(),w(),_(),v(),g();var Ur={error:K("prisma:error"),warn:_e("prisma:warn"),info:De("prisma:info"),query:Ve("prisma:query")},Yn={warn:()=>!Ce.env.PRISMA_DISABLE_WARNINGS};function Rs(...e){console.log(...e)}function Xn(e,...t){Yn.warn()&&console.warn(`${Ur.warn} ${e}`,...t)}function Ns(e,...t){console.info(`${Ur.info} ${e}`,...t)}function $s(e,...t){console.error(`${Ur.error} ${e}`,...t)}function Cs(e,...t){console.log(`${Ur.query} ${e}`,...t)}function ei(e,t){if(!e)throw Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function gn(e,t){throw Error(t)}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Ds=function({onlyFirst:e=!1}={}){return RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))",e?void 0:"g")}();function ti(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function xr(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var ri=new Set,ni=(e,t,...r)=>{ri.has(e)||(ri.add(e),Xn(t,...r))},Re=class Ss extends Error{clientVersion;errorCode;retryable;constructor(t,r,n){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=n,Error.captureStackTrace(Ss)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};xr(Re,"PrismaClientInitializationError"),m(),y(),w(),_(),v(),g();var er=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:r,meta:n,batchRequestIdx:i}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};xr(er,"PrismaClientKnownRequestError"),m(),y(),w(),_(),v(),g();var Br=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};xr(Br,"PrismaClientRustPanicError"),m(),y(),w(),_(),v(),g();var ut=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};xr(ut,"PrismaClientUnknownRequestError"),m(),y(),w(),_(),v(),g();var Et=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};xr(Et,"PrismaClientValidationError"),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Wr=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let n=t();return this.set(e,n),n}};function Yr(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function pn(e){let t;return{get:()=>(t||(t={value:e()}),t.value)}}function qs(e){return{models:mn(e.models),enums:mn(e.enums),types:mn(e.types)}}function mn(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}function yn(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function ii(e){return e.toString()!=="Invalid Date"}function wn(e){return!!Ft.isDecimal(e)||e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var si={};function Is(e){return{name:e.name,values:e.values.map(t=>t.name)}}Ge(si,{ModelAction:()=>_n,datamodelEnumToSchemaEnum:()=>Is}),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var _n=(e=>(e.findUnique="findUnique",e.findUniqueOrThrow="findUniqueOrThrow",e.findFirst="findFirst",e.findFirstOrThrow="findFirstOrThrow",e.findMany="findMany",e.create="create",e.createMany="createMany",e.createManyAndReturn="createManyAndReturn",e.update="update",e.updateMany="updateMany",e.updateManyAndReturn="updateManyAndReturn",e.upsert="upsert",e.delete="delete",e.deleteMany="deleteMany",e.groupBy="groupBy",e.count="count",e.aggregate="aggregate",e.findRaw="findRaw",e.aggregateRaw="aggregateRaw",e))(_n||{});te(Mr());var Ts={red:K,gray:Xt,dim:T,bold:N,underline:Q,highlightSource:e=>e.highlight()},js={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function oi(e){let t=e.showColors?Ts:js;return function({functionName:r,location:n,message:i,isPanic:s,contextLines:o,callArguments:a},l){var u;let b,P=[""],E=n?" in":":";if(s?(P.push(l.red(`Oops, an unknown error occurred! This is ${l.bold("on us")}, you did nothing wrong.`)),P.push(l.red(`It occurred in the ${l.bold(`\`${r}\``)} invocation${E}`))):P.push(l.red(`Invalid ${l.bold(`\`${r}\``)} invocation${E}`)),n&&P.push(l.underline((b=[(u=n).fileName],u.lineNumber&&b.push(String(u.lineNumber)),u.columnNumber&&b.push(String(u.columnNumber)),b.join(":")))),o){P.push("");let A=[o.toString()];a&&(A.push(a),A.push(l.dim(")"))),P.push(A.join("")),a&&P.push("")}else P.push(""),a&&P.push(a),P.push("");return P.push(i),P.join(`
`)}("u">typeof $getTemplateParameters?$getTemplateParameters(e,t):function({message:r,originalMethod:n,isPanic:i,callArguments:s}){return{functionName:`prisma.${n}()`,message:r,isPanic:i??!1,callArguments:s}}(e),t)}m(),y(),w(),_(),v(),g();var Ms=te(br());function ai(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function li(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Pt=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),typeof this.value=="string"?e.write(t(this.value)):e.write(this.value)}};m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),Er(),m(),y(),w(),_(),v(),g();var ci=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return typeof e=="string"?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(n,i)=>i.write(n)){let n=t.length-1;for(let i=0;i<t.length;i++)r(t[i],this),i!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};Lr(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Ls=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}};m(),y(),w(),_(),v(),g();var Xr=e=>e,ui={bold:Xr,red:Xr,green:Xr,dim:Xr,enabled:!1},Vs={bold:N,red:K,green:X,dim:T,enabled:!0},vn={write(e){e.writeLine(",")}};m(),y(),w(),_(),v(),g();var en=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}};m(),y(),w(),_(),v(),g();var bn=class{hasError=!1;markAsError(){return this.hasError=!0,this}},di=class extends bn{items=[];addItem(e){return this.items.push(new Ls(e)),this}getField(e){return this.items[e]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){if(this.items.length===0)return void this.writeEmpty(e);this.writeWithItems(e)}writeEmpty(e){let t=new en("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(vn,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},fi=class ln extends bn{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let s=i;for(let o of n){let a;if(s.value instanceof ln?a=s.value.getField(o):s.value instanceof di&&(a=s.value.getField(Number(o))),!a)return;s=a}return s}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof ln))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let s=n.value.getFieldValue(i);if(!s||!(s instanceof ln))return;let o=s.getSelectionParent();if(!o)return;n=o}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(r=>r.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0)return void this.writeEmpty(t);this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new en("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(vn,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}};m(),y(),w(),_(),v(),g();var st=class extends bn{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new en(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}};m(),y(),w(),_(),v(),g();var hi=class{fields=[];addField(e,t){return this.fields.push({write(r){let{green:n,dim:i}=r.context.colors;r.write(n(i(`${e}: ${t}`))).addMarginSymbol(n(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(vn,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function gi(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=function(s,o){let a=1/0,l;for(let u of o){let b=(0,Ms.default)(s,u);b>3||b<a&&(a=b,l=u)}return l}(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(Jr(e)),n.join(" ")}function pi(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new Pt(r.name,"true"))}function mi(e,t){let[r,n]=Or(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let s=i.getFieldValue("select")?.asObject(),o=i.getFieldValue("include")?.asObject(),a=i.getFieldValue("omit")?.asObject(),l=s?.getField(n);return s&&l?{parentKind:"select",parent:s,field:l,fieldName:n}:(l=o?.getField(n),o&&l?{parentKind:"include",field:l,parent:o,fieldName:n}:(l=a?.getField(n),a&&l?{parentKind:"omit",field:l,parent:a,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function yi(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new Pt(r.name,r.typeNames.join(" | ")))}function Or(e){let t=[...e],r=t.pop();if(!r)throw Error("unexpected empty path");return[t,r]}function Jr({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function tn(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var wi=class{modelName;name;typeName;isList;isEnum;constructor(e,t,r,n,i){this.modelName=e,this.name=t,this.typeName=r,this.isList=n,this.isEnum=i}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function En(e){return e instanceof wi}m(),y(),w(),_(),v(),g();var rn=Symbol(),Pn=new WeakMap,nn=class{constructor(e){e===rn?Pn.set(this,`Prisma.${this._getName()}`):Pn.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return Pn.get(this)}},Sn=class extends nn{_getNamespace(){return"NullTypes"}},An=class extends Sn{#e};On(An,"DbNull");var kn=class extends Sn{#e};On(kn,"JsonNull");var xn=class extends Sn{#e};On(xn,"AnyNull");var _i={classes:{DbNull:An,JsonNull:kn,AnyNull:xn},instances:{DbNull:new An(rn),JsonNull:new kn(rn),AnyNull:new xn(rn)}};function On(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}m(),y(),w(),_(),v(),g();var Fs=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(e){let t=new en(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(": ").write(this.value)}},Us=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function Rn(e){return new Us(vi(e))}function vi(e){let t=new fi;for(let[r,n]of Object.entries(e)){let i=new Fs(r,function s(o){if(typeof o=="string")return new st(JSON.stringify(o));if(typeof o=="number"||typeof o=="boolean")return new st(String(o));if(typeof o=="bigint")return new st(`${o}n`);if(o===null)return new st("null");if(o===void 0)return new st("undefined");if(wn(o))return new st(`new Prisma.Decimal("${o.toFixed()}")`);if(o instanceof Uint8Array)return new st(rt.isBuffer(o)?`Buffer.alloc(${o.byteLength})`:`new Uint8Array(${o.byteLength})`);if(o instanceof Date){let a=ii(o)?o.toISOString():"Invalid Date";return new st(`new Date("${a}")`)}return o instanceof nn?new st(`Prisma.${o._getName()}`):En(o)?new st(`prisma.${Yr(o.modelName)}.$fields.${o.name}`):Array.isArray(o)?function(a){let l=new di;for(let u of a)l.addItem(s(u));return l}(o):typeof o=="object"?vi(o):new st(Object.prototype.toString.call(o))}(n));t.addField(i)}return t}function bi(e,t){let r=t==="pretty"?Vs:ui;return{message:e.renderAllMessages(r),args:new ci(0,{colors:r}).write(e).toString()}}function Ei({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:s,globalOmit:o}){let a=Rn(e);for(let b of t)(function P(E,A,k){switch(E.kind){case"MutuallyExclusiveFields":let re;$=E,q=A,(re=q.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject())&&(re.getField($.firstField)?.markAsError(),re.getField($.secondField)?.markAsError()),q.addErrorMessage(O=>`Please ${O.bold("either")} use ${O.green(`\`${$.firstField}\``)} or ${O.green(`\`${$.secondField}\``)}, but ${O.red("not both")} at the same time.`);break;case"IncludeOnScalar":(function(O,M){let[G,ge]=Or(O.selectionPath),$e=O.outputType,ee=M.arguments.getDeepSelectionParent(G)?.value;if(ee&&(ee.getField(ge)?.markAsError(),$e))for(let Ee of $e.fields)Ee.isRelation&&ee.addSuggestion(new Pt(Ee.name,"true"));M.addErrorMessage(Ee=>{let xe=`Invalid scalar field ${Ee.red(`\`${ge}\``)} for ${Ee.bold("include")} statement`;return $e?xe+=` on model ${Ee.bold($e.name)}. ${Jr(Ee)}`:xe+=".",xe+=`
Note that ${Ee.bold("include")} statements only accept relation fields.`})})(E,A);break;case"EmptySelection":(function(O,M,G){let ge=M.arguments.getDeepSubSelectionValue(O.selectionPath)?.asObject();if(ge){let dt=ge.getField("omit")?.value.asObject();if(dt){var $e,ee,Ee=O,xe=M,we=dt;for(let Ue of(we.removeAllFields(),Ee.outputType.fields))we.addSuggestion(new Pt(Ue.name,"false"));xe.addErrorMessage(Ue=>`The ${Ue.red("omit")} statement includes every field of the model ${Ue.bold(Ee.outputType.name)}. At least one field must be included in the result`);return}if(ge.hasField("select")){let Ue,Qt,Zr;return $e=O,ee=M,Ue=$e.outputType,Qt=ee.arguments.getDeepSelectionParent($e.selectionPath)?.value,Zr=Qt?.isEmpty()??!1,Qt&&(Qt.removeAllFields(),pi(Qt,Ue)),ee.addErrorMessage(tt=>Zr?`The ${tt.red("`select`")} statement for type ${tt.bold(Ue.name)} must not be empty. ${Jr(tt)}`:`The ${tt.red("`select`")} statement for type ${tt.bold(Ue.name)} needs ${tt.bold("at least one truthy value")}.`)}}if(G?.[Yr(O.outputType.name)])return function(dt,Ue){let Qt=new hi;for(let tt of dt.outputType.fields)tt.isRelation||Qt.addField(tt.name,"false");let Zr=new Pt("omit",Qt).makeRequired();if(dt.selectionPath.length===0)Ue.arguments.addSuggestion(Zr);else{let[tt,Lo]=Or(dt.selectionPath),Wn=Ue.arguments.getDeepSelectionParent(tt)?.value.asObject()?.getField(Lo);if(Wn){let Ps=Wn?.value.asObject()??new fi;Ps.addSuggestion(Zr),Wn.value=Ps}}Ue.addErrorMessage(tt=>`The global ${tt.red("omit")} configuration excludes every field of the model ${tt.bold(dt.outputType.name)}. At least one field must be included in the result`)}(O,M);M.addErrorMessage(()=>`Unknown field at "${O.selectionPath.join(".")} selection"`)})(E,A,k);break;case"UnknownSelectionField":(function(O,M){let G=mi(O.selectionPath,M);if(G.parentKind!=="unknown"){G.field.markAsError();let xe=G.parent;switch(G.parentKind){case"select":pi(xe,O.outputType);break;case"include":var ge=xe,$e=O.outputType;for(let we of $e.fields)we.isRelation&&!ge.hasField(we.name)&&ge.addSuggestion(new Pt(we.name,"true"));break;case"omit":var ee=xe,Ee=O.outputType;for(let we of Ee.fields)ee.hasField(we.name)||we.isRelation||ee.addSuggestion(new Pt(we.name,"true"))}}M.addErrorMessage(xe=>{let we=[`Unknown field ${xe.red(`\`${G.fieldName}\``)}`];return G.parentKind!=="unknown"&&we.push(`for ${xe.bold(G.parentKind)} statement`),we.push(`on model ${xe.bold(`\`${O.outputType.name}\``)}.`),we.push(Jr(xe)),we.join(" ")})})(E,A);break;case"InvalidSelectionValue":let Y;Z=E,ce=A,(Y=mi(Z.selectionPath,ce)).parentKind!=="unknown"&&Y.field.value.markAsError(),ce.addErrorMessage(O=>`Invalid value for selection field \`${O.red(Y.fieldName)}\`: ${Z.underlyingError}`);break;case"UnknownArgument":let ke,Fe;Se=E,oe=A,ke=Se.argumentPath[0],(Fe=oe.arguments.getDeepSubSelectionValue(Se.selectionPath)?.asObject())&&(Fe.getField(ke)?.markAsError(),function(O,M){for(let G of M)O.hasField(G.name)||O.addSuggestion(new Pt(G.name,G.typeNames.join(" | ")))}(Fe,Se.arguments)),oe.addErrorMessage(O=>gi(O,ke,Se.arguments.map(M=>M.name)));break;case"UnknownInputField":(function(O,M){let[G,ge]=Or(O.argumentPath),$e=M.arguments.getDeepSubSelectionValue(O.selectionPath)?.asObject();if($e){$e.getDeepField(O.argumentPath)?.markAsError();let ee=$e.getDeepFieldValue(G)?.asObject();ee&&yi(ee,O.inputType)}M.addErrorMessage(ee=>gi(ee,ge,O.inputType.fields.map(Ee=>Ee.name)))})(E,A);break;case"RequiredArgumentMissing":(function(O,M){let G;M.addErrorMessage(we=>G?.value instanceof st&&G.value.text==="null"?`Argument \`${we.green(ee)}\` must not be ${we.red("null")}.`:`Argument \`${we.green(ee)}\` is missing.`);let ge=M.arguments.getDeepSubSelectionValue(O.selectionPath)?.asObject();if(!ge)return;let[$e,ee]=Or(O.argumentPath),Ee=new hi,xe=ge.getDeepFieldValue($e)?.asObject();if(xe){if((G=xe.getField(ee))&&xe.removeField(ee),O.inputTypes.length===1&&O.inputTypes[0].kind==="object"){for(let we of O.inputTypes[0].fields)Ee.addField(we.name,we.typeNames.join(" | "));xe.addSuggestion(new Pt(ee,Ee).makeRequired())}else{let we=O.inputTypes.map(function dt(Ue){return Ue.kind==="list"?`${dt(Ue.elementType)}[]`:Ue.name}).join(" | ");xe.addSuggestion(new Pt(ee,we).makeRequired())}if(O.dependentArgumentPath){ge.getDeepField(O.dependentArgumentPath)?.markAsError();let[,we]=Or(O.dependentArgumentPath);M.addErrorMessage(dt=>`Argument \`${dt.green(ee)}\` is required because argument \`${dt.green(we)}\` was provided.`)}}})(E,A);break;case"InvalidArgumentType":let kt,$r;W=E,B=A,kt=W.argument.name,($r=B.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject())&&$r.getDeepFieldValue(W.argumentPath)?.markAsError(),B.addErrorMessage(O=>{let M=tn("or",W.argument.typeNames.map(G=>O.green(G)));return`Argument \`${O.bold(kt)}\`: Invalid value provided. Expected ${M}, provided ${O.red(W.inferredType)}.`});break;case"InvalidArgumentValue":let ms,ys;z=E,ue=A,ms=z.argument.name,(ys=ue.arguments.getDeepSubSelectionValue(z.selectionPath)?.asObject())&&ys.getDeepFieldValue(z.argumentPath)?.markAsError(),ue.addErrorMessage(O=>{let M=[`Invalid value for argument \`${O.bold(ms)}\``];if(z.underlyingError&&M.push(`: ${z.underlyingError}`),M.push("."),z.argument.typeNames.length>0){let G=tn("or",z.argument.typeNames.map(ge=>O.green(ge)));M.push(` Expected ${G}.`)}return M.join("")});break;case"ValueTooLarge":var $,q,Z,ce,Se,oe,W,B,z,ue,Ne=E,be=A;let To=Ne.argument.name,ws=be.arguments.getDeepSubSelectionValue(Ne.selectionPath)?.asObject(),Bn;if(ws){let O=ws.getDeepField(Ne.argumentPath)?.value;O?.markAsError(),O instanceof st&&(Bn=O.text)}be.addErrorMessage(O=>{let M=["Unable to fit value"];return Bn&&M.push(O.red(Bn)),M.push(`into a 64-bit signed integer for field \`${O.bold(To)}\``),M.join(" ")});break;case"SomeFieldsMissing":var V=E,j=A;let jo=V.argumentPath[V.argumentPath.length-1],_s=j.arguments.getDeepSubSelectionValue(V.selectionPath)?.asObject();if(_s){let O=_s.getDeepFieldValue(V.argumentPath)?.asObject();O&&yi(O,V.inputType)}j.addErrorMessage(O=>{let M=[`Argument \`${O.bold(jo)}\` of type ${O.bold(V.inputType.name)} needs`];return V.constraints.minFieldCount===1?V.constraints.requiredFields?M.push(`${O.green("at least one of")} ${tn("or",V.constraints.requiredFields.map(G=>`\`${O.bold(G)}\``))} arguments.`):M.push(`${O.green("at least one")} argument.`):M.push(`${O.green(`at least ${V.constraints.minFieldCount}`)} arguments.`),M.push(Jr(O)),M.join(" ")});break;case"TooManyFieldsGiven":var J=E,H=A;let Mo=J.argumentPath[J.argumentPath.length-1],vs=H.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject(),bs=[];if(vs){let O=vs.getDeepFieldValue(J.argumentPath)?.asObject();O&&(O.markAsError(),bs=Object.keys(O.getFields()))}H.addErrorMessage(O=>{let M=[`Argument \`${O.bold(Mo)}\` of type ${O.bold(J.inputType.name)} needs`];return J.constraints.minFieldCount===1&&J.constraints.maxFieldCount==1?M.push(`${O.green("exactly one")} argument,`):J.constraints.maxFieldCount==1?M.push(`${O.green("at most one")} argument,`):M.push(`${O.green(`at most ${J.constraints.maxFieldCount}`)} arguments,`),M.push(`but you provided ${tn("and",bs.map(G=>O.red(G)))}. Please choose`),J.constraints.maxFieldCount===1?M.push("one."):M.push(`${J.constraints.maxFieldCount}.`),M.join(" ")});break;case"Union":let Es;(Es=function(O){var M=(ge,$e)=>{let ee=ai(ge),Ee=ai($e);return ee!==Ee?ee-Ee:li(ge)-li($e)};if(O.length===0)return;let G=O[0];for(let ge=1;ge<O.length;ge++)0>M(G,O[ge])&&(G=O[ge]);return G}(function(O){let M=new Map,G=[];for(let ee of O){var ge,$e;if(ee.kind!=="InvalidArgumentType"){G.push(ee);continue}let Ee=`${ee.selectionPath.join(".")}:${ee.argumentPath.join(".")}`,xe=M.get(Ee);xe?M.set(Ee,{...ee,argument:{...ee.argument,typeNames:(ge=xe.argument.typeNames,$e=ee.argument.typeNames,[...new Set(ge.concat($e))])}}):M.set(Ee,ee)}return G.push(...M.values()),G}(function O(M){return M.errors.flatMap(G=>G.kind==="Union"?O(G):[G])}(E))))?P(Es,A,k):A.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+E.kind)}})(b,a,o);let{message:l,args:u}=bi(a,r);throw new Et(oi({message:l,callsite:n,originalMethod:i,showColors:r==="pretty",callArguments:u}),{clientVersion:s})}function Qr(e){return e.replace(/^./,t=>t.toLowerCase())}function Pi(e,t,r){return r?ti(r,({needs:n,compute:i},s)=>{var o,a,l;let u;return{name:s,needs:n?Object.keys(n).filter(b=>n[b]):[],compute:(o=t,a=s,l=i,(u=o?.[a]?.compute)?b=>l({...b,[a]:u(b)}):l)}}):{}}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Si=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new Wr;modelExtensionsCache=new Wr;queryCallbacksCache=new Wr;clientExtensions=pn(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=pn(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>{var t,r,n;let i,s,o;return t=this.previous?.getAllComputedFields(e),r=this.extension,i=Qr(e),r.result&&(r.result.$allModels||r.result[i])?(n={...t,...Pi(r.name,t,r.result.$allModels),...Pi(r.name,t,r.result[i])},s=new Wr,o=(a,l)=>s.getOrCreate(a,()=>l.has(a)?[a]:(l.add(a),n[a]?n[a].needs.flatMap(u=>o(u,l)):[a])),ti(n,a=>({...a,needs:o(a.name,new Set)}))):t})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=Qr(e);return this.extension.model&&(this.extension.model[t]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}:this.previous?.getAllModelExtensions(e)})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],i=this.extension.query;return i&&(i[e]||i.$allModels||i[t]||i.$allOperations)?(i[e]!==void 0&&(i[e][t]!==void 0&&n.push(i[e][t]),i[e].$allOperations!==void 0&&n.push(i[e].$allOperations)),e!=="$none"&&i.$allModels!==void 0&&(i.$allModels[t]!==void 0&&n.push(i.$allModels[t]),i.$allModels.$allOperations!==void 0&&n.push(i.$allModels.$allOperations)),i[t]!==void 0&&n.push(i[t]),i.$allOperations!==void 0&&n.push(i.$allOperations),r.concat(n)):r})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},Ai=class cn{constructor(t){this.head=t}static empty(){return new cn}static single(t){return new cn(new Si(t))}isEmpty(){return this.head===void 0}append(t){return new cn(new Si(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};m(),y(),w(),_(),v(),g();var ki=class{constructor(e){this.name=e}};function Bs(e){return new ki(e)}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var xi=Symbol(),Oi=class{constructor(e){if(e!==xi)throw Error("Skip instance can not be constructed directly")}ifUndefined(e){return e===void 0?Ri:e}},Ri=new Oi(xi);function tr(e){return e instanceof Oi}var Ws={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},Ni="explicitly `undefined` values are not allowed";function $i({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=Ai.empty(),callsite:s,clientMethod:o,errorFormat:a,clientVersion:l,previewFeatures:u,globalOmit:b}){let P=new Js({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:s,extensions:i,selectionPath:[],argumentPath:[],originalMethod:o,errorFormat:a,clientVersion:l,previewFeatures:u,globalOmit:b});return{modelName:e,action:Ws[t],query:function E({select:A,include:k,...$}={},q){var Z,ce,Se,oe,W,B,z;let ue,Ne=$.omit;return delete $.omit,{arguments:Ci($,q),selection:(Z=A,ce=k,Se=Ne,oe=q,Z?(ce?oe.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:oe.getSelectionPath()}):Se&&oe.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:oe.getSelectionPath()}),function(be,V){let j={},J=V.getComputedFields();for(let[H,re]of Object.entries(function(Y,ke){if(!ke)return Y;let Fe={...Y};for(let kt of Object.values(ke))if(Y[kt.name])for(let $r of kt.needs)Fe[$r]=!0;return Fe}(be,J))){if(tr(re))continue;let Y=V.nestSelection(H);Nn(re,Y);let ke=V.findField(H);if(!(J?.[H]&&!ke)){if(re===!1||re===void 0||tr(re)){j[H]=!1;continue}if(re===!0){ke?.kind==="object"?j[H]=E({},Y):j[H]=!0;continue}j[H]=E(re,Y)}}return j}(Z,oe)):(W=oe,B=ce,z=Se,ue={},W.modelOrType&&!W.isRawAction()&&(ue.$composites=!0,ue.$scalars=!0),B&&function(be,V,j){for(let[J,H]of Object.entries(V)){if(tr(H))continue;let re=j.nestSelection(J);if(Nn(H,re),H===!1||H===void 0){be[J]=!1;continue}let Y=j.findField(J);if(Y&&Y.kind!=="object"&&j.throwValidationError({kind:"IncludeOnScalar",selectionPath:j.getSelectionPath().concat(J),outputType:j.getOutputTypeDescription()}),Y){be[J]=E(H===!0?{}:H,re);continue}if(H===!0){be[J]=!0;continue}be[J]=E(H,re)}}(ue,B,W),function(be,V,j){let J=j.getComputedFields();for(let[H,re]of Object.entries(function(Y,ke){if(!ke)return Y;let Fe={...Y};for(let kt of Object.values(ke))if(!Y[kt.name])for(let $r of kt.needs)delete Fe[$r];return Fe}({...j.getGlobalOmit(),...V},J))){if(tr(re))continue;Nn(re,j.nestSelection(H));let Y=j.findField(H);J?.[H]&&!Y||(be[H]=!re)}}(ue,z,W),ue))}}(r,P)}}function Ci(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],s=t.nestArgument(n);tr(i)||(i!==void 0?r[n]=function o(a,l){var u,b;if(a===null)return null;if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return a;if(typeof a=="bigint")return{$type:"BigInt",value:String(a)};if(yn(a)){if(ii(a))return{$type:"DateTime",value:a.toISOString()};l.throwValidationError({kind:"InvalidArgumentValue",selectionPath:l.getSelectionPath(),argumentPath:l.getArgumentPath(),argument:{name:l.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(a instanceof ki)return{$type:"Param",value:a.name};if(En(a))return{$type:"FieldRef",value:{_ref:a.name,_container:a.modelName}};if(Array.isArray(a))return function(P,E){let A=[];for(let k=0;k<P.length;k++){let $=E.nestArgument(String(k)),q=P[k];if(q===void 0||tr(q)){let Z=q===void 0?"undefined":"Prisma.skip";E.throwValidationError({kind:"InvalidArgumentValue",selectionPath:$.getSelectionPath(),argumentPath:$.getArgumentPath(),argument:{name:`${E.getArgumentName()}[${k}]`,typeNames:[]},underlyingError:`Can not use \`${Z}\` value within array. Use \`null\` or filter out \`${Z}\` values`})}A.push(o(q,$))}return A}(a,l);if(ArrayBuffer.isView(a)){let{buffer:P,byteOffset:E,byteLength:A}=a;return{$type:"Bytes",value:rt.from(P,E,A).toString("base64")}}if(typeof(u=a)=="object"&&u!==null&&u.__prismaRawParameters__===!0)return a.values;if(wn(a))return{$type:"Decimal",value:a.toFixed()};if(a instanceof nn){if(a!==_i.instances[a._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:a._getName()}}return typeof(b=a)=="object"&&b!==null&&typeof b.toJSON=="function"?a.toJSON():typeof a=="object"?Ci(a,l):void l.throwValidationError({kind:"InvalidArgumentValue",selectionPath:l.getSelectionPath(),argumentPath:l.getArgumentPath(),argument:{name:l.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(a)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(i,s):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:s.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:Ni}))}return r}function Nn(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:Ni})}var Js=class Jn{constructor(t){this.params=t,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){Ei({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new Jn({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[Yr(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:gn(this.params.action,"Unknown action")}}nestArgument(t){return new Jn({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function Di(e){if(!e._hasPreviewFlag("metrics"))throw new Et("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}m(),y(),w(),_(),v(),g();var qi=class{_client;constructor(e){this._client=e}prometheus(e){return Di(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return Di(this._client),this._client._engine.metrics({format:"json",...e})}};function Qs(e,t){let r=pn(()=>function(n){throw Error("Prisma.dmmf is not available when running in edge runtimes.")}(0));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var $n=new WeakMap,sn="$$PrismaTypedSql",Ii=class{constructor(e,t){$n.set(this,{sql:e,values:t}),Object.defineProperty(this,sn,{value:sn})}get sql(){return $n.get(this).sql}get values(){return $n.get(this).values}};function Hs(e){return(...t)=>new Ii(e,t)}function Ti(e){return e!=null&&e[sn]===sn}m(),y(),w(),_(),v(),g();var Gs=te(Vr());m(),y(),w(),_(),v(),g(),f(),Te(),Tt(),m(),y(),w(),_(),v(),g();var Wt=class Qn{constructor(t,r){if(t.length-1!==r.length)throw t.length===0?TypeError("Expected at least 1 string"):TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=r.reduce((o,a)=>o+(a instanceof Qn?a.values.length:1),0);this.values=Array(n),this.strings=Array(n+1),this.strings[0]=t[0];let i=0,s=0;for(;i<r.length;){let o=r[i++],a=t[i];if(o instanceof Qn){this.strings[s]+=o.strings[0];let l=0;for(;l<o.values.length;)this.values[s++]=o.values[l++],this.strings[s]=o.strings[l];this.strings[s]+=a}else this.values[s++]=o,this.strings[s]=a}}get sql(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`?${this.strings[r++]}`;return n}get statement(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`:${r}${this.strings[r++]}`;return n}get text(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`$${r}${this.strings[r++]}`;return n}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function Ks(e,t=",",r="",n=""){if(e.length===0)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new Wt([r,...Array(e.length-1).fill(t),n],e)}function ji(e){return new Wt([e],[])}var zs=ji("");function Zs(e,...t){return new Wt(e,t)}function Mi(e){return{getKeys:()=>Object.keys(e),getPropertyValue:t=>e[t]}}function St(e,t){return{getKeys:()=>[e],getPropertyValue:()=>t()}}function Cn(e){let t=new Wr;return{getKeys:()=>e.getKeys(),getPropertyValue:r=>t.getOrCreate(r,()=>e.getPropertyValue(r)),getPropertyDescriptor:r=>e.getPropertyDescriptor?.(r)}}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Dn={enumerable:!0,configurable:!0,writable:!0};function Li(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>Dn,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var Vi=Symbol.for("nodejs.util.inspect.custom");function Rr(e,t){let r=function(s){let o=new Map;for(let a of s)for(let l of a.getKeys())o.set(l,a);return o}(t),n=new Set,i=new Proxy(e,{get(s,o){if(n.has(o))return s[o];let a=r.get(o);return a?a.getPropertyValue(o):s[o]},has(s,o){if(n.has(o))return!0;let a=r.get(o);return a?a.has?.(o)??!0:Reflect.has(s,o)},ownKeys:s=>[...new Set([...Fi(Reflect.ownKeys(s),r),...Fi(Array.from(r.keys()),r),...n])],set:(s,o,a)=>r.get(o)?.getPropertyDescriptor?.(o)?.writable!==!1&&(n.add(o),Reflect.set(s,o,a)),getOwnPropertyDescriptor(s,o){let a=Reflect.getOwnPropertyDescriptor(s,o);if(a&&!a.configurable)return a;let l=r.get(o);return l?l.getPropertyDescriptor?{...Dn,...l?.getPropertyDescriptor(o)}:Dn:a},defineProperty:(s,o,a)=>(n.add(o),Reflect.defineProperty(s,o,a)),getPrototypeOf:()=>Object.prototype});return i[Vi]=function(){let s={...this};return delete s[Vi],s},i}function Fi(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}function qn(e){return{getKeys:()=>e,has:()=>!1,getPropertyValue(){}}}function Ui(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function Bi({error:e,user_facing_error:t},r,n){var i,s;let o;return t.error_code?new er((i=t,s=n,o=i.message,(s==="postgresql"||s==="postgres"||s==="mysql")&&i.error_code==="P2037"&&(o+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),o),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new ut(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Ys=class{getLocation(){return null}};function Hr(e){return typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new Ys}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Xs={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function on(e={}){return Object.entries(function(t={}){return typeof t._count=="boolean"?{...t,_count:{_all:t._count}}:t}(e)).reduce((t,[r,n])=>(Xs[r]!==void 0?t.select[r]={select:n}:t[r]=n,t),{select:{}})}function In(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function eo(e={}){let{select:t,...r}=e;return on(typeof t=="object"?{...r,_count:t}:{...r,_count:{_all:!0}})}function to(e={}){let t=on(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Wi=e=>Array.isArray(e)?e:e.split("."),Ji=(e,t)=>Wi(t).reduce((r,n)=>r&&r[n],e),ro=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],no=["aggregate","count","groupBy"];function Qi(e,t){var r,n,i,s;let o,a,l=e._extensions.getAllModelExtensions(t)??{};return Rr({},[(r=e,o=Qr(n=t),a=Object.keys(_n).concat("count"),{getKeys:()=>a,getPropertyValue(u){var b;let P=E=>A=>{let k=Hr(r._errorFormat);return r._createPrismaPromise($=>{let q={args:A,dataPath:[],action:u,model:n,clientMethod:`${o}.${u}`,jsModelName:o,transaction:$,callsite:k};return r._request({...q,...E})},{action:u,args:A,model:n})};return ro.includes(u)?function E(A,k,$,q,Z,ce){let Se=A._runtimeDataModel.models[k].fields.reduce((oe,W)=>({...oe,[W.name]:W}),{});return oe=>{var W,B;let z,ue=Hr(A._errorFormat),Ne=q===void 0||Z===void 0?[]:[...Z,"select",q],be=ce===void 0?oe??{}:(z=oe||!0,Wi(Ne).reduceRight((J,H,re,Y)=>Object.assign({},Ji(ce,Y.slice(0,re)),{[H]:J}),z)),V=$({dataPath:Ne,callsite:ue})(be),j=(W=A,B=k,W._runtimeDataModel.models[B].fields.filter(J=>J.kind==="object").map(J=>J.name));return new Proxy(V,{get:(J,H)=>j.includes(H)?E(A,Se[H].type,$,H,Ne,be):J[H],...Li([...j,...Object.getOwnPropertyNames(V)])})}}(r,n,P):(b=u,no.includes(b)?u==="aggregate"?E=>P({action:"aggregate",unpacker:In(E),argsMapper:on})(E):u==="count"?E=>P({action:"count",unpacker:function(A={}){return typeof A.select=="object"?k=>In(A)(k)._count:k=>In(A)(k)._count._all}(E),argsMapper:eo})(E):u==="groupBy"?E=>P({action:"groupBy",unpacker:function(A={}){return k=>(typeof A?._count=="boolean"&&k.forEach($=>{$._count=$._count._all}),k)}(E),argsMapper:to})(E):void 0:P({}))}}),(i=e,s=t,Cn(St("fields",()=>{let u,b=i._runtimeDataModel.models[s];return new Proxy({},{get(P,E){if(E in P||typeof E=="symbol")return P[E];let A=u[E];if(A)return new wi(s,E,A.type,A.isList,A.kind==="enum")},...Li(Object.keys(u=function(P,E){let A={};for(let k of P)A[k[E]]=k;return A}(b.fields.filter(P=>!P.relationName),"name")))})}))),Mi(l),St("name",()=>t),St("$name",()=>t),St("$parent",()=>e._appliedParent)])}m(),y(),w(),_(),v(),g();var Tn=Symbol();function jn(e){var t,r;let n,i,s,o,a=[(n=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((t=e)._originalClient)))],{getKeys:()=>n,getPropertyValue:u=>t[u]}),(s=(i=Object.keys((r=e)._runtimeDataModel.models)).map(Qr),o=[...new Set(i.concat(s))],Cn({getKeys:()=>o,getPropertyValue(u){let b=u.replace(/^./,P=>P.toUpperCase());return r._runtimeDataModel.models[b]!==void 0?Qi(r,b):r._runtimeDataModel.models[u]!==void 0?Qi(r,u):void 0},getPropertyDescriptor(u){if(!s.includes(u))return{enumerable:!1}}})),St(Tn,()=>e),St("$parent",()=>e._appliedParent)],l=e._extensions.getAllClientExtensions();return l&&a.push(Mi(l)),Rr(e,a)}function io(e){if(typeof e=="function")return e(this);if(e.client?.__AccelerateEngine){let t=e.client.__AccelerateEngine;this._originalClient._engine=new t(this._originalClient._accelerateEngineConfig)}return jn(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}}))}function Mn({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let o=0;o<t.length;o++)t[o]=Mn({result:t[o],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let s=e(t,i,r)??t;return r.include&&Hi({includeOrSelect:r.include,result:s,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&Hi({includeOrSelect:r.select,result:s,parentModelName:i,runtimeDataModel:n,visitor:e}),s}function Hi({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[s,o]of Object.entries(e)){if(!o||t[s]==null||tr(o))continue;let a=n.models[r].fields.find(u=>u.name===s);if(!a||a.kind!=="object"||!a.relationName)continue;let l=typeof o=="object"?o:{};t[s]=Mn({visitor:i,result:t[s],args:l,modelName:a.type,runtimeDataModel:n})}}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),g(),m(),y(),w(),_(),v(),g();var so=["$connect","$disconnect","$on","$transaction","$extends"];function Gr(e){if(typeof e!="object"||e==null||e instanceof nn||En(e))return e;if(wn(e))return new Ct(e.toFixed());if(yn(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=Gr(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:Gr(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=Gr(e[r]);return t}gn(e,"Unknown value")}var Gi=e=>e;function Ki(e=Gi,t=Gi){return r=>e(t(r))}m(),y(),w(),_(),v(),g();var zi=bt("prisma:client"),Zi={Vercel:"vercel","Netlify CI":"netlify"};function an(e){return e===null?e:Array.isArray(e)?e.map(an):typeof e=="object"?e!==null&&typeof e=="object"&&typeof e.$type=="string"?function({$type:t,value:r}){switch(t){case"BigInt":return BigInt(r);case"Bytes":{let{buffer:n,byteOffset:i,byteLength:s}=rt.from(r,"base64");return new Uint8Array(n,i,s)}case"DateTime":return new Date(r);case"Decimal":return new Ft(r);case"Json":return JSON.parse(r);default:throw Error("Unknown tagged value")}}(e):e.constructor!==null&&e.constructor.name!=="Object"?e:function(t,r){let n={};for(let i of Object.keys(t))n[i]=r(t[i],i);return n}(e,an):e}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),g(),m(),y(),w(),_(),v(),g(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var oo=()=>I.process?.release?.name==="node",ao=()=>!!I.Bun||!!I.process?.versions?.bun,lo=()=>!!I.Deno,co=()=>typeof I.Netlify=="object",uo=()=>typeof I.EdgeRuntime=="object",fo=()=>I.navigator?.userAgent==="Cloudflare-Workers",ho={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function Ln(){let e=[[co,"netlify"],[uo,"edge-light"],[fo,"workerd"],[lo,"deno"],[ao,"bun"],[oo,"node"]].flatMap(t=>t[0]()?[t[1]]:[]).at(0)??"";return{id:e,prettyName:ho[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}function Yi({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:n}){let i,s=Object.keys(e)[0],o=e[s]?.url,a=t[s]?.url;if(s===void 0?i=void 0:a?i=a:o?.value?i=o.value:o?.fromEnvVar&&(i=r[o.fromEnvVar]),o?.fromEnvVar!==void 0&&i===void 0)throw Ln().id==="workerd"?new Re(`error: Environment variable not found: ${o.fromEnvVar}.

In Cloudflare module Workers, environment variables are available only in the Worker's \`env\` parameter of \`fetch\`.
To solve this, provide the connection string directly: https://pris.ly/d/cloudflare-datasource-url`,n):new Re(`error: Environment variable not found: ${o.fromEnvVar}.`,n);if(i===void 0)throw new Re("error: Missing URL environment variable, value, or override.",n);return i}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Vn,go={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:n}=e;if(r===void 0)throw new Re(`The \`adapter\` option for \`PrismaClient\` is required in this context (${Ln().prettyName})`,t);if(n===void 0)throw new Re("WASM engine was unexpectedly `undefined`",t);return Vn===void 0&&(Vn=(async()=>{let i=await n.getRuntime(),s=await n.getQueryEngineWasmModule();if(s==null)throw new Re("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let o=new WebAssembly.Instance(s,{"./query_engine_bg.js":i}),a=o.exports.__wbindgen_start;return i.__wbg_set_wasm(o.exports),a(),i.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await Vn}}},At=bt("prisma:client:libraryEngine"),Fn=1n,po=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(e,t){this.libraryLoader=t??go,this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],n=e.overrideDatasources[r]?.url;r!==void 0&&n!==void 0&&(this.datasourceOverrides={[r]:n}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let r,n=(r=Fn++,Fn>0xffffffffffffffffn&&(Fn=1n),r).toString();try{return await e(...t,n)}finally{if(this.tracingHelper.isEnabled()){let i=await this.engine?.trace(n);if(i){let s=JSON.parse(i);this.tracingHelper.dispatchEngineSpans(s.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){var n;await this.start();let i=await this.adapterPromise,s=JSON.stringify(t),o;if(e==="start"){let l=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});o=await this.engine?.startTransaction(l,s)}else e==="commit"?o=await this.engine?.commitTransaction(r.id,s):e==="rollback"&&(o=await this.engine?.rollbackTransaction(r.id,s));let a=this.parseEngineResponse(o);if(typeof(n=a)=="object"&&n!==null&&n.error_code!==void 0){let l=this.getExternalAdapterError(a,i?.errorRegistry);throw l?l.error:new er(a.message,{code:a.error_code,clientVersion:this.config.clientVersion,meta:a.meta})}if(typeof a.message=="string")throw new ut(a.message,{clientVersion:this.config.clientVersion});return a}async instantiateLibrary(){if(At("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){}parseEngineResponse(e){if(!e)throw new ut("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new ut("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new ir(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(Zn));let t=await this.adapterPromise;t&&At("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:Ce.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},r=>{e.deref()?.logger(r)},t))}catch(e){let t=this.parseInitError(e.message);throw typeof t=="string"?e:new Re(t.message,this.config.clientVersion,t.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown",t.item_type==="query"&&"query"in t?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):("level"in t&&t.level==="error"&&t.message,this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path})))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return At(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{At("library starting");try{let t={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(t)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(Zn)),await this.adapterPromise,At("library started")}catch(t){let r=this.parseInitError(t.message);throw typeof r=="string"?t:new Re(r.message,this.config.clientVersion,r.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return At("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(r=>setImmediate(r)),At("library stopping");let t={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(t)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,At("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){At(`sending request, this.libraryStarted: ${this.libraryStarted}`);let n=JSON.stringify({traceparent:t}),i=JSON.stringify(e);try{await this.start();let s=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(i,n,r?.id),this.lastQuery=i;let o=this.parseEngineResponse(await this.executingQueryPromise);if(o.errors)throw o.errors.length===1?this.buildQueryError(o.errors[0],s?.errorRegistry):new ut(JSON.stringify(o.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:o}}catch(s){if(s instanceof Re)throw s;s.code==="GenericFailure"&&s.message?.startsWith("PANIC:");let o=this.parseRequestError(s.message);throw typeof o=="string"?s:new ut(`${o.message}
${o.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){At("requestBatch");let n=Ui(e,t);await this.start();let i=await this.adapterPromise;this.lastQuery=JSON.stringify(n),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:r}),function(u){if(u?.kind==="itx")return u.options.id}(t));let s=await this.executingQueryPromise,o=this.parseEngineResponse(s);if(o.errors)throw o.errors.length===1?this.buildQueryError(o.errors[0],i?.errorRegistry):new ut(JSON.stringify(o.errors),{clientVersion:this.config.clientVersion});let{batchResult:a,errors:l}=o;if(Array.isArray(a))return a.map(u=>u.errors&&u.errors.length>0?this.loggerRustPanic??this.buildQueryError(u.errors[0],i?.errorRegistry):{data:u});throw l&&l.length===1?Error(l[0].error):Error(JSON.stringify(o))}buildQueryError(e,t){e.user_facing_error.is_panic;let r=this.getExternalAdapterError(e.user_facing_error,t);return r?r.error:Bi(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if(e.error_code==="P2036"&&t){let r=e.meta?.id;ei(typeof r=="number","Malformed external JS error received from the engine");let n=t.consumeError(r);return ei(n,"External error with reported id was not registered"),n}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return e.format==="prometheus"?t:this.parseEngineResponse(t)}};m(),y(),w(),_(),v(),g();var Kr="Accelerate has not been setup correctly. Make sure your client is using `.$extends(withAccelerate())`. See https://pris.ly/d/accelerate-getting-started",mo=class{constructor(e){this.config=e,this.resolveDatasourceUrl=this.config.accelerateUtils?.resolveDatasourceUrl,this.getBatchRequestPayload=this.config.accelerateUtils?.getBatchRequestPayload,this.prismaGraphQLToJSError=this.config.accelerateUtils?.prismaGraphQLToJSError,this.PrismaClientUnknownRequestError=this.config.accelerateUtils?.PrismaClientUnknownRequestError,this.PrismaClientInitializationError=this.config.accelerateUtils?.PrismaClientInitializationError,this.PrismaClientKnownRequestError=this.config.accelerateUtils?.PrismaClientKnownRequestError,this.debug=this.config.accelerateUtils?.debug,this.engineVersion=this.config.accelerateUtils?.engineVersion,this.clientVersion=this.config.accelerateUtils?.clientVersion}name="AccelerateEngine";resolveDatasourceUrl;getBatchRequestPayload;prismaGraphQLToJSError;PrismaClientUnknownRequestError;PrismaClientInitializationError;PrismaClientKnownRequestError;debug;engineVersion;clientVersion;onBeforeExit(e){}async start(){}async stop(){}version(e){return"unknown"}transaction(e,t,r){throw new Re(Kr,this.config.clientVersion)}metrics(e){throw new Re(Kr,this.config.clientVersion)}request(e,t){throw new Re(Kr,this.config.clientVersion)}requestBatch(e,t){throw new Re(Kr,this.config.clientVersion)}applyPendingMigrations(){throw new Re(Kr,this.config.clientVersion)}};m(),y(),w(),_(),v(),g();var yo=class{constructor(e){return new Proxy(this,{get(t,r){throw new Et(`In order to run Prisma Client on edge runtime, either:
- Use Prisma Accelerate: https://pris.ly/d/accelerate
- Use Driver Adapters: https://pris.ly/d/driver-adapters`,e)}})}};m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var wo=e=>({command:e});function zr(e){try{return Xi(e,"fast")}catch{return Xi(e,"slow")}}function Xi(e,t){return JSON.stringify(e.map(r=>function n(i,s){var o;if(Array.isArray(i))return i.map(a=>n(a,s));if(typeof i=="bigint")return{prisma__type:"bigint",prisma__value:i.toString()};if(yn(i))return{prisma__type:"date",prisma__value:i.toJSON()};if(Ct.isDecimal(i))return{prisma__type:"decimal",prisma__value:i.toJSON()};if(rt.isBuffer(i))return{prisma__type:"bytes",prisma__value:i.toString("base64")};if((o=i)instanceof ArrayBuffer||o instanceof SharedArrayBuffer||typeof o=="object"&&o!==null&&(o[Symbol.toStringTag]==="ArrayBuffer"||o[Symbol.toStringTag]==="SharedArrayBuffer"))return{prisma__type:"bytes",prisma__value:rt.from(i).toString("base64")};if(ArrayBuffer.isView(i)){let{buffer:a,byteOffset:l,byteLength:u}=i;return{prisma__type:"bytes",prisma__value:rt.from(a,l,u).toString("base64")}}return typeof i=="object"&&s==="slow"?es(i):i}(r,t)))}function es(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(ts);let t={};for(let r of Object.keys(e))t[r]=ts(e[r]);return t}function ts(e){return typeof e=="bigint"?e.toString():es(e)}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),g();var _o=/^(\s*alter\s)/i,rs=bt("prisma:client");function ns(e,t,r,n){if((e==="postgresql"||e==="cockroachdb")&&r.length>0&&_o.exec(t))throw Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var is=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(Ti(r))n=r.sql,i={values:zr(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[s,...o]=r;n=s,i={values:zr(o||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":n=r.sql,i={values:zr(r.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":n=r.text,i={values:zr(r.values),__prismaRawParameters__:!0};break;case"sqlserver":n=r.strings.reduce((s,o,a)=>`${s}@P${a}${o}`),i={values:zr(r.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${t} provider does not support ${e}`)}return i?.values?rs(`prisma.${e}(${n}, ${i.values})`):rs(`prisma.${e}(${n})`),{query:n,parameters:i}},vo={requestArgsToMiddlewareArgs:e=>[e.strings,...e.values],middlewareArgsToRequestArgs(e){let[t,...r]=e;return new Wt(t,r)}},bo={requestArgsToMiddlewareArgs:e=>[e],middlewareArgsToRequestArgs:e=>e[0]};function ss(e){return function(t,r){let n,i=(s=e)=>{try{return s===void 0||s?.kind==="itx"?n??=os(t(s)):os(t(s))}catch(o){return Promise.reject(o)}};return{get spec(){return r},then:(s,o)=>i().then(s,o),catch:s=>i().catch(s),finally:s=>i().finally(s),requestTransaction(s){let o=i(s);return o.requestTransaction?o.requestTransaction(s):o},[Symbol.toStringTag]:"PrismaPromise"}}}function os(e){return typeof e.then=="function"?e:Promise.resolve(e)}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Eo=ks.split(".")[0],Po={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(e,t)=>t()},So=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=I[`V${Eo}_PRISMA_INSTRUMENTATION`],t=I.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??Po}};function as(e){return typeof e.batchRequestIdx=="number"}function Un(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return typeof r=="object"&&r!==null?`(${t} ${Un(r)})`:t}).join(" ")})`}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var ls={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};m(),y(),w(),_(),v(),g();var Ao=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,Ce.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],t.length===1?this.options.singleLoader(t[0].request).then(r=>{r instanceof Error?t[0].reject(r):t[0].resolve(r)}).catch(r=>{t[0].reject(r)}):(t.sort((r,n)=>this.options.batchOrder(r.request,n.request)),this.options.batchLoader(t.map(r=>r.request)).then(r=>{if(r instanceof Error)for(let n=0;n<t.length;n++)t[n].reject(r);else for(let n=0;n<t.length;n++){let i=r[n];i instanceof Error?t[n].reject(i):t[n].resolve(i)}}).catch(r=>{for(let n=0;n<t.length;n++)t[n].reject(r)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function cs(e){let t=[],r=function(n){let i={};for(let s=0;s<n.columns.length;s++)i[n.columns[s]]=null;return i}(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],s={...r};for(let o=0;o<i.length;o++)s[e.columns[o]]=function a(l,u){if(u===null)return u;switch(l){case"bigint":return BigInt(u);case"bytes":{let{buffer:b,byteOffset:P,byteLength:E}=rt.from(u,"base64");return new Uint8Array(b,P,E)}case"decimal":return new Ct(u);case"datetime":case"date":return new Date(u);case"time":return new Date(`1970-01-01T${u}Z`);case"bigint-array":return u.map(b=>a("bigint",b));case"bytes-array":return u.map(b=>a("bytes",b));case"decimal-array":return u.map(b=>a("decimal",b));case"datetime-array":return u.map(b=>a("datetime",b));case"date-array":return u.map(b=>a("date",b));case"time-array":return u.map(b=>a("time",b));default:return u}}(e.types[o],i[o]);t.push(s)}return t}m(),y(),w(),_(),v(),g(),g();var ko=bt("prisma:client:request_handler"),xo=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new Ao({batchLoader:function(r){return n=>{let i={requests:n},s=n[0].extensions.getAllBatchQueryCallbacks();return s.length?function o(a,l,u,b){if(u===l.length)return b(a);let P=a.customDataProxyFetch,E=a.requests[0].transaction;return l[u]({args:{queries:a.requests.map(A=>({model:A.modelName,operation:A.action,args:A.args})),transaction:E?{isolationLevel:E.kind==="batch"?E.isolationLevel:void 0}:void 0},__internalParams:a,query(A,k=a){let $=k.customDataProxyFetch;return k.customDataProxyFetch=Ki(P,$),o(k,l,u+1,b)}})}(i,s,0,r):r(i)}}(async({requests:r,customDataProxyFetch:n})=>{let{transaction:i,otelParentCtx:s}=r[0],o=r.map(u=>u.protocolQuery),a=this.client._tracingHelper.getTraceParent(s),l=r.some(u=>ls[u.protocolQuery.action]);return(await this.client._engine.requestBatch(o,{traceparent:a,transaction:function(u){if(u){if(u.kind==="batch")return{kind:"batch",options:{isolationLevel:u.isolationLevel}};if(u.kind==="itx")return{kind:"itx",options:us(u)};gn(u,"Unknown transaction kind")}}(i),containsWrite:l,customDataProxyFetch:n})).map((u,b)=>{if(u instanceof Error)return u;try{return this.mapQueryEngineResult(r[b],u)}catch(P){return P}})}),singleLoader:async r=>{let n=r.transaction?.kind==="itx"?us(r.transaction):void 0,i=await this.client._engine.request(r.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:n,isWrite:ls[r.protocolQuery.action],customDataProxyFetch:r.customDataProxyFetch});return this.mapQueryEngineResult(r,i)},batchBy:r=>r.transaction?.id?`transaction-${r.transaction.id}`:function(n){if(n.action!=="findUnique"&&n.action!=="findUniqueOrThrow")return;let i=[];return n.modelName&&i.push(n.modelName),n.query.arguments&&i.push(Un(n.query.arguments)),i.push(Un(n.query.selection)),i.join("")}(r.protocolQuery),batchOrder:(r,n)=>r.transaction?.kind==="batch"&&n.transaction?.kind==="batch"?r.transaction.index-n.transaction.index:0})}async request(e){try{return await this.dataloader.request(e)}catch(t){let{clientMethod:r,callsite:n,transaction:i,args:s,modelName:o}=e;this.handleAndLogRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:s,modelName:o,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let n=r?.data,i=this.unpack(n,e,t);return Ce.env.PRISMA_CLIENT_GET_TIME?{data:i}:i}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:n,args:i,modelName:s,globalOmit:o}){var a,l,u;if(ko(e),a=e,l=n,as(a)&&l?.kind==="batch"&&a.batchRequestIdx!==l.index)throw e;e instanceof er&&((u=e).code==="P2009"||u.code==="P2012")&&Ei({args:i,errors:[function P(E){if(E.kind==="Union")return{kind:"Union",errors:E.errors.map(P)};if(Array.isArray(E.selectionPath)){let[,...A]=E.selectionPath;return{...E,selectionPath:A}}return E}(e.meta)],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:o});let b=e.message;if(r&&(b=oi({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:this.client._errorFormat==="pretty",message:b})),b=this.sanitizeMessage(b),e.code){let P=s?{modelName:s,...e.meta}:e.meta;throw new er(b,{code:e.code,clientVersion:this.client._clientVersion,meta:P,batchRequestIdx:e.batchRequestIdx})}throw e.isPanic?new Br(b,this.client._clientVersion):e instanceof ut?new ut(b,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx}):e instanceof Re?new Re(b,this.client._clientVersion):e instanceof Br?new Br(b,this.client._clientVersion):(e.clientVersion=this.client._clientVersion,e)}sanitizeMessage(e){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?function(t){if(typeof t!="string")throw TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(Ds,"")}(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],i=Ji(Object.values(e)[0],t.filter(o=>o!=="select"&&o!=="include")),s=n==="queryRaw"?cs(i):an(i);return r?r(s):s}get[Symbol.toStringTag](){return"RequestHandler"}};function us(e){return{id:e.id,payload:e.payload}}m(),y(),w(),_(),v(),g(),m(),y(),w(),_(),v(),g();var Oo=te(br());m(),y(),w(),_(),v(),g();var ve=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};xr(ve,"PrismaClientConstructorValidationError");var ds=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],fs=["pretty","colorless","minimal"],hs=["info","query","warn","error"],Ro={datasources:(e,{datasourceNames:t})=>{if(e){if(typeof e!="object"||Array.isArray(e))throw new ve(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,n]of Object.entries(e)){if(!t.includes(r)){let i=Nr(r,t)||` Available datasources: ${t.join(", ")}`;throw new ve(`Unknown datasource ${r} provided to PrismaClient constructor.${i}`)}if(typeof n!="object"||Array.isArray(n))throw new ve(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(n&&typeof n=="object")for(let[i,s]of Object.entries(n)){if(i!=="url")throw new ve(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(typeof s!="string")throw new ve(`Invalid value ${JSON.stringify(s)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&dn(t.generator)==="client")throw new ve('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(e!==null){if(e===void 0)throw new ve('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(dn(t.generator)==="binary")throw new ve('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if("u">typeof e&&typeof e!="string")throw new ve(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if(typeof e!="string")throw new ve(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!fs.includes(e)){let t=Nr(e,fs);throw new ve(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(e){if(!Array.isArray(e))throw new ve(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);for(let r of e){t(r);let n={level:t,emit:i=>{let s=["stdout","event"];if(!s.includes(i)){let o=Nr(i,s);throw new ve(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${o}`)}}};if(r&&typeof r=="object")for(let[i,s]of Object.entries(r))if(n[i])n[i](s);else throw new ve(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}}function t(r){if(typeof r=="string"&&!hs.includes(r)){let n=Nr(r,hs);throw new ve(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new ve(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new ve(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new ve('"omit" option is expected to be an object.');if(e===null)throw new ve('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let s=function(o,a){return gs(a.models,o)??gs(a.types,o)}(n,t.runtimeDataModel);if(!s){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[o,a]of Object.entries(i)){let l=s.fields.find(u=>u.name===o);if(!l){r.push({kind:"UnknownField",modelKey:n,fieldName:o});continue}if(l.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:o});continue}typeof a!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:o})}}if(r.length>0)throw new ve(function(n,i){let s=Rn(n);for(let l of i)switch(l.kind){case"UnknownModel":s.arguments.getField(l.modelKey)?.markAsError(),s.addErrorMessage(()=>`Unknown model name: ${l.modelKey}.`);break;case"UnknownField":s.arguments.getDeepField([l.modelKey,l.fieldName])?.markAsError(),s.addErrorMessage(()=>`Model "${l.modelKey}" does not have a field named "${l.fieldName}".`);break;case"RelationInOmit":s.arguments.getDeepField([l.modelKey,l.fieldName])?.markAsError(),s.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":s.arguments.getDeepFieldValue([l.modelKey,l.fieldName])?.markAsError(),s.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:o,args:a}=bi(s,"colorless");return`Error validating "omit" option:

${a}

${o}`}(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new ve(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=Nr(r,t);throw new ve(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function Nr(e,t){if(t.length===0||typeof e!="string")return"";let r=function(n,i){if(i.length===0)return null;let s=i.map(a=>({value:a,distance:(0,Oo.default)(n,a)}));s.sort((a,l)=>a.distance<l.distance?-1:1);let o=s[0];return o.distance<3?o.value:null}(e,t);return r?` Did you mean "${r}"?`:""}function gs(e,t){let r=Object.keys(e).find(n=>Yr(n)===t);if(r)return e[r]}m(),y(),w(),_(),v(),g();var Jt=bt("prisma:client");typeof I=="object"&&(I.NODE_CLIENT=!0);var No={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},$o=Symbol.for("prisma.client.transaction.id"),Co={id:0,nextId(){return++this.id}};function Do(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=ss();constructor(n){let i;(function({postinstall:a,ciName:l,clientVersion:u,generator:b}){if(zi("checkPlatformCaching:postinstall",a),zi("checkPlatformCaching:ciName",l),a===!0&&!(b?.output&&typeof(b.output.fromEnvVar??b.output.value)=="string")&&l&&l in Zi){let P=`Prisma has detected that this project was built on ${l}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${Zi[l]}-build`;throw console.error(P),new Re(P,u)}})(e=n?.__internal?.configOverride?.(e)??e),n&&function(a,l){for(let[u,b]of Object.entries(a)){if(!ds.includes(u)){let P=Nr(u,ds);throw new ve(`Unknown property ${u} provided to PrismaClient constructor.${P}`)}Ro[u](b,l)}if(a.datasourceUrl&&a.datasources)throw new ve('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(n,e);let s=new _r().on("error",()=>{});if(this._extensions=Ai.empty(),this._previewFeatures=function({generator:a}){return a?.previewFeatures??[]}(e),this._clientVersion=e.clientVersion??"6.16.1",this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=new So,e.relativeEnvPaths&&(e.relativeEnvPaths.rootEnvPath&&It.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),e.relativeEnvPaths.schemaEnvPath&&It.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)),n?.adapter){i=n.adapter;let a=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(i.provider!==a)throw new Re(`The Driver Adapter \`${i.adapterName}\`, based on \`${i.provider}\`, is not compatible with the provider \`${a}\` specified in the Prisma schema.`,this._clientVersion);if(n.datasources||n.datasourceUrl!==void 0)throw new Re("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let o=e.injectableEdgeEnv?.();try{let a=n??{},l=a.__internal??{},u=l.debug===!0;u&&bt.enable("prisma:client");let b=It.resolve(e.dirname,e.relativePath);qt.existsSync(b)||(b=e.dirname),Jt("dirname",e.dirname),Jt("relativePath",e.relativePath),Jt("cwd",b);let P=l.engine||{};if(a.errorFormat?this._errorFormat=a.errorFormat:Ce.env.NODE_ENV==="production"?this._errorFormat="minimal":(Ce.env.NO_COLOR,this._errorFormat="colorless"),this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:b,dirname:e.dirname,enableDebugLogs:u,allowTriggerPanic:P.allowTriggerPanic,prismaPath:P.binaryPath??void 0,engineEndpoint:P.endpoint,generator:e.generator,showColors:this._errorFormat==="pretty",logLevel:a.log&&function(E){return typeof E=="string"?E:E.reduce((A,k)=>{let $=typeof k=="string"?k:k.level;return $==="query"?A:A&&(k==="info"||A==="info")?"info":$},void 0)}(a.log),logQueries:a.log&&!!(typeof a.log=="string"?a.log==="query":a.log.find(E=>typeof E=="string"?E==="query":E.level==="query")),env:o?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:function(E,A){return E?E.datasources?E.datasources:E.datasourceUrl?{[A[0]]:{url:E.datasourceUrl}}:{}:{}}(a,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:a.transactionOptions?.maxWait??2e3,timeout:a.transactionOptions?.timeout??5e3,isolationLevel:a.transactionOptions?.isolationLevel},logEmitter:s,isBundled:e.isBundled,adapter:i},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:Yi,getBatchRequestPayload:Ui,prismaGraphQLToJSError:Bi,PrismaClientUnknownRequestError:ut,PrismaClientInitializationError:Re,PrismaClientKnownRequestError:er,debug:bt("prisma:client:accelerateEngine"),engineVersion:Gs.version,clientVersion:e.clientVersion}},Jt("clientVersion",e.clientVersion),this._engine=function({copyEngine:E=!0},A){let k;try{k=Yi({inlineDatasources:A.inlineDatasources,overrideDatasources:A.overrideDatasources,env:{...A.env,...Ce.env},clientVersion:A.clientVersion})}catch{}let{ok:$,isUsing:q,diagnostics:Z}=function({url:ce,adapter:Se,copyEngine:oe,targetBuildType:W}){let B=[],z=[],ue=re=>{let Y=re.join(`
`);z.push({_tag:"error",value:Y})},Ne=!!ce?.startsWith("prisma://"),be=ce?.toString().startsWith("prisma+postgres://")??!1,V=!!Se,j=Ne||be;!V&&oe&&j&&W!=="client"&&W!=="wasm-compiler-edge"&&B.push({_tag:"warning",value:["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]});let J=j||!oe;V&&(J||W==="edge")&&(W==="edge"?ue(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):oe?Ne&&ue(["Prisma Client was configured to use the `adapter` option but the URL was a `prisma://` URL.","Please either use the `prisma://` URL or remove the `adapter` from the Prisma Client constructor."]):ue(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let H={accelerate:J,ppg:be,driverAdapters:V};return z.length>0?{ok:!1,diagnostics:{warnings:B,errors:z},isUsing:H}:{ok:!0,diagnostics:{warnings:B},isUsing:H}}({url:k,adapter:A.adapter,copyEngine:E,targetBuildType:"wasm-engine-edge"});for(let ce of Z.warnings)ni(...ce.value);if(!$)throw new Et(Z.errors[0].value,{clientVersion:A.clientVersion});return dn(A.generator),(q.accelerate||q.ppg)&&q.driverAdapters,q.accelerate,q.driverAdapters?new po(A):q.accelerate?new mo(A):new yo({clientVersion:A.clientVersion})}(e,this._engineConfig),this._requestHandler=new xo(this,s),a.log)for(let E of a.log){let A=typeof E=="string"?E:E.emit==="stdout"?E.level:null;A&&this.$on(A,k=>{hn.log(`${hn.tags[A]??""}`,k.message||k.query)})}}catch(a){throw a.clientVersion=this._clientVersion,a}return this._appliedParent=jn(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(n,i){return n==="beforeExit"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{Ar.length=0}}$executeRawInternal(n,i,s,o){let a=this._activeProvider;return this._request({action:"executeRaw",args:s,transaction:n,clientMethod:i,argsMapper:is({clientMethod:i,activeProvider:a}),callsite:Hr(this._errorFormat),dataPath:[],middlewareArgsMapper:o})}$executeRaw(n,...i){return this._createPrismaPromise(s=>{if(n.raw!==void 0||n.sql!==void 0){let[o,a]=ps(n,i);return ns(this._activeProvider,o.text,o.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(s,"$executeRaw",o,a)}throw new Et("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(s=>(ns(this._activeProvider,n,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(s,"$executeRawUnsafe",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new Et(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:wo,callsite:Hr(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,s,o){let a=this._activeProvider;return this._request({action:"queryRaw",args:s,transaction:n,clientMethod:i,argsMapper:is({clientMethod:i,activeProvider:a}),callsite:Hr(this._errorFormat),dataPath:[],middlewareArgsMapper:o})}$queryRaw(n,...i){return this._createPrismaPromise(s=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(s,"$queryRaw",...ps(n,i));throw new Et("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new Et("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(s=>this.$queryRawInternal(s,"$queryRawUnsafe",[n,...i]))}_transactionWithArray({promises:n,options:i}){var s;let o=Co.nextId(),a=function(l,u=()=>{}){let b,P=new Promise(E=>b=E);return{then:E=>(--l==0&&b(u()),E?.(P))}}(n.length);return(s=n.map((l,u)=>{if(l?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let b=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return l.requestTransaction?.({kind:"batch",id:o,index:u,isolationLevel:b,lock:a})??l})).length===0?Promise.resolve([]):new Promise((l,u)=>{let b=Array(s.length),P=null,E=!1,A=0,k=()=>{E||++A===s.length&&(E=!0,P?u(P):l(b))},$=q=>{E||(E=!0,u(q))};for(let q=0;q<s.length;q++)s[q].then(Z=>{b[q]=Z,k()},Z=>{if(!as(Z))return void $(Z);Z.batchRequestIdx===q?$(Z):(P||(P=Z),k())})})}async _transactionWithCallback({callback:n,options:i}){let s={traceparent:this._tracingHelper.getTraceParent()},o={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction("start",s,o),l;try{let u={kind:"itx",...a};l=await n(this._createItxClient(u)),await this._engine.transaction("commit",s,a)}catch(u){throw await this._engine.transaction("rollback",s,a).catch(()=>{}),u}return l}_createItxClient(n){return Rr(jn(Rr(this[Tn]?this[Tn]:this,[St("_appliedParent",()=>this._appliedParent._createItxClient(n)),St("_createPrismaPromise",()=>ss(n)),St($o,()=>n.id)])),[qn(so)])}$transaction(n,i){let s;return s=typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:n,options:i}):()=>this._transactionWithArray({promises:n,options:i}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},s)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??No,s={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},o={operation:{name:"operation",attributes:{method:s.action,model:s.model,name:s.model?`${s.model}.${s.action}`:s.action}}},a=async l=>{let{runInTransaction:u,args:b,...P}=l,E={...n,...P};b&&(E.args=i.middlewareArgsToRequestArgs(b)),n.transaction!==void 0&&u===!1&&delete E.transaction;let A=await function(k,$){let{jsModelName:q,action:Z,clientMethod:ce}=$;if(k._extensions.isEmpty())return k._executeRequest($);let Se=k._extensions.getAllQueryCallbacks(q??"$none",q?Z:ce);return function oe(W,B,z,ue=0){return W._createPrismaPromise(Ne=>{let be=B.customDataProxyFetch;return"transaction"in B&&Ne!==void 0&&(B.transaction?.kind==="batch"&&B.transaction.lock.then(),B.transaction=Ne),ue===z.length?W._executeRequest(B):z[ue]({model:B.model,operation:B.model?B.action:B.clientMethod,args:function(V){var j,J;if(V instanceof Wt)return new Wt((j=V).strings,j.values);if(Ti(V))return new Ii((J=V).sql,J.values);if(Array.isArray(V)){let re=[V[0]];for(let Y=1;Y<V.length;Y++)re[Y]=Gr(V[Y]);return re}let H={};for(let re in V)H[re]=Gr(V[re]);return H}(B.args??{}),__internalParams:B,query:(V,j=B)=>{let J=j.customDataProxyFetch;return j.customDataProxyFetch=Ki(be,J),j.args=V,oe(W,j,z,ue+1)}})})}(k,$,Se)}(this,E);return E.model?function({result:k,modelName:$,args:q,extensions:Z,runtimeDataModel:ce,globalOmit:Se}){return Z.isEmpty()||k==null||typeof k!="object"||!ce.models[$]?k:Mn({result:k,args:q??{},modelName:$,runtimeDataModel:ce,visitor:(oe,W,B)=>{let z=Qr(W);return function({result:ue,modelName:Ne,select:be,omit:V,extensions:j}){let J=j.getAllComputedFields(Ne);if(!J)return ue;let H=[],re=[];for(let Y of Object.values(J)){if(V){if(V[Y.name])continue;let ke=Y.needs.filter(Fe=>V[Fe]);ke.length>0&&re.push(qn(ke))}else if(be){if(!be[Y.name])continue;let ke=Y.needs.filter(Fe=>!be[Fe]);ke.length>0&&re.push(qn(ke))}(function(ke,Fe){return Fe.every(kt=>Object.prototype.hasOwnProperty.call(ke,kt))})(ue,Y.needs)&&H.push(function(ke,Fe){return Cn(St(ke.name,()=>ke.compute(Fe)))}(Y,Rr(ue,H)))}return H.length>0||re.length>0?Rr(ue,[...H,...re]):ue}({result:oe,modelName:z,select:B.select,omit:B.select?void 0:{...Se?.[z],...B.omit},extensions:Z})}})}({result:A,modelName:E.model,args:E.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):A};return this._tracingHelper.runInChildSpan(o.operation,()=>a(s))}async _executeRequest({args:n,clientMethod:i,dataPath:s,callsite:o,action:a,model:l,argsMapper:u,transaction:b,unpacker:P,otelParentCtx:E,customDataProxyFetch:A}){try{n=u?u(n):n;let k=this._tracingHelper.runInChildSpan({name:"serialize"},()=>$i({modelName:l,runtimeDataModel:this._runtimeDataModel,action:a,args:n,clientMethod:i,callsite:o,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return bt.enabled("prisma:client")&&(Jt("Prisma Client call:"),Jt(`prisma.${i}(${function($){if($===void 0)return"";let q=Rn($);return new ci(0,{colors:ui}).write(q).toString()}(n)})`),Jt("Generated request:"),Jt(JSON.stringify(k,null,2)+`
`)),b?.kind==="batch"&&await b.lock,this._requestHandler.request({protocolQuery:k,modelName:l,action:a,clientMethod:i,dataPath:s,callsite:o,args:n,extensions:this._extensions,transaction:b,unpacker:P,otelParentCtx:E,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:A})}catch(k){throw k.clientVersion=this._clientVersion,k}}$metrics=new qi(this);_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=io}return t}function ps(e,t){var r;return Array.isArray(r=e)&&Array.isArray(r.raw)?[new Wt(e,t),vo]:[e,bo]}m(),y(),w(),_(),v(),g();var qo=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function Io(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!qo.has(r))throw TypeError(`Invalid enum value: ${String(r)}`)}})}m(),y(),w(),_(),v(),g(),g()},xt.__chunk_4203=(qe,de,fe)=>{"use strict";let R;qe=fe.nmd(qe);var ot=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,pt=Object.getOwnPropertyNames,Oe=Object.prototype.hasOwnProperty,at={};((c,h)=>{for(var N in h)ot(c,N,{get:h[N],enumerable:!0})})(at,{QueryEngine:()=>nr,__wbg_String_8f0eb39a4a4c2f66:()=>ir,__wbg_buffer_609cc3eee51ed158:()=>m,__wbg_call_672a4d21634d4a24:()=>y,__wbg_call_7cccdd69e0791ae2:()=>w,__wbg_crypto_805be4ce92f1e370:()=>_,__wbg_done_769e5ede4b31c67b:()=>v,__wbg_entries_3265d4158b33e5dc:()=>sr,__wbg_getRandomValues_f6a868620c8bab49:()=>Ze,__wbg_getTime_46267b1c24877e30:()=>Ye,__wbg_get_67b2ba62fc30de12:()=>or,__wbg_get_b9b93047fe3cf45b:()=>Pe,__wbg_get_ece95cf6585650d9:()=>Lt,__wbg_getwithrefkey_1dc361bd10053bfe:()=>Xe,__wbg_has_a5ea9117f258a0ec:()=>wt,__wbg_instanceof_ArrayBuffer_e14585432e3737fc:()=>ar,__wbg_instanceof_Map_f3469ce2244d2430:()=>ne,__wbg_instanceof_Promise_935168b8f4b49db3:()=>_t,__wbg_instanceof_Uint8Array_17156bcf118086a9:()=>nt,__wbg_isArray_a1eab7e0d067391b:()=>ht,__wbg_isSafeInteger_343e2beeeece1bb0:()=>We,__wbg_iterator_9a24c88df860dc65:()=>lt,__wbg_keys_5c77a08ddc2fb8a6:()=>Ht,__wbg_length_a446193dc22c12f8:()=>vt,__wbg_length_e2d2a49132c1b256:()=>se,__wbg_msCrypto_2ac4d17c4748234a:()=>Me,__wbg_new0_f788a2397c7ca929:()=>Je,__wbg_new_23a2665fac83c611:()=>Nt,__wbg_new_405e22f390576ce2:()=>it,__wbg_new_5e0be73521bc8c17:()=>ct,__wbg_new_78feb108b6472713:()=>lr,__wbg_new_a12002a7f91c75be:()=>Le,__wbg_newnoargs_105ed471475aaf50:()=>Ae,__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a:()=>ae,__wbg_newwithlength_a381634e90c276d4:()=>$t,__wbg_next_25feadfc0913fea9:()=>C,__wbg_next_6574e1a8a62d1055:()=>et,__wbg_node_ecc8306b9857f33d:()=>Vt,__wbg_now_7fd00a794a07d388:()=>Ft,__wbg_now_807e54c39636c349:()=>Ct,__wbg_now_b3f7572f6ef3d3a9:()=>Cr,__wbg_process_5cff2739921be718:()=>g,__wbg_push_737cfc8c1432c2c6:()=>Gt,__wbg_queueMicrotask_5a8a9131f3f0b37b:()=>Ut,__wbg_queueMicrotask_6d79674585219521:()=>Dr,__wbg_randomFillSync_d3c85af7e31cf1f8:()=>Dt,__wbg_require_0c566c6f2eef6c79:()=>cr,__wbg_resolve_4851785c9c5f573d:()=>qr,__wbg_setTimeout_5d6a1d4fc51ea450:()=>le,__wbg_set_37837023f3d740e8:()=>ur,__wbg_set_3f1d0b984ed272ed:()=>dr,__wbg_set_65595bdd868b3009:()=>fr,__wbg_set_8fc6bf8a5b1071d1:()=>hr,__wbg_set_bb8cecf6a62b9f46:()=>gr,__wbg_set_wasm:()=>Ot,__wbg_static_accessor_GLOBAL_88a902d13a557d07:()=>Ir,__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0:()=>Tr,__wbg_static_accessor_SELF_37c5d418e4bf5819:()=>pr,__wbg_static_accessor_WINDOW_5de37043a91a9c40:()=>mr,__wbg_subarray_aa9065fa9dc5df96:()=>yr,__wbg_then_44b73946d2fb3e7d:()=>qt,__wbg_then_48b406749878a531:()=>Te,__wbg_valueOf_7392193dd78c6b97:()=>Kt,__wbg_value_cd1ffa7b1ab794f1:()=>zt,__wbg_versions_a8e5a362e1f16442:()=>wr,__wbindgen_as_number:()=>Zt,__wbindgen_bigint_from_i64:()=>Yt,__wbindgen_bigint_from_u64:()=>jr,__wbindgen_bigint_get_as_i64:()=>It,__wbindgen_boolean_get:()=>_r,__wbindgen_cb_drop:()=>Tt,__wbindgen_closure_wrapper7416:()=>vr,__wbindgen_debug_string:()=>Mr,__wbindgen_error_new:()=>br,__wbindgen_in:()=>Lr,__wbindgen_init_externref_table:()=>Er,__wbindgen_is_bigint:()=>Vr,__wbindgen_is_function:()=>f,__wbindgen_is_object:()=>d,__wbindgen_is_string:()=>p,__wbindgen_is_undefined:()=>S,__wbindgen_jsval_eq:()=>x,__wbindgen_jsval_loose_eq:()=>D,__wbindgen_memory:()=>F,__wbindgen_number_get:()=>ie,__wbindgen_number_new:()=>pe,__wbindgen_string_get:()=>Qe,__wbindgen_string_new:()=>Pr,__wbindgen_throw:()=>Sr,debug_panic:()=>Mt,getBuildTimeInfo:()=>rt}),qe.exports=((c,h,N,T)=>{if(h&&typeof h=="object"||typeof h=="function")for(let Q of pt(h))Oe.call(c,Q)||Q===N||ot(c,Q,{get:()=>h[Q],enumerable:!(T=gt(h,Q))||T.enumerable});return c})(ot({},"__esModule",{value:!0}),at);var Ge=()=>{};function Ot(c){R=c}Ge.prototype=Ge;let te=0,Ke=null;function ft(){return(Ke===null||Ke.byteLength===0)&&(Ke=new Uint8Array(R.memory.buffer)),Ke}let ze=new(typeof TextEncoder>"u"?(0,qe.require)("util").TextEncoder:TextEncoder)("utf-8"),U=typeof ze.encodeInto=="function"?function(c,h){return ze.encodeInto(c,h)}:function(c,h){let N=ze.encode(c);return h.set(N),{read:c.length,written:N.length}};function L(c,h,N){if(N===void 0){let _e=ze.encode(c),Ve=h(_e.length,1)>>>0;return ft().subarray(Ve,Ve+_e.length).set(_e),te=_e.length,Ve}let T=c.length,Q=h(T,1)>>>0,K=ft(),X=0;for(;X<T;X++){let _e=c.charCodeAt(X);if(_e>127)break;K[Q+X]=_e}if(X!==T){X!==0&&(c=c.slice(X)),Q=N(Q,T,T=X+3*c.length,1)>>>0;let _e=U(c,ft().subarray(Q+X,Q+T));X+=_e.written,Q=N(Q,T,X,1)>>>0}return te=X,Q}let me=null;function Ie(){return(me===null||me.buffer.detached===!0||me.buffer.detached===void 0&&me.buffer!==R.memory.buffer)&&(me=new DataView(R.memory.buffer)),me}function mt(c){let h=R.__externref_table_alloc();return R.__wbindgen_export_4.set(h,c),h}function ye(c,h){try{return c.apply(this,h)}catch(N){let T=mt(N);R.__wbindgen_exn_store(T)}}let Rt=new(typeof TextDecoder>"u"?(0,qe.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function yt(c,h){return c>>>=0,Rt.decode(ft().subarray(c,c+h))}function je(c){return c==null}Rt.decode();let he=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(c=>{R.__wbindgen_export_5.get(c.dtor)(c.a,c.b)});function Be(c){let h=R.__wbindgen_export_4.get(c);return R.__externref_table_dealloc(c),h}function rt(){return R.getBuildTimeInfo()}function Mt(c){var h=je(c)?0:L(c,R.__wbindgen_malloc,R.__wbindgen_realloc),N=te;let T=R.debug_panic(h,N);if(T[1])throw Be(T[0])}function Ce(c,h,N){R.closure577_externref_shim(c,h,N)}let rr=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(c=>R.__wbg_queryengine_free(c>>>0,1));class nr{__destroy_into_raw(){let h=this.__wbg_ptr;return this.__wbg_ptr=0,rr.unregister(this),h}free(){let h=this.__destroy_into_raw();R.__wbg_queryengine_free(h,0)}constructor(h,N,T){let Q=R.queryengine_new(h,N,T);if(Q[2])throw Be(Q[1]);return this.__wbg_ptr=Q[0]>>>0,rr.register(this,this.__wbg_ptr,this),this}connect(h,N){let T=L(h,R.__wbindgen_malloc,R.__wbindgen_realloc),Q=te,K=L(N,R.__wbindgen_malloc,R.__wbindgen_realloc),X=te;return R.queryengine_connect(this.__wbg_ptr,T,Q,K,X)}disconnect(h,N){let T=L(h,R.__wbindgen_malloc,R.__wbindgen_realloc),Q=te,K=L(N,R.__wbindgen_malloc,R.__wbindgen_realloc),X=te;return R.queryengine_disconnect(this.__wbg_ptr,T,Q,K,X)}query(h,N,T,Q){let K=L(h,R.__wbindgen_malloc,R.__wbindgen_realloc),X=te,_e=L(N,R.__wbindgen_malloc,R.__wbindgen_realloc),Ve=te;var De=je(T)?0:L(T,R.__wbindgen_malloc,R.__wbindgen_realloc),Xt=te;let Bt=L(Q,R.__wbindgen_malloc,R.__wbindgen_realloc),Ar=te;return R.queryengine_query(this.__wbg_ptr,K,X,_e,Ve,De,Xt,Bt,Ar)}startTransaction(h,N,T){let Q=L(h,R.__wbindgen_malloc,R.__wbindgen_realloc),K=te,X=L(N,R.__wbindgen_malloc,R.__wbindgen_realloc),_e=te,Ve=L(T,R.__wbindgen_malloc,R.__wbindgen_realloc),De=te;return R.queryengine_startTransaction(this.__wbg_ptr,Q,K,X,_e,Ve,De)}commitTransaction(h,N,T){let Q=L(h,R.__wbindgen_malloc,R.__wbindgen_realloc),K=te,X=L(N,R.__wbindgen_malloc,R.__wbindgen_realloc),_e=te,Ve=L(T,R.__wbindgen_malloc,R.__wbindgen_realloc),De=te;return R.queryengine_commitTransaction(this.__wbg_ptr,Q,K,X,_e,Ve,De)}rollbackTransaction(h,N,T){let Q=L(h,R.__wbindgen_malloc,R.__wbindgen_realloc),K=te,X=L(N,R.__wbindgen_malloc,R.__wbindgen_realloc),_e=te,Ve=L(T,R.__wbindgen_malloc,R.__wbindgen_realloc),De=te;return R.queryengine_rollbackTransaction(this.__wbg_ptr,Q,K,X,_e,Ve,De)}metrics(h){let N=L(h,R.__wbindgen_malloc,R.__wbindgen_realloc),T=te;return R.queryengine_metrics(this.__wbg_ptr,N,T)}trace(h){let N=L(h,R.__wbindgen_malloc,R.__wbindgen_realloc),T=te;return R.queryengine_trace(this.__wbg_ptr,N,T)}}function ir(c,h){let N=L(String(h),R.__wbindgen_malloc,R.__wbindgen_realloc),T=te;Ie().setInt32(c+4,T,!0),Ie().setInt32(c+0,N,!0)}function m(c){return c.buffer}function y(){return ye(function(c,h){return c.call(h)},arguments)}function w(){return ye(function(c,h,N){return c.call(h,N)},arguments)}function _(c){return c.crypto}function v(c){return c.done}function sr(c){return Object.entries(c)}function Ze(){return ye(function(c,h){c.getRandomValues(h)},arguments)}function Ye(c){return c.getTime()}function or(){return ye(function(c,h){return Reflect.get(c,h)},arguments)}function Pe(c,h){return c[h>>>0]}function Lt(){return ye(function(c,h){return c[h]},arguments)}function Xe(c,h){return c[h]}function wt(){return ye(function(c,h){return Reflect.has(c,h)},arguments)}function ar(c){let h;try{h=c instanceof ArrayBuffer}catch{h=!1}return h}function ne(c){let h;try{h=c instanceof Map}catch{h=!1}return h}function _t(c){let h;try{h=c instanceof Promise}catch{h=!1}return h}function nt(c){let h;try{h=c instanceof Uint8Array}catch{h=!1}return h}function ht(c){return Array.isArray(c)}function We(c){return Number.isSafeInteger(c)}function lt(){return Symbol.iterator}function Ht(c){return Object.keys(c)}function vt(c){return c.length}function se(c){return c.length}function Me(c){return c.msCrypto}function Je(){return new Date}function Nt(c,h){try{var N={a:c,b:h};return new Promise((T,Q)=>{let K=N.a;N.a=0;try{var X;return X=N.b,void R.closure129_externref_shim(K,X,T,Q)}finally{N.a=K}})}finally{N.a=N.b=0}}function it(){return{}}function ct(){return new Map}function lr(){return[]}function Le(c){return new Uint8Array(c)}function Ae(c,h){return new Ge(yt(c,h))}function ae(c,h,N){return new Uint8Array(c,h>>>0,N>>>0)}function $t(c){return new Uint8Array(c>>>0)}function C(c){return c.next}function et(){return ye(function(c){return c.next()},arguments)}function Vt(c){return c.node}function Ft(c){return c.now()}function Ct(){return Date.now()}function Cr(){return ye(function(){return Date.now()},arguments)}function g(c){return c.process}function Gt(c,h){return c.push(h)}function Ut(c){return c.queueMicrotask}function Dr(c){queueMicrotask(c)}function Dt(){return ye(function(c,h){c.randomFillSync(h)},arguments)}function cr(){return ye(function(){return qe.require},arguments)}function qr(c){return Promise.resolve(c)}function le(c,h){return setTimeout(c,h>>>0)}function ur(c,h,N){c[h>>>0]=N}function dr(c,h,N){c[h]=N}function fr(c,h,N){c.set(h,N>>>0)}function hr(c,h,N){return c.set(h,N)}function gr(){return ye(function(c,h,N){return Reflect.set(c,h,N)},arguments)}function Ir(){let c=typeof fe.g>"u"?null:fe.g;return je(c)?0:mt(c)}function Tr(){let c=typeof I>"u"?null:I;return je(c)?0:mt(c)}function pr(){let c=typeof Hn>"u"?null:Hn;return je(c)?0:mt(c)}function mr(){let c=typeof window>"u"?null:window;return je(c)?0:mt(c)}function yr(c,h,N){return c.subarray(h>>>0,N>>>0)}function qt(c,h){return c.then(h)}function Te(c,h,N){return c.then(h,N)}function Kt(c){return c.valueOf()}function zt(c){return c.value}function wr(c){return c.versions}function Zt(c){return+c}function Yt(c){return c}function jr(c){return BigInt.asUintN(64,c)}function It(c,h){let N=typeof h=="bigint"?h:void 0;Ie().setBigInt64(c+8,je(N)?BigInt(0):N,!0),Ie().setInt32(c+0,!je(N),!0)}function _r(c){return typeof c=="boolean"?+!!c:2}function Tt(c){let h=c.original;return h.cnt--==1&&(h.a=0,!0)}function vr(c,h,N){let T={a:c,b:h,cnt:1,dtor:578},Q=(...K)=>{T.cnt++;let X=T.a;T.a=0;try{return Ce(X,T.b,...K)}finally{--T.cnt==0?(R.__wbindgen_export_5.get(T.dtor)(X,T.b),he.unregister(T)):T.a=X}};return Q.original=T,he.register(Q,T,T),Q}function Mr(c,h){let N=L(function Q(K){let X,_e=typeof K;if(_e=="number"||_e=="boolean"||K==null)return`${K}`;if(_e=="string")return`"${K}"`;if(_e=="symbol"){let De=K.description;return De==null?"Symbol":`Symbol(${De})`}if(_e=="function"){let De=K.name;return typeof De=="string"&&De.length>0?`Function(${De})`:"Function"}if(Array.isArray(K)){let De=K.length,Xt="[";De>0&&(Xt+=Q(K[0]));for(let Bt=1;Bt<De;Bt++)Xt+=", "+Q(K[Bt]);return Xt+"]"}let Ve=/\[object ([^\]]+)\]/.exec(toString.call(K));if(!Ve||!(Ve.length>1))return toString.call(K);if((X=Ve[1])=="Object")try{return"Object("+JSON.stringify(K)+")"}catch{return"Object"}return K instanceof Error?`${K.name}: ${K.message}
${K.stack}`:X}(h),R.__wbindgen_malloc,R.__wbindgen_realloc),T=te;Ie().setInt32(c+4,T,!0),Ie().setInt32(c+0,N,!0)}function br(c,h){return Error(yt(c,h))}function Lr(c,h){return c in h}function Er(){let c=R.__wbindgen_export_4,h=c.grow(4);c.set(0,void 0),c.set(h+0,void 0),c.set(h+1,null),c.set(h+2,!0),c.set(h+3,!1)}function Vr(c){return typeof c=="bigint"}function f(c){return typeof c=="function"}function d(c){return typeof c=="object"&&c!==null}function p(c){return typeof c=="string"}function S(c){return c===void 0}function x(c,h){return c===h}function D(c,h){return c==h}function F(){return R.memory}function ie(c,h){let N=typeof h=="number"?h:void 0;Ie().setFloat64(c+8,je(N)?0:N,!0),Ie().setInt32(c+0,!je(N),!0)}function pe(c){return c}function Qe(c,h){let N=typeof h=="string"?h:void 0;var T=je(N)?0:L(N,R.__wbindgen_malloc,R.__wbindgen_realloc),Q=te;Ie().setInt32(c+4,Q,!0),Ie().setInt32(c+0,T,!0)}function Pr(c,h){return yt(c,h)}function Sr(c,h){throw Error(yt(c,h))}},xt.__chunk_2294=(qe,de,fe)=>{"use strict";fe.d(de,{m:()=>Vr});var R,ot,gt,pt,Oe,at,Ge,Ot,te=Object.defineProperty,Ke={};((f,d)=>{for(var p in d)te(f,p,{get:d[p],enumerable:!0})})(Ke,{$:()=>ze,bgBlack:()=>w,bgBlue:()=>Ze,bgCyan:()=>or,bgGreen:()=>v,bgMagenta:()=>Ye,bgRed:()=>_,bgWhite:()=>Pe,bgYellow:()=>sr,black:()=>he,blue:()=>Ce,bold:()=>me,cyan:()=>nr,dim:()=>Ie,gray:()=>m,green:()=>rt,grey:()=>y,hidden:()=>yt,inverse:()=>Rt,italic:()=>mt,magenta:()=>rr,red:()=>Be,reset:()=>L,strikethrough:()=>je,underline:()=>ye,white:()=>ir,yellow:()=>Mt});var ft=!0;typeof process<"u"&&({FORCE_COLOR:R,NODE_DISABLE_COLORS:ot,NO_COLOR:gt,TERM:pt}=process.env||{},ft=process.stdout&&process.stdout.isTTY);var ze={enabled:!ot&&gt==null&&pt!=="dumb"&&(R!=null&&R!=="0"||ft)};function U(f,d){let p=RegExp(`\\x1b\\[${d}m`,"g"),S=`\x1B[${f}m`,x=`\x1B[${d}m`;return function(D){return ze.enabled&&D!=null?S+(~(""+D).indexOf(x)?D.replace(p,x+S):D)+x:D}}var L=U(0,0),me=U(1,22),Ie=U(2,22),mt=U(3,23),ye=U(4,24),Rt=U(7,27),yt=U(8,28),je=U(9,29),he=U(30,39),Be=U(31,39),rt=U(32,39),Mt=U(33,39),Ce=U(34,39),rr=U(35,39),nr=U(36,39),ir=U(37,39),m=U(90,39),y=U(90,39),w=U(40,49),_=U(41,49),v=U(42,49),sr=U(43,49),Ze=U(44,49),Ye=U(45,49),or=U(46,49),Pe=U(47,49),Lt=["green","yellow","blue","magenta","cyan","red"],Xe=[],wt=Date.now(),ar=0,ne=typeof process<"u"?process.env:{};I.DEBUG??=ne.DEBUG??"",I.DEBUG_COLORS??=!ne.DEBUG_COLORS||ne.DEBUG_COLORS==="true";var _t={enable(f){typeof f=="string"&&(I.DEBUG=f)},disable(){let f=I.DEBUG;return I.DEBUG="",f},enabled(f){let d=I.DEBUG.split(",").map(x=>x.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),p=d.some(x=>x!==""&&x[0]!=="-"&&f.match(RegExp(x.split("*").join(".*")+"$"))),S=d.some(x=>x!==""&&x[0]==="-"&&f.match(RegExp(x.slice(1).split("*").join(".*")+"$")));return p&&!S},log:(...f)=>{let[d,p,...S]=f;(console.warn??console.log)(`${d} ${p}`,...S)},formatters:{}},nt=new Proxy(function(f){let d={color:Lt[ar++%Lt.length],enabled:_t.enabled(f),namespace:f,log:_t.log,extend:()=>{}};return new Proxy((...p)=>{let{enabled:S,namespace:x,color:D,log:F}=d;if(p.length!==0&&Xe.push([x,...p]),Xe.length>100&&Xe.shift(),_t.enabled(x)||S){let ie=p.map(Qe=>typeof Qe=="string"?Qe:function(Pr,Sr=2){let c=new Set;return JSON.stringify(Pr,(h,N)=>{if(typeof N=="object"&&N!==null){if(c.has(N))return"[Circular *]";c.add(N)}else if(typeof N=="bigint")return N.toString();return N},Sr)}(Qe)),pe=`+${Date.now()-wt}ms`;wt=Date.now(),I.DEBUG_COLORS?F(Ke[D](me(x)),...ie,Ke[D](pe)):F(x,...ie,pe)}},{get:(p,S)=>d[S],set:(p,S,x)=>d[S]=x})},{get:(f,d)=>_t[d],set:(f,d,p)=>_t[d]=p}),ht=class extends Error{name="DriverAdapterError";cause;constructor(f){super(typeof f.message=="string"?f.message:f.kind),this.cause=f}};nt("driver-adapter-utils");var We={Int32:0,Int64:1,Boolean:5,Text:7,DateTime:10,Bytes:13,UnknownNumber:128};Error("Not implemented: queryRaw"),Error("Not implemented: executeRaw"),Error("Not implemented: startTransaction"),Error("Not implemented: executeScript"),Error("Not implemented: dispose");class lt extends Error{response;request;options;constructor(d,p,S){let x=d.status||d.status===0?d.status:"",D=d.statusText||"",F=`${x} ${D}`.trim();super(`Request failed with ${F?`status code ${F}`:"an unknown error"}: ${p.method} ${p.url}`),this.name="HTTPError",this.response=d,this.request=p,this.options=S}}class Ht extends Error{request;constructor(d){super(`Request timed out: ${d.method} ${d.url}`),this.name="TimeoutError",this.request=d}}let vt=f=>f!==null&&typeof f=="object",se=(...f)=>{for(let d of f)if((!vt(d)||Array.isArray(d))&&d!==void 0)throw TypeError("The `options` argument must be an object");return it({},...f)},Me=(f={},d={})=>{let p=new I.Headers(f),S=d instanceof I.Headers;for(let[x,D]of new I.Headers(d).entries())S&&D==="undefined"||D===void 0?p.delete(x):p.set(x,D);return p};function Je(f,d,p){return Object.hasOwn(d,p)&&d[p]===void 0?[]:it(f[p]??[],d[p]??[])}let Nt=(f={},d={})=>({beforeRequest:Je(f,d,"beforeRequest"),beforeRetry:Je(f,d,"beforeRetry"),afterResponse:Je(f,d,"afterResponse"),beforeError:Je(f,d,"beforeError")}),it=(...f)=>{let d={},p={},S={};for(let x of f)if(Array.isArray(x))Array.isArray(d)||(d=[]),d=[...d,...x];else if(vt(x)){for(let[D,F]of Object.entries(x))vt(F)&&D in d&&(F=it(d[D],F)),d={...d,[D]:F};vt(x.hooks)&&(S=Nt(S,x.hooks),d.hooks=S),vt(x.headers)&&(p=Me(p,x.headers),d.headers=p)}return d},ct=(()=>{let f=!1,d=!1,p=typeof I.Request=="function";if(typeof I.ReadableStream=="function"&&p)try{d=new I.Request("https://empty.invalid",{body:new I.ReadableStream,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type")}catch(S){if(S instanceof Error&&S.message==="unsupported BodyInit type")return!1;throw S}return f&&!d})(),lr=typeof I.AbortController=="function",Le=typeof I.ReadableStream=="function",Ae=typeof I.FormData=="function",ae=["get","post","put","patch","head","delete"],$t={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},C=Symbol("stop"),et={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},Vt={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},Ft={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:[413,429,503],maxRetryAfter:1/0,backoffLimit:1/0,delay:f=>.3*2**(f-1)*1e3};async function Ct(f,d,p,S){return new Promise((x,D)=>{let F=setTimeout(()=>{p&&p.abort(),D(new Ht(f))},S.timeout);S.fetch(f,d).then(x).catch(D).then(()=>{clearTimeout(F)})})}async function Cr(f,{signal:d}){return new Promise((p,S)=>{function x(){clearTimeout(D),S(d.reason)}d&&(d.throwIfAborted(),d.addEventListener("abort",x,{once:!0}));let D=setTimeout(()=>{d?.removeEventListener("abort",x),p()},f)})}class g{static create(d,p){let S=new g(d,p),x=async()=>{if(typeof S._options.timeout=="number"&&S._options.timeout>2147483647)throw RangeError("The `timeout` option cannot be greater than 2147483647");await Promise.resolve();let F=await S._fetch();for(let ie of S._options.hooks.afterResponse){let pe=await ie(S.request,S._options,S._decorateResponse(F.clone()));pe instanceof I.Response&&(F=pe)}if(S._decorateResponse(F),!F.ok&&S._options.throwHttpErrors){let ie=new lt(F,S.request,S._options);for(let pe of S._options.hooks.beforeError)ie=await pe(ie);throw ie}if(S._options.onDownloadProgress){if(typeof S._options.onDownloadProgress!="function")throw TypeError("The `onDownloadProgress` option must be a function");if(!Le)throw Error("Streams are not supported in your environment. `ReadableStream` is missing.");return S._stream(F.clone(),S._options.onDownloadProgress)}return F},D=S._options.retry.methods.includes(S.request.method.toLowerCase())?S._retry(x):x();for(let[F,ie]of Object.entries($t))D[F]=async()=>{S.request.headers.set("accept",S.request.headers.get("accept")||ie);let pe=await D;if(F==="json"){if(pe.status===204||(await pe.clone().arrayBuffer()).byteLength===0)return"";if(p.parseJson)return p.parseJson(await pe.text())}return pe[F]()};return D}request;abortController;_retryCount=0;_input;_options;constructor(d,p={}){if(this._input=d,this._options={...p,headers:Me(this._input.headers,p.headers),hooks:Nt({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},p.hooks),method:(S=>ae.includes(S)?S.toUpperCase():S)(p.method??this._input.method??"GET"),prefixUrl:String(p.prefixUrl||""),retry:((S={})=>{if(typeof S=="number")return{...Ft,limit:S};if(S.methods&&!Array.isArray(S.methods))throw Error("retry.methods must be an array");if(S.statusCodes&&!Array.isArray(S.statusCodes))throw Error("retry.statusCodes must be an array");return{...Ft,...S}})(p.retry),throwHttpErrors:p.throwHttpErrors!==!1,timeout:p.timeout??1e4,fetch:p.fetch??I.fetch.bind(I)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof I.Request))throw TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(lr){this.abortController=new I.AbortController;let S=this._options.signal??this._input.signal;S?.aborted&&this.abortController.abort(S?.reason),S?.addEventListener("abort",()=>{this.abortController.abort(S.reason)}),this._options.signal=this.abortController.signal}if(ct&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=this._options.stringifyJson?.(this._options.json)??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new I.Request(this._input,this._options),this._options.searchParams){let S=typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString(),x=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,"?"+S);(Ae&&this._options.body instanceof I.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new I.Request(new I.Request(x,{...this.request}),this._options)}}_calculateRetryDelay(d){if(this._retryCount++,this._retryCount>this._options.retry.limit||d instanceof Ht)throw d;if(d instanceof lt){if(!this._options.retry.statusCodes.includes(d.response.status))throw d;let S=d.response.headers.get("Retry-After")??d.response.headers.get("RateLimit-Reset")??d.response.headers.get("X-RateLimit-Reset")??d.response.headers.get("X-Rate-Limit-Reset");if(S&&this._options.retry.afterStatusCodes.includes(d.response.status)){let x=1e3*Number(S);Number.isNaN(x)?x=Date.parse(S)-Date.now():x>=Date.parse("2024-01-01")&&(x-=Date.now());let D=this._options.retry.maxRetryAfter??x;return x<D?x:D}if(d.response.status===413)throw d}let p=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,p)}_decorateResponse(d){return this._options.parseJson&&(d.json=async()=>this._options.parseJson(await d.text())),d}async _retry(d){try{return await d()}catch(p){let S=Math.min(this._calculateRetryDelay(p),2147483647);if(this._retryCount<1)throw p;for(let x of(await Cr(S,{signal:this._options.signal}),this._options.hooks.beforeRetry))if(await x({request:this.request,options:this._options,error:p,retryCount:this._retryCount})===C)return;return this._retry(d)}}async _fetch(){for(let S of this._options.hooks.beforeRequest){let x=await S(this.request,this._options);if(x instanceof Request){this.request=x;break}if(x instanceof Response)return x}let d=((S,x)=>{let D={};for(let F in x)F in Vt||F in et||F in S||(D[F]=x[F]);return D})(this.request,this._options),p=this.request;return this.request=p.clone(),this._options.timeout===!1?this._options.fetch(p,d):Ct(p,d,this.abortController,this._options)}_stream(d,p){let S=Number(d.headers.get("content-length"))||0,x=0;return d.status===204?(p&&p({percent:1,totalBytes:S,transferredBytes:x},new Uint8Array),new I.Response(null,{status:d.status,statusText:d.statusText,headers:d.headers})):new I.Response(new I.ReadableStream({async start(D){let F=d.body.getReader();async function ie(){let{done:pe,value:Qe}=await F.read();if(pe)return void D.close();p&&(x+=Qe.byteLength,p({percent:S===0?0:x/S,transferredBytes:x,totalBytes:S},Qe)),D.enqueue(Qe),await ie()}p&&p({percent:0,transferredBytes:0,totalBytes:S},new Uint8Array),await ie()}}),{status:d.status,statusText:d.statusText,headers:d.headers})}}let Gt=f=>{let d=(p,S)=>g.create(p,se(f,S));for(let p of ae)d[p]=(S,x)=>g.create(S,se(f,x,{method:p}));return d.create=p=>Gt(se(p)),d.extend=p=>(typeof p=="function"&&(p=p(f??{})),Gt(se(f,p))),d.stop=C,d},Ut=Gt();var Dr=fe(5356).Buffer,Dt="@prisma/adapter-d1",cr=!0;typeof process<"u"&&({FORCE_COLOR:Oe,NODE_DISABLE_COLORS:at,NO_COLOR:Ge,TERM:Ot}=process.env||{},cr=process.stdout&&process.stdout.isTTY);var qr={enabled:!at&&Ge==null&&Ot!=="dumb"&&(Oe!=null&&Oe!=="0"||cr)};function le(f,d){let p=RegExp(`\\x1b\\[${d}m`,"g"),S=`\x1B[${f}m`,x=`\x1B[${d}m`;return function(D){return qr.enabled&&D!=null?S+(~(""+D).indexOf(x)?D.replace(p,x+S):D)+x:D}}le(0,0),le(1,22),le(2,22),le(3,23),le(4,24),le(7,27),le(8,28),le(9,29),le(30,39);var ur=le(31,39);le(32,39);var dr=le(33,39),fr=le(34,39);le(35,39);var hr=le(36,39);function gr(f,d){let p=[];e:for(let S=0;S<f.length;S++){for(let x=0;x<d.length;x++){let D=d[x][S];if(D!==null){let F=function(ie){switch(typeof ie){case"string":return function(Qe){return Ir.test(Qe)||Tr.test(Qe)?We.DateTime:We.Text}(ie);case"number":return We.UnknownNumber;case"object":var pe=ie;if(pe instanceof Array)return We.Bytes;throw new pr(pe);default:throw new pr(ie)}}(D);if((p[S]===void 0||F===We.Text)&&(p[S]=F),F!==We.UnknownNumber)continue e}}p[S]===void 0&&(p[S]=We.Int32)}return p}le(37,39),le(90,39),le(90,39),le(40,49),le(41,49),le(42,49),le(43,49),le(44,49),le(45,49),le(46,49),le(47,49);var Ir=new RegExp(/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))$|^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$|^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/),Tr=/^\d{4}-[0-1]\d-[0-3]\d [0-2]\d:[0-5]\d:[0-5]\d$/,pr=class extends Error{name="UnexpectedTypeError";constructor(f){let d=typeof f;super(`unexpected value of type ${d}: ${d==="object"?JSON.stringify(f):String(f)}`)}};function mr(f,d){for(let p=0;p<f.length;p++){let S=f[p];if(S instanceof ArrayBuffer){f[p]=Array.from(new Uint8Array(S));continue}if(typeof S=="number"&&(d[p]===We.Int32||d[p]===We.Int64)&&!Number.isInteger(S)){f[p]=Math.trunc(S);continue}if(typeof S=="number"&&d[p]===We.Text||typeof S=="bigint"){f[p]=S.toString();continue}d[p]===We.Boolean&&(f[p]=JSON.parse(S))}return f}function yr(f,d){if(f===null)return null;if(typeof f=="bigint"||d.scalarType==="bigint"){let p=Number.parseInt(`${f}`);if(!Number.isSafeInteger(p))throw Error(`Invalid Int64-encoded value received: ${f}`);return p}return typeof f=="string"&&d.scalarType==="int"?Number.parseInt(f):typeof f=="string"&&d.scalarType==="float"||typeof f=="string"&&d.scalarType==="decimal"?Number.parseFloat(f):f===!0?1:f===!1?0:(typeof f=="string"&&d.scalarType==="datetime"&&(f=new Date(f)),f instanceof Date?f.toISOString().replace("Z","+00:00"):typeof f=="string"&&d.scalarType==="bytes"?Array.from(Dr.from(f,"base64")):f instanceof Uint8Array?Array.from(f):f)}function qt(f){if(typeof f.message=="string")return{originalMessage:f.message,...function(d){let p=d.message.split("D1_ERROR: ").at(1)??d.message;if((p=p.split("SqliteError: ").at(1)??p).startsWith("UNIQUE constraint failed")||p.startsWith("PRIMARY KEY constraint failed")){let S=p.split(": ").at(1)?.split(", ").map(x=>x.split(".").pop());return{kind:"UniqueConstraintViolation",constraint:S!==void 0?{fields:S}:void 0}}if(p.startsWith("NOT NULL constraint failed")){let S=p.split(": ").at(1)?.split(", ").map(x=>x.split(".").pop());return{kind:"NullConstraintViolation",constraint:S!==void 0?{fields:S}:void 0}}return p.startsWith("FOREIGN KEY constraint failed")||p.startsWith("CHECK constraint failed")?{kind:"ForeignKeyConstraintViolation",constraint:{foreignKey:{}}}:p.startsWith("no such table")?{kind:"TableDoesNotExist",table:p.split(": ").at(1)}:p.startsWith("no such column")?{kind:"ColumnNotFound",column:p.split(": ").at(1)}:p.includes("has no column named ")?{kind:"ColumnNotFound",column:p.split("has no column named ").at(1)}:{kind:"sqlite",extendedCode:d.code??d.cause?.code??1,message:d.message}}(f)};throw f}var Te=nt("prisma:driver-adapter:d1-http");function Kt({errors:f}){throw Te("D1 HTTP Errors: %O",f),new ht(qt(f.at(0)??{message:"Unknown error",code:1}))}function zt(f){throw Te("HTTP Error: %O",f),new ht(qt(f))}function wr(f){throw console.error("Error in performIO: %O",f),new ht(qt(f))}async function Zt(f,d){try{let p=await f.post("raw",d).json();return Te("[js::performRawQuery] %O",{success:p.success,errors:p.errors,messages:p.messages,result:p.result}),p.success||Kt(p),p.result}catch(p){zt(p)}}var Yt=class{constructor(f){this.client=f}provider="sqlite";adapterName=`${Dt}-http`;async queryRaw(f){Te("[js::query_raw] %O",f);let d=await this.performIO(f);return this.convertData(d)}convertData({columnNames:f,rows:d}){if(d.length===0)return{columnNames:[],columnTypes:[],rows:[]};let p=gr(f,d),S=d.map(x=>mr(x,p));return{columnNames:f,columnTypes:p,rows:S}}async executeRaw(f){return Te("[js::execute_raw] %O",f),(await this.performIO(f)).affectedRows??0}async performIO(f){try{let d={json:{sql:f.sql,params:f.args.map((ie,pe)=>yr(ie,f.argTypes[pe]))}};Te("[js::perform_io] %O",d);let p=await Zt(this.client,d);if(p.length!==1)throw Error("Expected exactly one result");let S=p[0],{columns:x=[],rows:D=[]}=S.results??{},F=S.meta?.changes;return{rows:D,columnNames:x,affectedRows:F}}catch(d){wr(d)}}},jr=class extends Yt{constructor(f,d){super(f),this.options=d}async commit(){Te("[js::commit]")}async rollback(){Te("[js::rollback]")}},It=class extends Yt{constructor(f,d){super(Ut.create({prefixUrl:`https://api.cloudflare.com/client/v4/accounts/${f.CLOUDFLARE_ACCOUNT_ID}/d1/database/${f.CLOUDFLARE_DATABASE_ID}`,headers:{Authorization:`Bearer ${f.CLOUDFLARE_D1_TOKEN}`},throwHttpErrors:!1})),this.release=d}tags={error:ur("prisma:error"),warn:dr("prisma:warn"),info:hr("prisma:info"),query:fr("prisma:query")};alreadyWarned=new Set;warnOnce=(f,d,...p)=>{this.alreadyWarned.has(f)||(this.alreadyWarned.add(f),console.info(`${this.tags.warn} ${d}`,...p))};async executeScript(f){try{await Zt(this.client,{json:{sql:f}})}catch(d){wr(d)}}getConnectionInfo(){return{maxBindValues:98,supportsRelationJoins:!1}}async startTransaction(f){if(f&&f!=="SERIALIZABLE")throw new ht({kind:"InvalidIsolationLevel",level:f});this.warnOnce("D1 Transaction","Cloudflare D1 does not support transactions yet. When using Prisma's D1 adapter, implicit & explicit transactions will be ignored and run as individual queries, which breaks the guarantees of the ACID properties of transactions. For more details see https://pris.ly/d/d1-transactions");let d={usePhantomQuery:!0};return Te("%s options: %O","[js::startTransaction]",d),new jr(this.client,d)}async dispose(){await this.release?.()}},_r=class{constructor(f){this.params=f}provider="sqlite";adapterName=`${Dt}-http`;async connect(){return new It(this.params,async()=>{})}async connectToShadowDb(){let f=`https://api.cloudflare.com/client/v4/accounts/${this.params.CLOUDFLARE_ACCOUNT_ID}/d1/database`,d=Ut.create({headers:{Authorization:`Bearer ${this.params.CLOUDFLARE_D1_TOKEN}`},throwHttpErrors:!1}),p=async()=>{let D="[js::connectToShadowDb::createShadowDatabase]",F=`_prisma_shadow_${I.crypto.randomUUID()}`;Te(`${D} creating database %s`,F);try{let ie=await d.post(f,{json:{name:F}}).json();Te(`${D} %O`,ie),ie.success||Kt(ie);let{uuid:pe}=ie.result;return Te(`${D} created database %s with ID %s`,F,pe),pe}catch(ie){zt(ie)}},S=this.params.CLOUDFLARE_SHADOW_DATABASE_ID??await p(),x=async()=>{let D="[js::connectToShadowDb::dispose]";try{Te(`${D} deleting database %s`,S);let F=await d.delete(`${f}/${S}`).json();Te(`${D} %O`,F),F.success||Kt(F)}catch(F){zt(F)}};return new It(this.params,x)}},Tt=nt("prisma:driver-adapter:d1"),vr=class{constructor(f){this.client=f}provider="sqlite";adapterName=Dt;async queryRaw(f){Tt("[js::query_raw] %O",f);let d=await this.performIO(f);return this.convertData(d)}convertData(f){let d=f[0],p=f[1];if(p.length===0)return{columnNames:[],columnTypes:[],rows:[]};let S=Object.values(gr(d,p)),x=p.map(D=>mr(D,S));return{columnNames:d,columnTypes:S,rows:x}}async executeRaw(f){return Tt("[js::execute_raw] %O",f),(await this.performIO(f,!0)).meta.changes??0}async performIO(f,d=!1){try{let p=f.args.map((x,D)=>yr(x,f.argTypes[D])),S=this.client.prepare(f.sql).bind(...p);if(d)return await S.run();{let[x,...D]=await S.raw({columnNames:!0});return[x,D]}}catch(p){Er(p)}}},Mr=class extends vr{constructor(f,d){super(f),this.options=d}async commit(){Tt("[js::commit]")}async rollback(){Tt("[js::rollback]")}},br=class extends vr{constructor(f,d){super(f),this.release=d}tags={error:ur("prisma:error"),warn:dr("prisma:warn"),info:hr("prisma:info"),query:fr("prisma:query")};alreadyWarned=new Set;warnOnce=(f,d,...p)=>{this.alreadyWarned.has(f)||(this.alreadyWarned.add(f),console.info(`${this.tags.warn} ${d}`,...p))};async executeScript(f){try{await this.client.exec(f)}catch(d){Er(d)}}getConnectionInfo(){return{maxBindValues:98,supportsRelationJoins:!1}}async startTransaction(f){if(f&&f!=="SERIALIZABLE")throw new ht({kind:"InvalidIsolationLevel",level:f});this.warnOnce("D1 Transaction","Cloudflare D1 does not support transactions yet. When using Prisma's D1 adapter, implicit & explicit transactions will be ignored and run as individual queries, which breaks the guarantees of the ACID properties of transactions. For more details see https://pris.ly/d/d1-transactions");let d={usePhantomQuery:!0};return Tt("%s options: %O","[js::startTransaction]",d),new Mr(this.client,d)}async dispose(){await this.release?.()}},Lr=class{constructor(f){this.client=f}provider="sqlite";adapterName=Dt;async connect(){return new br(this.client,async()=>{})}};function Er(f){throw console.error("Error in performIO: %O",f),new ht(qt(f))}var Vr=class{provider="sqlite";adapterName=Dt;connect;connectToShadowDb;constructor(f){if(function(d){return typeof d=="object"&&d!==null&&"CLOUDFLARE_D1_TOKEN"in d&&"CLOUDFLARE_ACCOUNT_ID"in d&&"CLOUDFLARE_DATABASE_ID"in d}(f)){let d=new _r(f);this.connect=d.connect.bind(d),this.connectToShadowDb=d.connectToShadowDb.bind(d)}else{let d=new Lr(f);this.connect=d.connect.bind(d)}}}},xt.__chunk_1559=(qe,de,fe)=>{qe.exports={...fe(4637)}},xt);export{Fo as __getNamedExports};
